"use strict";(self.webpackChunktatasteel=self.webpackChunktatasteel||[]).push([[835],{2835:(H,O,g)=>{g.r(O),g.d(O,{SteamSuitSettingsModule:()=>Nn});var r=g(433),k=g(9646),e=g(4650),T=g(2953),F=g(6669),y=g(9569),D=g(1305),N=g(2216),I=g(6895),M=g(3056),V=g(3608);function j(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"span",11),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.label)}}function L(a,o){if(1&a&&e.\u0275\u0275element(0,"span",12),2&a){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("innerHTML",t.label,e.\u0275\u0275sanitizeHtml)}}const z=function(){return{exact:!1}};function $(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",7),e.\u0275\u0275listener("click",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext(),l=s.$implicit,m=s.index,c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.itemClick(n,l,m))})("keydown.enter",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext(),l=s.$implicit,m=s.index,c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.itemClick(n,l,m))}),e.\u0275\u0275elementStart(1,"span",8),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,j,2,1,"span",9),e.\u0275\u0275template(4,L,1,1,"ng-template",null,10,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()}if(2&a){const t=e.\u0275\u0275reference(5),i=e.\u0275\u0275nextContext(),n=i.$implicit,s=i.index,l=e.\u0275\u0275nextContext();e.\u0275\u0275property("routerLink",n.routerLink)("queryParams",n.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",n.routerLinkActiveOptions||e.\u0275\u0275pureFunction0(16,z))("target",n.target)("fragment",n.fragment)("queryParamsHandling",n.queryParamsHandling)("preserveFragment",n.preserveFragment)("skipLocationChange",n.skipLocationChange)("replaceUrl",n.replaceUrl)("state",n.state),e.\u0275\u0275attribute("id",n.id)("tabindex",n.disabled||l.readonly?null:n.tabindex?n.tabindex:"0"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(s+1),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!1!==n.escape)("ngIfElse",t)}}function q(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"span",11),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.label)}}function P(a,o){if(1&a&&e.\u0275\u0275element(0,"span",12),2&a){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("innerHTML",t.label,e.\u0275\u0275sanitizeHtml)}}function h(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",13),e.\u0275\u0275listener("click",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext(),l=s.$implicit,m=s.index,c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.itemClick(n,l,m))})("keydown.enter",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext(),l=s.$implicit,m=s.index,c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.itemClick(n,l,m))}),e.\u0275\u0275elementStart(1,"span",8),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,q,2,1,"span",9),e.\u0275\u0275template(4,P,1,1,"ng-template",null,14,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()}if(2&a){const t=e.\u0275\u0275reference(5),i=e.\u0275\u0275nextContext(),n=i.$implicit,s=i.index,l=e.\u0275\u0275nextContext();e.\u0275\u0275property("target",n.target),e.\u0275\u0275attribute("href",n.url,e.\u0275\u0275sanitizeUrl)("id",n.id)("tabindex",n.disabled||s!==l.activeIndex&&l.readonly?null:n.tabindex?n.tabindex:"0"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(s+1),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!1!==n.escape)("ngIfElse",t)}}const C=function(a,o){return{"p-highlight p-steps-current":a,"p-disabled":o}};function p(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"li",3,4),e.\u0275\u0275template(2,$,6,17,"a",5),e.\u0275\u0275template(3,h,6,7,"ng-template",null,6,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&a){const t=o.$implicit,i=o.index,n=e.\u0275\u0275reference(4),s=e.\u0275\u0275nextContext();e.\u0275\u0275classMap(t.styleClass),e.\u0275\u0275property("ngStyle",t.style)("tooltipOptions",t.tooltipOptions)("ngClass",e.\u0275\u0275pureFunction2(9,C,s.isActive(t,i),t.disabled||s.readonly&&!s.isActive(t,i))),e.\u0275\u0275attribute("aria-selected",i===s.activeIndex)("aria-expanded",i===s.activeIndex),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",s.isClickableRouterLink(t))("ngIfElse",n)}}const x=function(a){return{"p-steps p-component":!0,"p-readonly":a}};let f=(()=>{class a{constructor(t,i,n){this.router=t,this.route=i,this.cd=n,this.activeIndex=0,this.readonly=!0,this.activeIndexChange=new e.EventEmitter}ngOnInit(){this.subscription=this.router.events.subscribe(()=>this.cd.markForCheck())}itemClick(t,i,n){this.readonly||i.disabled?t.preventDefault():(this.activeIndexChange.emit(n),!i.url&&!i.routerLink&&t.preventDefault(),i.command&&i.command({originalEvent:t,item:i,index:n}))}isClickableRouterLink(t){return t.routerLink&&!this.readonly&&!t.disabled}isActive(t,i){if(t.routerLink){let n=Array.isArray(t.routerLink)?t.routerLink:[t.routerLink];return this.router.isActive(this.router.createUrlTree(n,{relativeTo:this.route}).toString(),!1)}return i===this.activeIndex}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(y.F0),e.\u0275\u0275directiveInject(y.gz),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["p-steps"]],hostAttrs:[1,"p-element"],inputs:{activeIndex:"activeIndex",model:"model",readonly:"readonly",style:"style",styleClass:"styleClass"},outputs:{activeIndexChange:"activeIndexChange"},decls:3,vars:7,consts:[[3,"ngClass","ngStyle"],["role","tablist"],["class","p-steps-item","role","tab","pTooltip","",3,"ngStyle","class","tooltipOptions","ngClass",4,"ngFor","ngForOf"],["role","tab","pTooltip","",1,"p-steps-item",3,"ngStyle","tooltipOptions","ngClass"],["menuitem",""],["role","presentation","class","p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","keydown.enter",4,"ngIf","ngIfElse"],["elseBlock",""],["role","presentation",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","keydown.enter"],[1,"p-steps-number"],["class","p-steps-title",4,"ngIf","ngIfElse"],["htmlLabel",""],[1,"p-steps-title"],[1,"p-steps-title",3,"innerHTML"],["role","presentation",1,"p-menuitem-link",3,"target","click","keydown.enter"],["htmlRouteLabel",""]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"ul",1),e.\u0275\u0275template(2,p,5,12,"li",2),e.\u0275\u0275elementEnd()()),2&t&&(e.\u0275\u0275classMap(i.styleClass),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(5,x,i.readonly))("ngStyle",i.style),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",i.model))},dependencies:[I.NgClass,I.NgForOf,I.NgIf,I.NgStyle,y.yS,y.Od,V.u],styles:[".p-steps{position:relative}.p-steps ul{padding:0;margin:0;list-style-type:none;display:flex}.p-steps-item{position:relative;display:flex;justify-content:center;flex:1 1 auto}.p-steps-item .p-menuitem-link{display:inline-flex;flex-direction:column;align-items:center;overflow:hidden;text-decoration:none}.p-steps.p-steps-readonly .p-steps-item{cursor:auto}.p-steps-item.p-steps-current .p-menuitem-link{cursor:default}.p-steps-title{white-space:nowrap}.p-steps-number{display:flex;align-items:center;justify-content:center}.p-steps-title{display:block}\n"],encapsulation:2,changeDetection:0}),a})(),w=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({imports:[I.CommonModule,y.Bz,V.z,y.Bz,V.z]}),a})();var Q=g(805),U=(g(8621),g(4153)),B=g(64);const Y=["roiInfo"],X=["crowdCount"],Z=["CCNameChangeModal"],K=["FireNameModal"],J=["ROINameChangeModal"],ee=["canvasContainer"],te=["ROINameModal"],ne=["TCNameModal"],ae=["ccForFrame"],ie=["CCType"];function re(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",66),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.RoiName())}),e.\u0275\u0275text(1,"Confirm ROI"),e.\u0275\u0275elementEnd()}}function se(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div",11),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=o.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t," ")}}function oe(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr",73)(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td",79),e.\u0275\u0275listener("dblclick",function(){const s=e.\u0275\u0275restoreView(t).index,l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.AlterROIName(s))}),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275template(6,se,2,1,"div",80),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td")(8,"button",81),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).index,l=e.\u0275\u0275nextContext(3),m=e.\u0275\u0275reference(105);return e.\u0275\u0275resetView(l.isDelete(s,m,"RA"))}),e.\u0275\u0275text(9,"Delete"),e.\u0275\u0275elementEnd()()()}if(2&a){const t=o.$implicit,i=o.index;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.roi_name),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.roi_data.label_name)}}function le(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=o.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",t," ")}}function me(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275template(6,le,2,1,"div",78),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td")(8,"button",82),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(n.OnDeleteTCROI())}),e.\u0275\u0275element(9,"fa-icon",83),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(10,"hr"),e.\u0275\u0275elementEnd()}if(2&a){const t=o.$implicit,i=o.index;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.area_name),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.class_name)}}function ce(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div",10)(1,"div",69)(2,"div",70)(3,"b"),e.\u0275\u0275text(4," ROI list"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div",71)(6,"table",72)(7,"thead")(8,"tr",73)(9,"th",74),e.\u0275\u0275text(10,"SI no"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"th",74),e.\u0275\u0275text(12,"ROI name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"th",74),e.\u0275\u0275text(14,"Object"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"th",74),e.\u0275\u0275element(16,"fa-icon",75),e.\u0275\u0275text(17,"Settings "),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(18,"tbody"),e.\u0275\u0275template(19,oe,10,3,"tr",76),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(20,"div",77),e.\u0275\u0275text(21,"Traffic Count Details"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"table")(23,"thead")(24,"tr")(25,"th",74),e.\u0275\u0275text(26,"Index"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"th",74),e.\u0275\u0275text(28,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"th",74),e.\u0275\u0275text(30,"Objects"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(31,"th"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(32,"tbody"),e.\u0275\u0275template(33,me,11,3,"tr",78),e.\u0275\u0275elementEnd()()()()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(19),e.\u0275\u0275property("ngForOf",t.allCameraData),e.\u0275\u0275advance(14),e.\u0275\u0275property("ngForOf",t.cameraData.tc_data)}}function de(a,o){1&a&&(e.\u0275\u0275elementStart(0,"div",10)(1,"div",27)(2,"div",84)(3,"h5"),e.\u0275\u0275text(4," No roi is added,click add button to add ROI and right click to confirm the ROI"),e.\u0275\u0275elementEnd()()()())}function pe(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div",9),e.\u0275\u0275template(1,ce,34,2,"div",67),e.\u0275\u0275template(2,de,5,0,"ng-template",null,68,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275reference(3),i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.allCameraData.length>0)("ngIfElse",t)}}function ue(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div",11),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=o.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t," ")}}function _e(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr",73)(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td",79),e.\u0275\u0275listener("dblclick",function(){const s=e.\u0275\u0275restoreView(t).index,l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.AlterROIName(s))}),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275template(6,ue,2,1,"div",80),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td")(8,"button",81),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).index,l=e.\u0275\u0275nextContext(3),m=e.\u0275\u0275reference(105);return e.\u0275\u0275resetView(l.isDelete(s,m,"RA"))}),e.\u0275\u0275text(9,"Delete"),e.\u0275\u0275elementEnd()()()}if(2&a){const t=o.$implicit,i=o.index;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.roi_name),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.roi_data.label_name)}}function he(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"table",87)(1,"thead")(2,"tr",73)(3,"th",74),e.\u0275\u0275text(4,"SI no"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"th",74),e.\u0275\u0275text(6,"ROI name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"th",74),e.\u0275\u0275text(8,"Objects"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"th",74),e.\u0275\u0275element(10,"fa-icon",75),e.\u0275\u0275text(11,"Settings "),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(12,"tbody"),e.\u0275\u0275template(13,_e,10,3,"tr",76),e.\u0275\u0275elementEnd()()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(13),e.\u0275\u0275property("ngForOf",t.allCameraData)}}function ge(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"li",85)(1,"ng-scrollbar",21,22)(3,"h5",36),e.\u0275\u0275text(4,"Danger Zone Details:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,he,14,1,"table",86),e.\u0275\u0275elementEnd()()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("autoHeightDisabled",!1)("disabled",!1),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",t.cameraData.roi_data.length>0)}}function fe(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=o.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",t," ")}}function ve(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275template(6,fe,2,1,"div",78),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td")(8,"button",82),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).index,l=e.\u0275\u0275nextContext(3),m=e.\u0275\u0275reference(109);return e.\u0275\u0275resetView(l.isDelete(s,m,"tc"))}),e.\u0275\u0275element(9,"fa-icon",83),e.\u0275\u0275elementEnd()()()}if(2&a){const t=o.$implicit,i=o.index;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.area_name),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.class_name)}}function Ce(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div")(1,"table",87)(2,"thead")(3,"tr")(4,"th",74),e.\u0275\u0275text(5,"Index"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"th",74),e.\u0275\u0275text(7,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"th",74),e.\u0275\u0275text(9,"Objects"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"th"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"tbody"),e.\u0275\u0275template(12,ve,10,3,"tr",78),e.\u0275\u0275elementEnd()()()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(12),e.\u0275\u0275property("ngForOf",t.cameraData.tc_data)}}function xe(a,o){1&a&&(e.\u0275\u0275elementStart(0,"li",85)(1,"ng-scrollbar",21,22)(3,"h5",36),e.\u0275\u0275text(4,"Traffic count Details:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,Ce,13,1,"div",88),e.\u0275\u0275elementEnd()()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("autoHeightDisabled",!1)("disabled",!1),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",!0))}function Se(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"li")(1,"span",90)(2,"b"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(4,"br"),e.\u0275\u0275text(5),e.\u0275\u0275element(6,"br"),e.\u0275\u0275elementEnd()),2&a){const t=o.$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.class_name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2(" minimum : ",t.min_count," , maximum : ",t.max_count," ")}}function be(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td")(6,"ul"),e.\u0275\u0275template(7,Se,7,3,"li",78),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"td")(9,"button",89),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).index,l=e.\u0275\u0275nextContext(4),m=e.\u0275\u0275reference(107);return e.\u0275\u0275resetView(l.isDelete(s,m,"CC"))}),e.\u0275\u0275text(10,"Delete"),e.\u0275\u0275elementEnd()()()}if(2&a){const t=o.$implicit,i=o.index;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.cr_data.area_name?t.cr_data.area_name:"Frame"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.cr_data.data_object)}}function ye(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"table",87)(1,"thead")(2,"tr")(3,"th",74),e.\u0275\u0275text(4," SI no "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"th",74),e.\u0275\u0275text(6,"Crowd Count Roi Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"th",74),e.\u0275\u0275text(8,"Details"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"th",74),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"tbody"),e.\u0275\u0275template(11,be,11,3,"tr",78),e.\u0275\u0275elementEnd()()),2&a){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(11),e.\u0275\u0275property("ngForOf",t.CcRois)}}function Ie(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,ye,12,1,"table",86),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.cameraData.cr_data.length>0)}}function we(a,o){1&a&&(e.\u0275\u0275elementStart(0,"li",85)(1,"ng-scrollbar",21,22)(3,"h5",36),e.\u0275\u0275text(4,"Crowd count Details:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,Ie,2,1,"div",88),e.\u0275\u0275elementEnd()()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("autoHeightDisabled",!1)("disabled",!1),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",!0))}function ke(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"span",5),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(5);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.cameraData.alarm_ip_address?t.cameraData.alarm_ip_address:"---")}}function Ee(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div",106)(1,"span")(2,"ul",107)(3,"li",108)(4,"span",98),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,ke,2,1,"span",109),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"li",110)(8,"span",98),e.\u0275\u0275text(9,"Delay : "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"span",5),e.\u0275\u0275text(11,"2 seconds"),e.\u0275\u0275elementEnd()()()()()),2&a){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",t.cameraData.alarm_type.charAt(0).toUpperCase()+t.cameraData.alarm_type.slice(1),"'s IP : "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.cameraData.alarm_ip_address)}}function Re(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div")(1,"span",104)(2,"b"),e.\u0275\u0275text(3,"Details"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(4,Ee,12,2,"div",105),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf","sensegiz"!=t.cameraData.alarm_type)}}function Te(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div",103),e.\u0275\u0275template(1,Re,5,1,"div",88),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","sensegiz"!=t.cameraData.alarm_type)}}function Ae(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",125)(1,"input",126),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext(6);return e.\u0275\u0275resetView(s.OnRAAlarmObjects(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",127),e.\u0275\u0275text(3,"Person"),e.\u0275\u0275elementEnd()()}2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("defaultValue","person")("value","person"))}function Oe(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",125)(1,"input",128),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext(6);return e.\u0275\u0275resetView(s.OnRAAlarmObjects(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",129),e.\u0275\u0275text(3,"Car"),e.\u0275\u0275elementEnd()()}2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("value","car")("defaultValue","car"))}function Ve(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",125)(1,"input",130),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext(6);return e.\u0275\u0275resetView(s.OnRAAlarmObjects(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",131),e.\u0275\u0275text(3,"Bike"),e.\u0275\u0275elementEnd()()}2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("value","bike")("defaultValue","bike"))}function Fe(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",125)(1,"input",132),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext(6);return e.\u0275\u0275resetView(s.OnRAAlarmObjects(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",133),e.\u0275\u0275text(3,"Truck"),e.\u0275\u0275elementEnd()()}2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("value","truck")("defaultValue","truck"))}function De(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div",123),e.\u0275\u0275template(1,Ae,4,2,"div",124),e.\u0275\u0275template(2,Oe,4,2,"div",124),e.\u0275\u0275template(3,Ve,4,2,"div",124),e.\u0275\u0275template(4,Fe,4,2,"div",124),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(5);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.raObjects.indexOf("person")>=0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.raObjects.indexOf("car")>=0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.raObjects.indexOf("bike")>=0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.raObjects.indexOf("truck")>=0)}}function Ne(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",32)(1,"div",38)(2,"input",119),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(s.PPE_Config(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"label",120),e.\u0275\u0275text(4,"RA"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",121),e.\u0275\u0275template(6,De,5,4,"div",122),e.\u0275\u0275elementEnd()()()}if(2&a){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(5),e.\u0275\u0275property("formGroup",t.alarmRAObjects),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.raObjects.length>0)}}function Pe(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",38)(1,"input",137),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext(5);return e.\u0275\u0275resetView(s.OnPPEAlarmObjects(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",138),e.\u0275\u0275text(3,"Helmet"),e.\u0275\u0275elementEnd()()}}function Me(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",38)(1,"input",139),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext(5);return e.\u0275\u0275resetView(s.OnPPEAlarmObjects(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",140),e.\u0275\u0275text(3,"Vest"),e.\u0275\u0275elementEnd()()}}function je(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",32)(1,"div",38)(2,"input",134),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(s.PPE_Config(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"label",135),e.\u0275\u0275text(4,"PPE"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",123),e.\u0275\u0275template(6,Pe,4,0,"div",136),e.\u0275\u0275template(7,Me,4,0,"div",136),e.\u0275\u0275elementEnd()()()}if(2&a){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",t.ppeConfig.helmet),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.ppeConfig.vest)}}function Le(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",38)(1,"input",126),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext(5);return e.\u0275\u0275resetView(s.OnRAAlarmObjects(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",127),e.\u0275\u0275text(3,"Person"),e.\u0275\u0275elementEnd()()}2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("defaultValue","person")("value","person"))}function ze(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",38)(1,"input",128),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext(5);return e.\u0275\u0275resetView(s.OnRAAlarmObjects(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",129),e.\u0275\u0275text(3,"Car"),e.\u0275\u0275elementEnd()()}2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("value","car")("defaultValue","car"))}function $e(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",38)(1,"input",130),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext(5);return e.\u0275\u0275resetView(s.OnRAAlarmObjects(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",131),e.\u0275\u0275text(3,"Bike"),e.\u0275\u0275elementEnd()()}2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("value","bike")("defaultValue","bike"))}function qe(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",38)(1,"input",132),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext(5);return e.\u0275\u0275resetView(s.OnRAAlarmObjects(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",133),e.\u0275\u0275text(3,"Truck"),e.\u0275\u0275elementEnd()()}2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("value","truck")("defaultValue","truck"))}function Be(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",32)(1,"div",38)(2,"input",119),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(s.PPE_Config(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"label",120),e.\u0275\u0275text(4," Crowd Count"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",121)(6,"div",123),e.\u0275\u0275template(7,Le,4,2,"div",136),e.\u0275\u0275template(8,ze,4,2,"div",136),e.\u0275\u0275template(9,$e,4,2,"div",136),e.\u0275\u0275template(10,qe,4,2,"div",136),e.\u0275\u0275elementEnd()()()()}if(2&a){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(5),e.\u0275\u0275property("formGroup",t.alarmRAObjects),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.raObjects.indexOf("person")>=0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.raObjects.indexOf("car")>=0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.raObjects.indexOf("bike")>=0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.raObjects.indexOf("truck")>=0)}}function Ge(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",47)(1,"div",10)(2,"div",113)(3,"b"),e.\u0275\u0275text(4,"Select Violation Type"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"ul",30),e.\u0275\u0275template(6,Ne,7,2,"li",114),e.\u0275\u0275template(7,je,8,2,"li",114),e.\u0275\u0275elementStart(8,"li",32)(9,"div",38)(10,"input",115),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(s.PPE_Config(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"label",116),e.\u0275\u0275text(12,"Fire"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(13,"li",32)(14,"div",38)(15,"input",117),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(s.PPE_Config(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"label",118),e.\u0275\u0275text(17,"Smoke"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(18,Be,11,5,"li",114),e.\u0275\u0275elementEnd()()()}if(2&a){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",t.cameraData.roi_data.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.ppeConfig.helmet||t.ppeConfig.vest),e.\u0275\u0275advance(11),e.\u0275\u0275property("ngIf",t.cameraData.cr_data.length>0)}}function We(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div",111),e.\u0275\u0275template(1,Ge,19,3,"div",112),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.cameraData.alarm_ip_address)}}function He(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()()),2&a){const t=o.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.coin_id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.preset_id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.coin_location)}}function Qe(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div",141)(1,"table",142)(2,"thead")(3,"tr")(4,"th",74),e.\u0275\u0275text(5,"Coin ID"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"th",74),e.\u0275\u0275text(7,"Preset ID"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"th",74),e.\u0275\u0275text(9,"Location"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(10,"tbody"),e.\u0275\u0275template(11,He,7,3,"tr",78),e.\u0275\u0275elementEnd()()()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(11),e.\u0275\u0275property("ngForOf",t.cameraData.coin_details)}}function Ue(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",69)(1,"li",32)(2,"div",90)(3,"span",11)(4,"h5",91),e.\u0275\u0275text(5,"Alert Settings"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"span",92),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext(),s=e.\u0275\u0275reference(119);return e.\u0275\u0275resetView(n.EditAlert(s))}),e.\u0275\u0275element(7,"fa-icon",93),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(8,"div",12)(9,"div",94)(10,"div",12)(11,"div",95)(12,"div",96)(13,"div",97)(14,"span",98),e.\u0275\u0275text(15,"Enabled Alert Type: "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"span",99)(17,"b"),e.\u0275\u0275text(18),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(19,"div",10)(20,"div",11),e.\u0275\u0275template(21,Te,2,1,"div",100),e.\u0275\u0275template(22,We,2,1,"div",101),e.\u0275\u0275template(23,Qe,12,1,"div",102),e.\u0275\u0275elementEnd()()()()()()()}if(2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(18),e.\u0275\u0275textInterpolate1("",null!=t.cameraData.alarm_type?t.cameraData.alarm_type.charAt(0).toUpperCase()+t.cameraData.alarm_type.slice(1):"---"," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",null!=t.cameraData.alarm_type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","sensegiz"!=t.cameraData.alarm_type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","sensegiz"==t.cameraData.alarm_type)}}function Ye(a,o){1&a&&(e.\u0275\u0275elementStart(0,"div",143),e.\u0275\u0275text(1,"No AI analytics are added to this camera."),e.\u0275\u0275elementEnd())}const E=function(a){return{"is-invalid":a}};function Xe(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",69)(1,"div",70)(2,"h4"),e.\u0275\u0275text(3," Change ROI name"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",144)(5,"form",145),e.\u0275\u0275element(6,"input",146),e.\u0275\u0275elementStart(7,"div",147),e.\u0275\u0275text(8," Please enter roi name. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"button",148),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.ChangeROIName())}),e.\u0275\u0275text(10,"Change"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"button",149),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(s.close("Cross click"))}),e.\u0275\u0275text(12,"cancel"),e.\u0275\u0275elementEnd()()()()}if(2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275property("formControl",t.tempROIID)("ngClass",e.\u0275\u0275pureFunction1(3,E,t.tempROIID.invalid&&t.tempROIID.touched)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",t.tempROIID.invalid&&t.tempROIID.touched?"invalid-feedback":"visually-hidden")}}function Ze(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",69)(1,"div",70)(2,"h4"),e.\u0275\u0275text(3," Change Crowd Count name"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",144)(5,"form",145),e.\u0275\u0275element(6,"input",146),e.\u0275\u0275elementStart(7,"div",147),e.\u0275\u0275text(8," Please enter roi name. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"button",148),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.ChangeROIName())}),e.\u0275\u0275text(10,"Change"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"button",149),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(s.close("Cross click"))}),e.\u0275\u0275text(12,"cancel"),e.\u0275\u0275elementEnd()()()()}if(2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275property("formControl",t.tempROIID)("ngClass",e.\u0275\u0275pureFunction1(3,E,t.tempROIID.invalid&&t.tempROIID.touched)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",t.tempROIID.invalid&&t.tempROIID.touched?"invalid-feedback":"visually-hidden")}}function Ke(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div",163),e.\u0275\u0275element(1,"input",164),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(1,E,t.get("min").invalid||t.get("min").value==t.get("max").value&&t.get("min").touched&&t.get("max").touched&&t.get("min").value>=t.get("max").value))}}function Je(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div",163),e.\u0275\u0275element(1,"input",165),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(1,E,t.get("max").invalid))}}function et(a,o){1&a&&(e.\u0275\u0275elementStart(0,"span",166)(1,"small"),e.\u0275\u0275text(2,"Invalid Values for Minimum and Maximum "),e.\u0275\u0275elementEnd()())}function tt(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",96)(1,"div",157)(2,"div",154)(3,"div",158)(4,"input",159),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.ClassId(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"label",160),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(7,Ke,2,3,"div",161),e.\u0275\u0275template(8,Je,2,3,"div",161),e.\u0275\u0275template(9,et,3,0,"span",162),e.\u0275\u0275elementEnd()()()}if(2&a){const t=o.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",t),e.\u0275\u0275advance(2),e.\u0275\u0275property("formControlName",t.get("object").value)("defaultValue","person")("value","person")("id",t.get("object").value),e.\u0275\u0275advance(1),e.\u0275\u0275property("for",t.get("object").value),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.get("object").value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.get(t.get("object").value).value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.get(t.get("object").value).value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.get("min").touched&&t.get("max").touched&&t.get("min").value>=t.get("max").value)}}function nt(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",150)(1,"h3"),e.\u0275\u0275text(2,"Crowd Count For Full Frame"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div",151)(4,"div",152)(5,"div",96)(6,"div",153)(7,"div")(8,"div",154),e.\u0275\u0275template(9,tt,10,10,"div",155),e.\u0275\u0275elementStart(10,"div",11)(11,"button",156),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.onSaveCCFrame())}),e.\u0275\u0275text(12,"Save"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275text(13," - "),e.\u0275\u0275elementEnd()()()()}if(2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(8),e.\u0275\u0275property("formGroup",t.CrowdForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.ccObjectsMinMax),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",t.CCValid<=0)}}function at(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",69)(1,"div",70)(2,"h4"),e.\u0275\u0275text(3," ROI Name"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",144)(5,"form",145),e.\u0275\u0275element(6,"input",167),e.\u0275\u0275elementStart(7,"div",147),e.\u0275\u0275text(8," Please enter roi name. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",123)(10,"div",38)(11,"input",168),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.ClassId(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"label",127),e.\u0275\u0275text(13,"Person"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(14,"button",169),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.nameSubmit())}),e.\u0275\u0275text(15,"Submit"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"button",170),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(s.close("Cross click"))}),e.\u0275\u0275text(17,"cancel"),e.\u0275\u0275elementEnd()()()()}if(2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(7,E,t.roiNameControl.invalid&&t.roiNameControl.touched&&t.roiNameControl.dirty))("formControl",t.roiNameControl),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",t.roiNameControl.invalid&&t.roiNameControl.touched?"invalid-feedback":"visually-hidden"),e.\u0275\u0275advance(4),e.\u0275\u0275property("formControl",t.classIDPerson)("defaultValue","person")("value","person"),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",t.roiNameControl.invalid||0==t.classIds.length)}}function it(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",151)(1,"div",171)(2,"div",152)(3,"div",172)(4,"div",173)(5,"i",174),e.\u0275\u0275text(6,"\ue5cd"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"h4",175),e.\u0275\u0275text(8,"Are you sure?"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",151)(10,"p"),e.\u0275\u0275text(11,"Do you really want to delete these ROI? This process cannot be undone."),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",176)(13,"button",177),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(s.close("Cross click"))}),e.\u0275\u0275text(14,"Cancel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",178),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.DeleteROI())}),e.\u0275\u0275text(16,"Delete"),e.\u0275\u0275elementEnd()()()()()}}function rt(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",151)(1,"div",171)(2,"div",152)(3,"div",172)(4,"div",173)(5,"i",174),e.\u0275\u0275text(6,"\ue5cd"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"h4",175),e.\u0275\u0275text(8,"Are you sure?"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",151)(10,"p"),e.\u0275\u0275text(11,"Do you really want to delete these ROI? This process cannot be undone."),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",176)(13,"button",177),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(s.close("Cross click"))}),e.\u0275\u0275text(14,"Cancel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",178),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.DeleteCCROI())}),e.\u0275\u0275text(16,"Delete"),e.\u0275\u0275elementEnd()()()()()}}function st(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",151)(1,"div",171)(2,"div",152)(3,"div",172)(4,"div",173)(5,"i",174),e.\u0275\u0275text(6,"\ue5cd"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"h4",175),e.\u0275\u0275text(8,"Are you sure?"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",151)(10,"p"),e.\u0275\u0275text(11,"Do you really want to delete these ROI? This process cannot be undone."),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",176)(13,"button",177),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(s.close("Cross click"))}),e.\u0275\u0275text(14,"Cancel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",178),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.OnDeleteTCROI())}),e.\u0275\u0275text(16,"Delete"),e.\u0275\u0275elementEnd()()()()()}}function ot(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div",163),e.\u0275\u0275element(1,"input",164),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(1,E,t.get("min").invalid||t.get("min").value==t.get("max").value&&t.get("min").touched&&t.get("max").touched&&t.get("min").value>=t.get("max").value))}}function lt(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div",163),e.\u0275\u0275element(1,"input",165),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(1,E,t.get("max").invalid))}}function mt(a,o){1&a&&(e.\u0275\u0275elementStart(0,"span",166)(1,"small"),e.\u0275\u0275text(2,"Invalid Values for Minimum and Maximum "),e.\u0275\u0275elementEnd()())}function ct(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",96)(1,"div",157)(2,"div",154)(3,"div",158)(4,"input",159),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.ClassId(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"label",160),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(7,ot,2,3,"div",161),e.\u0275\u0275template(8,lt,2,3,"div",161),e.\u0275\u0275template(9,mt,3,0,"span",162),e.\u0275\u0275elementEnd()()()}if(2&a){const t=o.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",t),e.\u0275\u0275advance(2),e.\u0275\u0275property("formControlName",t.get("object").value)("defaultValue","person")("value","person")("id",t.get("object").value),e.\u0275\u0275advance(1),e.\u0275\u0275property("for",t.get("object").value),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.get("object").value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.get(t.get("object").value).value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.get(t.get("object").value).value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.get("min").touched&&t.get("max").touched&&t.get("min").value>=t.get("max").value)}}function dt(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",69)(1,"div",70)(2,"h4"),e.\u0275\u0275text(3," Crowd Count ROI"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",144)(5,"form",179),e.\u0275\u0275element(6,"input",167),e.\u0275\u0275elementStart(7,"div",147),e.\u0275\u0275text(8," Please enter roi name. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,ct,10,10,"div",155),e.\u0275\u0275elementStart(10,"button",169),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.OnAddingNewCCRoi())}),e.\u0275\u0275text(11,"Submit"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"button",170),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(s.close("Cross click"))}),e.\u0275\u0275text(13,"cancel"),e.\u0275\u0275elementEnd()()()()}if(2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(5,E,t.crowdCountRoiName.invalid&&t.crowdCountRoiName.touched&&t.crowdCountRoiName.dirty))("formControl",t.crowdCountRoiName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",t.crowdCountRoiName.invalid&&t.crowdCountRoiName.touched?"invalid-feedback":"visually-hidden"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.ccObjectsMinMax),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",t.crowdCountRoiName.invalid)}}function pt(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",150)(1,"h3"),e.\u0275\u0275text(2,"Select Traffic Count"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div",151)(4,"div",152)(5,"div",180)(6,"div",11)(7,"div",181)(8,"div",38)(9,"input",182),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.TrafficCountConfig(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"label",127),e.\u0275\u0275text(11,"Entry"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",38)(13,"input",183),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.TrafficCountConfig(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"label",129),e.\u0275\u0275text(15,"Exit"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"div",38)(17,"input",184),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.TrafficCountConfig(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"label",131),e.\u0275\u0275text(19,"Entry and Exit"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(20,"div",185)(21,"p",11),e.\u0275\u0275text(22," Now you will draw directions"),e.\u0275\u0275elementEnd()()()()()()}if(2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(9),e.\u0275\u0275property("formControl",t.classIDPerson)("defaultValue","Entry")("value","Entry"),e.\u0275\u0275advance(4),e.\u0275\u0275property("formControl",t.classIDTruck)("value","Exit")("defaultValue","Exit"),e.\u0275\u0275advance(4),e.\u0275\u0275property("formControl",t.classIDTruck)("value","Entry_Exit")("defaultValue","Entry_Exit")}}const ut=function(){return{standalone:!0}};function _t(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",69)(1,"div",70)(2,"h4"),e.\u0275\u0275text(3," Traffic Count Name"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",144)(5,"form",145)(6,"p-treeSelect",186),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.tcName=n)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",147),e.\u0275\u0275text(8," Please enter roi name. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",123)(10,"div",38)(11,"input",168),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.ClassId(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"label",127),e.\u0275\u0275text(13,"Person"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(14,"div",187)(15,"button",188),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(s.close("Cross click"))}),e.\u0275\u0275text(16,"cancel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"button",189),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.AddTrafficCountData())}),e.\u0275\u0275text(18,"Submit"),e.\u0275\u0275elementEnd()()()()}if(2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275property("ngModelOptions",e.\u0275\u0275pureFunction0(8,ut))("ngModel",t.tcName)("options",t.tcOptions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",t.tcName.invalid&&t.tcName.touched?"invalid-feedback":"visually-hidden"),e.\u0275\u0275advance(4),e.\u0275\u0275property("formControl",t.classIDPerson)("defaultValue","person")("value","person"),e.\u0275\u0275advance(6),e.\u0275\u0275property("disabled",t.tcName.invalid||0==t.classIds.length)}}function ht(a,o){1&a&&(e.\u0275\u0275elementStart(0,"div",151)(1,"div",171)(2,"div",152)(3,"div",172)(4,"h4",175),e.\u0275\u0275text(5,"Please Select the Crowd Count Type"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",151)(7,"div",190),e.\u0275\u0275element(8,"h1"),e.\u0275\u0275elementStart(9,"form",191)(10,"section",192),e.\u0275\u0275element(11,"input",193),e.\u0275\u0275elementStart(12,"label",194),e.\u0275\u0275text(13,"ROI"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"input",195),e.\u0275\u0275elementStart(15,"label",196),e.\u0275\u0275text(16,"Full Frame"),e.\u0275\u0275elementEnd()()()()()()()())}function gt(a,o){1&a&&(e.\u0275\u0275elementStart(0,"div",221),e.\u0275\u0275element(1,"input",222),e.\u0275\u0275elementStart(2,"label",223),e.\u0275\u0275text(3,"Hooter IP"),e.\u0275\u0275elementEnd()())}function ft(a,o){1&a&&(e.\u0275\u0275elementStart(0,"div",224),e.\u0275\u0275element(1,"input",225),e.\u0275\u0275elementStart(2,"label",226),e.\u0275\u0275text(3,"Relay IP"),e.\u0275\u0275elementEnd()())}function vt(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",224)(1,"div",227)(2,"div")(3,"span"),e.\u0275\u0275text(4,"Sensgiz Details"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"span",5)(6,"fa-icon",228),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext(2),s=e.\u0275\u0275reference(121);return e.\u0275\u0275resetView(n.SensgizModal(s))}),e.\u0275\u0275elementEnd()()()()()}}function Ct(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div",229),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.responseMessage," ")}}function xt(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",172)(1,"h4",175),e.\u0275\u0275text(2,"Edit Alert"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div",151)(4,"div",10)(5,"form",197)(6,"div",28)(7,"b"),e.\u0275\u0275text(8," Enable Alert :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"span",5),e.\u0275\u0275element(10,"input",198)(11,"label",199),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",200)(13,"label",201)(14,"b"),e.\u0275\u0275text(15,"Alarm type "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"div",202)(17,"div",38)(18,"input",203),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.hooterOrRelayConfig(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"label",204),e.\u0275\u0275text(20,"Hooter"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(21,"div",38)(22,"input",205),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.hooterOrRelayConfig(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"label",206),e.\u0275\u0275text(24,"Relay"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(25,"div",38)(26,"input",207),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext(),l=e.\u0275\u0275reference(121);return e.\u0275\u0275resetView(s.hooterOrRelayConfig(n,l))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"label",208),e.\u0275\u0275text(28,"Sensegiz"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(29,"div",38)(30,"input",209),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext(),l=e.\u0275\u0275reference(121);return e.\u0275\u0275resetView(s.hooterOrRelayConfig(n,l))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"label",210),e.\u0275\u0275text(32,"None"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(33,"div",90)(34,"label",211)(35,"b"),e.\u0275\u0275text(36,"Alarm Details "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(37,gt,4,0,"div",212),e.\u0275\u0275template(38,ft,4,0,"div",213),e.\u0275\u0275template(39,vt,7,0,"div",213),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"div",214)(41,"label",215)(42,"b"),e.\u0275\u0275text(43," Delay"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(44,"input",216),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(45,Ct,2,1,"div",217),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"div",218)(47,"button",219),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(s.close("Cross click"))}),e.\u0275\u0275text(48,"Cancel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(49,"button",220),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.OnEditAlertDetails())}),e.\u0275\u0275text(50,"Submit"),e.\u0275\u0275elementEnd()()()()}if(2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275property("formGroup",t.editAlertForm),e.\u0275\u0275advance(5),e.\u0275\u0275property("checked","true"==t.cameraData.alarm_enable)("id","enable"),e.\u0275\u0275advance(1),e.\u0275\u0275property("for","enable"),e.\u0275\u0275advance(26),e.\u0275\u0275property("ngIf",t.isHooter),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isRelay),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isSensgiz),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",""!=t.responseMessage),e.\u0275\u0275advance(4),e.\u0275\u0275property("disabled",!t.isAlertFormValid)}}function St(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",153),e.\u0275\u0275elementContainerStart(1,237),e.\u0275\u0275elementStart(2,"div",238)(3,"div",224),e.\u0275\u0275element(4,"input",239),e.\u0275\u0275elementStart(5,"label",240),e.\u0275\u0275text(6,"Coin Id"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",224),e.\u0275\u0275element(8,"input",241),e.\u0275\u0275elementStart(9,"label",242),e.\u0275\u0275text(10,"Preset Id"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"div",224),e.\u0275\u0275element(12,"input",243),e.\u0275\u0275elementStart(13,"label",244),e.\u0275\u0275text(14,"Location"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"fa-icon",245),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).index,l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.DeleteSensgizData(s))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd()}if(2&a){const t=o.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t)}}function bt(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",150)(1,"h4",230),e.\u0275\u0275text(2,"Sensgiz Details"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",231),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(s.close("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",232)(5,"button",233),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.AddSensgizData())}),e.\u0275\u0275element(6,"fa-icon",234),e.\u0275\u0275text(7," Add "),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,St,16,1,"div",235),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",236)(10,"button",156),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.SaveSensgizInfo())}),e.\u0275\u0275text(11," Save "),e.\u0275\u0275elementEnd()()}if(2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(8),e.\u0275\u0275property("ngForOf",t.sensgiz.controls),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!t.sensgiz.valid)}}let yt=(()=>{class a{constructor(t,i,n,s){this.ActiveRoute=t,this.server=i,this.router=n,this.modalService=s,this.onModalClose=new e.EventEmitter,this.CameraDataObservable=(0,k.of)({}),this.isCameraData=!1,this.ROIsRoiPoints=[],this.newROIPoints=[],this.isAddROI=!1,this.CcRois=[],this.isFire=!1,this.isPolygonDrawn=!1,this.isEdit=!1,this.isLock1=!1,this.isTag=!1,this.isLock2=!1,this.isRackWindow=!1,this.AllROIs=[],this.TCData=[],this.tempData=[],this.allCameraData=[],this.isEditText=!1,this.ppeConfig={helmet:!1,vest:!1},this.isLoading=!1,this.isChanges=!1,this.trafficCountLineROIS=[],this.trafficCountData=[],this.tempTCData=[],this.tempTCLineROIS=[],this.TCCanvasData=[],this.TCLineList=[],this.isAddCC=!1,this.tempTCCanvas=[],this.ppeObjects=[],this.raObjects=[],this.ccObjects=[],this.ppeAlarmObjects=[],this.raAlarmObjects=[],this.CCValid=0,this.CCpoints=[],this.CCClasses=[],this.AISolutions=[],this.isWater=!1,this.WaterROIData=[],this.deleteField="",this.CCObjectCounts=[],this.CCObjectsCount=[],this.fireROIS=[],this.TCKeyId=0,this.CCKeyId=0,this.RAKeyId=0,this.isAlertFormValid=!1,this.isFail=!1,this.isSuccess=!1,this.tcOptions=[{key:"0",label:"Entry",data:"entry"},{key:"1",label:"Exit",data:"exit"}],this.raROIColor="rgb(127, 255, 0)",this.fireAndSmoke={fire:!1,smoke:!1},this.alertForm=new r.cw({ip:new r.NI("",r.kI.required),delay:new r.NI("",r.kI.required)}),this.setValueForm=new r.cw({set1:new r.cw({value:new r.NI(0,r.kI.required),count:new r.NI(0,r.kI.required)}),set2:new r.cw({value:new r.NI(0,r.kI.required),count:new r.NI(0,r.kI.required)}),set3:new r.cw({value:new r.NI(0,r.kI.required),count:new r.NI(0,r.kI.required)}),set4:new r.cw({value:new r.NI(0,r.kI.required),count:new r.NI(0,r.kI.required)})}),this.ccObjectsMinMax=[new r.cw({object:new r.NI("person"),person:new r.NI(!0,r.kI.requiredTrue),min:new r.NI(0,r.kI.pattern(/^[^-\D]\d*$/)),max:new r.NI(0,r.kI.pattern(/^[^-\D]\d*$/))})],this.alarmPPEObjects=new r.cw({helemet:new r.NI(r.kI.requiredTrue),vest:new r.NI(r.kI.requiredTrue)}),this.alarmRAObjects=new r.cw({person:new r.NI(r.kI.requiredTrue),car:new r.NI(r.kI.requiredTrue),truck:new r.NI(r.kI.requiredTrue),bike:new r.NI(r.kI.requiredTrue)}),this.isHooter=!1,this.isRelay=!1,this.isSensgiz=!1,this.isVoiceAlert=!1,this.sensgiz=new r.Oe([]),this.SensGizInfo=[],this.crowdCountRoiName=new r.NI("",r.kI.required),this.crowdConfig=[],this.tcName="",this.editAlertForm=new r.cw({alarmType:new r.NI("",r.kI.required),alarmIp:new r.NI("",r.kI.required),alarmEnable:new r.NI(!1),hooterIp:new r.NI("",r.kI.required),relayIp:new r.NI("",r.kI.required),delay:new r.NI("",r.kI.required)}),this.peopleCrowdForm=new r.cw({min:new r.NI(null,r.kI.pattern("^(?!-)d+$")),max:new r.NI(null,r.kI.pattern(/\d+/))}),this.CrowdForm=new r.cw({min:new r.NI(null,[r.kI.pattern(/^[^-a-zA-Z]+$/),r.kI.required]),max:new r.NI(null,[r.kI.pattern(/\d+/),r.kI.required])}),this.vehicleCrowdForm=new r.cw({min:new r.NI(null,r.kI.pattern(/\d+/)),max:new r.NI(null,r.kI.pattern(/\d+/))}),this.tempROIID=new r.NI("",r.kI.required),this.ratio=1,this.polygonOptions={fill:"rgba(0,0, 0,0)",strokeWidth:3,stroke:"rgb(127, 255, 0)",scaleX:1,scaleY:1,objectCaching:!1,selectable:!1,transparentCorners:!1,cornerColor:"blue"},this.classIds=["person"],this.classIDPerson=new r.NI("person",r.kI.required),this.classIDCar=new r.NI(0,r.kI.required),this.classIDBike=new r.NI(0,r.kI.required),this.classIDTruck=new r.NI(0,r.kI.required),this.CrowdData=[],this.ppeForm=new r.cw({helmet:new r.NI("helmet"),vest:new r.NI("person")}),this.fireSmokeForm=new r.cw({fire:new r.NI(!1,r.kI.requiredTrue),smoke:new r.NI(!1,r.kI.requiredTrue),water:new r.NI(!1,r.kI.requiredTrue)}),this.vehicleForm=new r.cw({type:new r.NI,make:new r.NI}),this.roiNameControl=new r.NI("",r.kI.required),this.roiPoints=[],this.alertType=new r.NI("",r.kI.required),this.isMouseDown=!1,this.roiType=0,this.ccTypeList=(0,k.of)([{label:"+ Crowd Count Types",items:[{label:"ROI",command:l=>{console.log(l),this.AddCCRoi()}},{label:"Full Frame",command:l=>{console.log(l),this.AddCCForFrame()}}]}]),this.fireSmoke=[{label:"+ Fire/Smoke",items:[{label:"ROI",command:l=>{console.log(l),this.AddCCRoi()}},{label:"Full Frame",command:l=>{console.log(l),this.AddCCRoi()}},{label:"Full Frame",command:l=>{console.log(l),this.AddCCForFrame()}}]}],this.ppeOptions=[{label:"gloves",value:!1,checked:!0},{label:"helmet",value:"helmet",checked:!0},{label:"steamsuit",value:"steamsuit",checked:!0},{label:"F rod",value:"f_rod",checked:!0},{label:"shoes",value:"shoes",checked:!0},{label:"vest",value:"vest",checked:!0}],this.steamSuitForm=new r.cw({gloves:new r.NI(!1),helmet:new r.NI(!1),steamsuit:new r.NI(!1),f_rod:new r.NI(!1),vest:new r.NI(!1),shoes:new r.NI(!1)}),this.steamSuit={helmet:!1,steamsuit:!1,vest:!1,f_rod:!1,gloves:!1},this.IP=i.IP}ngOnInit(){this.server.GetRoiDetails({id:this.cameraData._id,steamtype:"first"==this.cameraData.type?"main":"sub"}).subscribe(t=>{t.success&&(console.log(t.message),this.cameraData={...this.cameraData,...t.message},this.steamSuit=this.cameraData.ppe_data[0],this.steamSuitForm.get("helmet").setValue(this.steamSuit.helmet),this.steamSuitForm.get("steamsuit").setValue(this.steamSuit.steamsuit),this.steamSuitForm.get("vest").setValue(this.steamSuit.vest),this.steamSuitForm.get("shoes").setValue(this.steamSuit.shoes),this.steamSuitForm.get("f_rod").setValue(this.steamSuit.f_rod),this.steamSuitForm.get("gloves").setValue(this.steamSuit.gloves),console.log(this.steamSuit))})}ngAfterViewInit(){this.canvasSetup(),this.editAlertForm.valueChanges.subscribe(t=>{this.responseMessage="","hooter"==this.editAlertForm.get("alarmType").value||"relay"==this.editAlertForm.get("alarmType").value?""!=this.editAlertForm.get("alarmIp").value&&(this.isAlertFormValid=!0):"sensegiz"==this.editAlertForm.get("alarmType").value&&(this.isAlertFormValid=this.sensgiz.length>0)}),console.log(document.getElementById("helmet")),this.makeNewROI(),this.ccObjectsMinMax.forEach(t=>{t.valueChanges.subscribe(()=>{console.log("object form valid status"),t.get(t.get("object").value).value&&t.get("min").valid&&t.get("min").valid?this.CCValid++:this.CCValid=0,(t.get("min").value>t.get("max").value||t.get("min").value==t.get("max").value)&&(this.CCValid=0),console.log(this.CCValid)})}),console.log(this.allCameraData),this.canvas.on("mouse:up",t=>{console.log("mouse up"),(1==this.roiType||this.isAddCC||this.isWater)&&(1===t.button&&!this.isPolygonDrawn&&!(null!=t.transform&&"modifyPolygon"!==t.transform.action)&&!this.isEdit&&(console.log("polygon  is 1creating"),this.getClickCoords(t)),3===t.button&&(this.isAddROI||this.isAddCC||this.isWater)&&(this.newROIPoints.length<4?(console.log("polygon is  3creating"),this.isPolygonDrawn=!1):(console.log("polygon is  3creating"),this.isPolygonDrawn=!0))),2==this.roiType&&!this.isAddCC&&!this.isWater&&(this.isMouseDown=!1,console.log("traffic count"),this.SaveTrafficCountROI())}),this.canvas.on("mouse:down",t=>{console.log("mouse down"),1===this.roiType&&(this.isAddCC||this.isWater||this.isAddROI)?(this.isAddROI||this.isAddCC||this.isWater)&&3===t.button&&(this.newROIPoints.length<3?this.isPolygonDrawn=!1:(this.roiNameControl.markAsUntouched(),this.RoiName(),this.isPolygonDrawn=!0)):2===this.roiType&&(null==t.transform||"drag"!==t.transform.action)&&this.addingShapeOnMouseDown(t),this.canvas.on("mouse:move",i=>{this.creatingShapeOnMouseMove(i)})}),this.canvas.on("object:moving",t=>{console.log(t)})}canvasSetup(){var t=document.getElementById("canvas-container");console.log(t.clientWidth),this.canvas=new fabric.Canvas("canvasROI",{fireRightClick:!0}),console.log(this.canvas),this.canvas.selection=!1,this.canvas.viewportTransform=[1,0,0,1,0,0],this.canvas.setWidth(t.clientWidth),fabric.Image.fromURL(this.IP+"/get_steamroi_image/"+this.cameraData.imagename,i=>{console.log(i.width),console.log(i.height),this.canvas.setWidth(i.width),this.canvas.setHeight(i.height),this.canvas.setBackgroundImage(i,this.canvas.requestRenderAll.bind(this.canvas),{scaleX:this.canvas.width/i.width,scaleY:this.canvas.height/i.height})}),Object.keys(this.cameraData).length>0&&null!==this.cameraData.roi_data&&this.GetPanelPoints()}RoiName(){this.isPolygonDrawn=!0,this.isAddROI=!1,this.classIds=["person"],this.isAddCC?this.modalService.open(this.CCNameModal).result.then(t=>{this.isAddCC=!1,console.log("cancel"),this.roiNameControl.setValue(null),this.roiNameControl.reset(),this.CrowdForm.get("min").reset(),this.isPolygonDrawn=!1,this.newROIPoints.splice(0,this.newROIPoints.length),console.log("modal closed by backdrop"),this.CrowdForm.get("min").setValidators(r.kI.required),this.CrowdForm.get("min").setValidators(r.kI.pattern(/^[^-a-zA-Z]+$/)),this.CrowdForm.get("max").reset(),this.CrowdForm.get("max").setValidators(r.kI.required),this.CrowdForm.get("max").setValidators(r.kI.pattern(/^[^-a-zA-Z]+$/)),this.roiNameControl.addValidators(r.kI.required),console.log(this.roiNameControl.value),this.classIds=["person"],this.DeleteNewRoi()},t=>{this.isAddCC=!1,this.isPolygonDrawn=!1,console.log("cancel"),this.roiNameControl.setValue(null),this.roiNameControl.reset(),this.CrowdForm.get("min").reset(),this.newROIPoints.splice(0,this.newROIPoints.length),console.log("modal closed by backdrop"),this.CrowdForm.get("min").setValidators(r.kI.required),this.CrowdForm.get("min").setValidators(r.kI.pattern(/^[^-a-zA-Z]+$/)),this.CrowdForm.get("max").reset(),this.CrowdForm.get("max").setValidators(r.kI.required),this.CrowdForm.get("max").setValidators(r.kI.pattern(/^[^-a-zA-Z]+$/)),this.roiNameControl.addValidators(r.kI.required),console.log(this.roiNameControl.value),this.classIds=["person"],this.DeleteNewRoi()}):this.isWater?(this.isWater=!1,this.modalService.open(this.fireROINameModal,{backdrop:"static",centered:!0})):this.modalService.open(this.RoiNameModal,{size:"small",centered:!0,backdrop:"static"}).result.then(t=>{console.log("cancel"),this.roiNameControl.setValue(null),this.roiNameControl.reset(),this.roiNameControl.addValidators(r.kI.required),console.log(this.roiNameControl.value),this.classIds=["person"],this.DeleteNewRoi()},t=>{console.log("submit")})}ModalOpen(t){console.log("full frame"),this.cameraData.length>0&&(console.log(this.cameraData.alarm_ip_address),this.alertForm.get("ip").setValue(this.cameraData.alarm_ip_address),this.cameraData.delay&&this.alertForm.get("delay").setValue(this.cameraData.delay)),console.log(this.alertForm),this.modalService.open(t,{backdrop:"static",keyboard:!0})}onCCTypeSelect(t){console.log(t),console.log("crowd count select")}getDismissReason(t){return t===T.If.ESC?"by pressing ESC":t===T.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}nameSubmit(){this.modalService.dismissAll(),console.log("name submit"),this.OnAddingNewROI()}getClickCoords(t){console.log(t),(this.isAddROI||this.isWater||this.isAddCC)&&(this.newPt={x:Math.round(t.pointer.x),y:Math.round(t.pointer.y)},this.newROIPoints.push(this.newPt),this.canvas.add(this.newROI))}Back(){window.close()}makeNewROI(){this.newROI=new fabric.Polygon(this.newROIPoints,this.polygonOptions)}AddNewROI(){this.classIds=["person"],this.polygonOptions.stroke=this.raROIColor,this.newROI.stroke=this.raROIColor,this.isWater=!1,this.isAddROI=!0,this.isEdit=!1,this.roiType=1,this.newROIPoints.splice(0,this.newROIPoints.length),this.canvas.requestRenderAll(),this.isAddCC=!1}AddNewLine(){this.classIds=["person"],this.isWater=!1,this.roiType=2,this.btnIndex=1,this.isWater=!1,this.isEdit=!1,this.isAddROI=!1,this.isAddCC=!1,this.newROIPoints.splice(0,this.newROIPoints.length),this.canvas.requestRenderAll()}AddNewArrow(){this.classIds=["person"],this.isWater=!1,this.roiType=2,this.btnIndex=2,this.isEdit=!1}AddCCRoi(){console.log("addcc"),this.newROIPoints.splice(0,this.newROIPoints.length),this.isAddCC=!0,this.isAddROI=!1,this.isEdit=!1,this.isWater=!1,this.roiType=1,this.CrowdForm.get("min").reset(),this.CrowdForm.get("min").setValidators(r.kI.required),this.CrowdForm.get("min").setValidators(r.kI.pattern(/\d+/)),this.CrowdForm.get("max").reset(),this.CrowdForm.get("max").setValidators(r.kI.required),this.CrowdForm.get("max").setValidators(r.kI.pattern(/\d+/)),this.newROI.stroke="rgb(0, 255, 255)"}AddCCForFrame(){console.log("add cc for frame"),this.modalService.open(this.CCForFrame).result.then(t=>{console.log("cancel"),this.roiNameControl.setValue(null),this.roiNameControl.reset(),this.roiNameControl.addValidators(r.kI.required),console.log(this.roiNameControl.value),this.classIds=["person"],this.DeleteNewRoi()},t=>{console.log("submit")})}onSaveCCFrame(){for(let i=0;i<this.ccObjectsMinMax.length;i++){const n=this.ccObjectsMinMax[i];if(console.log("object form valid status"),!(n.get(n.get("object").value).value&&n.get("min").valid&&n.get("min").valid)||n.get("min").value>n.get("max").value||n.get("min").value==n.get("max").value){this.CCValid=0;break}this.CCValid=1,console.log(this.CCValid)}1==this.CCValid&&(this.isAddROI=!1,this.CCClasses=[],this.CCObjectCounts=[],this.ccObjectsMinMax.forEach(i=>{if(i.get(i.get("object").value).value){var n={class_name:i.get("object").value,min_count:i.get("min").value,max_count:i.get("max").value};this.CCObjectCounts.push(n)}i.get(i.get("object").value).reset(),i.get("min").markAsUntouched(),i.get("min").setValue(0),i.get("max").reset(),i.get("max").reset()}),this.CcRois.push({roi_name_canvas:null,roi_canvas:null,roi_id:null,roi_name:null,cr_data:{bb_box:"",full_frame:!0,roi_id:null,area_name:"",data_object:this.CCObjectCounts}}),this.CrowdForm.get("min").reset(),this.CrowdForm.get("max").reset(),this.newROIPoints.splice(0,this.newROIPoints.length),this.classIDPerson.reset(),this.classIDBike.reset(),this.classIDCar.reset(),this.classIDPerson.setValue("person"),this.classIds=["person"],this.CrowdForm.get("min").reset(),this.CrowdForm.get("min").setValidators(r.kI.required),this.CrowdForm.get("min").setValidators(r.kI.pattern(/\d+/)),this.CrowdForm.get("max").reset(),this.CrowdForm.get("max").setValidators(r.kI.required),this.CrowdForm.get("max").setValidators(r.kI.pattern(/\d+/)),this.modalService.dismissAll(),this.AddCCData())}OnAddingNewROI(){if(this.isAddROI=!1,null!==this.roiNameControl.value){fabric.util.resetObjectTransform(this.newROI);var t=[];const v=[...this.newROIPoints];console.log(v),this.polygonOptions.stroke=this.raROIColor;var i=this.newROI._calcDimensions();const _=new fabric.Polygon(v,this.polygonOptions);console.log(_);var n=this.roiNameControl.value;if(null!==n){console.log(n),this.isChanges=!0,this.canvas.add(_),this.canvas.renderAll(),console.log(this.newROI);for(let d=0;d<this.newROIPoints.length;d++)t.push(`${this.newROIPoints[d].x};${this.newROIPoints[d].y};`);var l=t.toString().replace(/,/g,"");console.log(l);var m=new fabric.Text(n,{fontSize:20,backgroundColor:"black",selectable:!1,left:i.left,top:i.top-20,stroke:"rgb(127, 255, 0)",fill:"rgb(127, 255, 0)"});console.log(m),this.canvas.add(m),this.canvas.renderAll();var c={roi_name_canvas:m,roi_canvas:_,roi_name:n,roi_data:{bb_box:l,roi_name:n,label_name:this.classIds}}}console.log(l),this.allCameraData.push(c),console.log(this.allCameraData),this.newROIPoints.splice(0,this.newROIPoints.length),this.roiNameControl.setValue(null),this.roiNameControl.reset(),this.roiNameControl.setValidators(r.kI.required),this.classIDPerson.reset(),this.classIDBike.reset(),this.classIDCar.reset(),this.classIDPerson.setValue("person"),this.classIds=["person"],this.SaveChanges()}else console.log("elsepart"),this.classIds=["person"],this.DeleteNewRoi()}onAddingNewfireROI(){if(this.isWater=!1,null!==this.roiNameControl.value){fabric.util.resetObjectTransform(this.newROI);var t=[];const v=[...this.newROIPoints];console.log(v),this.polygonOptions.stroke="orange";var i=this.newROI._calcDimensions();const _=new fabric.Polygon(v,this.polygonOptions);console.log(_);var n=this.roiNameControl.value;if(null!==n){console.log(n),this.isChanges=!0,this.canvas.add(_),this.canvas.renderAll(),console.log(this.newROI);for(let d=0;d<this.newROIPoints.length;d++)t.push(`${this.newROIPoints[d].x};${this.newROIPoints[d].y};`);var l=t.toString().replace(/,/g,"");console.log(l);var m=new fabric.Text(n,{fontSize:20,backgroundColor:"black",selectable:!1,left:i.left,top:i.top-20,stroke:"orange",fill:"orange"});console.log(m),this.canvas.add(m),this.canvas.renderAll();var c={roi_name_canvas:m,roi_canvas:_,roi_name:n,roi_id:this.WaterROIData.length+1,roi_data:{bb_box:l,roi_name:n,roi_id:this.WaterROIData.length+1}}}console.log(l),console.log("water rois"),this.WaterROIData.push(c),console.log(this.WaterROIData),console.log(this.allCameraData),this.newROIPoints.splice(0,this.newROIPoints.length),this.roiNameControl.setValue(null),this.roiNameControl.reset(),this.roiNameControl.setValidators(r.kI.required),this.classIDPerson.reset(),this.classIDBike.reset(),this.classIDCar.reset(),this.classIDPerson.setValue("person"),this.classIds=["person"]}else console.log("elsepart"),this.classIds=["person"],this.DeleteNewRoi()}OnAddingNewCCRoi(){if(this.CCClasses=[],this.CCObjectCounts=[],this.isAddROI=!1,null!==this.crowdCountRoiName.value){fabric.util.resetObjectTransform(this.newROI);var t=[];const v=[...this.newROIPoints];console.log(v);var i=this.newROI._calcDimensions();this.polygonOptions.stroke="rgb(0, 255, 255)";const _=new fabric.Polygon(v,this.polygonOptions);console.log(_);var n=this.crowdCountRoiName.value;if(null!==n){console.log(n),this.isChanges=!0,this.canvas.add(_),this.canvas.renderAll(),console.log(this.newROI);for(let d=0;d<this.newROIPoints.length;d++){let b=Math.round(this.newROIPoints[d].x),u=Math.round(this.newROIPoints[d].y);t.push(`${b};${u};`)}var l=t.toString().replace(/,/g,"");console.log(l);var m=new fabric.Text(n,{fontSize:20,backgroundColor:"black",selectable:!1,left:i.left,top:i.top-20,stroke:"rgb(0, 255, 255)",fill:"rgb(0, 255, 255)"});console.log(m),this.canvas.add(m),this.canvas.renderAll(),this.ccObjectsMinMax.forEach(d=>{if(d.get(d.get("object").value).value){var b={class_name:d.get("object").value,min_count:d.get("min").value,max_count:d.get("max").value};this.CCObjectCounts.push(b)}d.get(d.get("object").value).reset(),d.get("min").markAsUntouched(),d.get("min").setValue(0),d.get("max").reset(),d.get("max").reset()}),console.log(this.CCClasses,this.CCObjectCounts);var c={roi_name_canvas:m,roi_canvas:_,roi_id:n,roi_name:n,cr_data:{bb_box:l,full_frame:!1,roi_id:++this.CCKeyId,area_name:n,data_object:this.CCObjectCounts}}}console.log(c),this.CcRois.push(c),this.modalService.dismissAll(),this.AddCCData(),console.log(this.allCameraData),this.newROIPoints.splice(0,this.newROIPoints.length),this.crowdCountRoiName.setValue(null),this.CrowdForm.get("min").reset(),this.CrowdForm.get("min").setValidators(r.kI.required),this.CrowdForm.get("min").setValidators(r.kI.pattern(/\d+/)),this.CrowdForm.get("max").reset(),this.CrowdForm.get("max").setValidators(r.kI.required),this.CrowdForm.get("max").setValidators(r.kI.pattern(/\d+/)),this.classIds=["person"],console.log("cc rois",this.CcRois)}else console.log("elsepart"),this.classIds=["person"],this.DeleteNewRoi(),this.CrowdForm.get("min").reset(),this.CrowdForm.get("max").reset()}OnAddingNewRw(){if(this.isAddROI=!1,null!==this.roiNameControl.value){fabric.util.resetObjectTransform(this.newROI);var t=[];const v=[...this.newROIPoints];console.log(v);var i=this.newROI._calcDimensions();const _=new fabric.Polygon(v,this.polygonOptions);console.log(_);var n=this.roiNameControl.value;if(null!==n){console.log(n),this.isChanges=!0,this.canvas.add(_),this.canvas.renderAll(),console.log(this.newROI);for(let d=0;d<this.newROIPoints.length;d++)t.push(`${this.newROIPoints[d].x};${this.newROIPoints[d].y};`);var l=t.toString().replace(/,/g,"");console.log(l);var m=new fabric.Text(n,{fontSize:20,backgroundColor:"black",selectable:!1,left:i.left,top:i.top-20,stroke:"rgb(127, 255, 0)",fill:"rgb(127, 255, 0)"});console.log(m),this.canvas.add(m),this.canvas.renderAll();var c={roi_name_canvas:m,roi_canvas:_,roi_id:n,roi_name:n,roi_data:{bb_box:l,roi_name:n,class_id:this.classIds}}}console.log(l),this.allCameraData.push(c),console.log(this.allCameraData),this.newROIPoints.splice(0,this.newROIPoints.length),this.roiNameControl.setValue(null),this.classIds=["person"]}else console.log("elsepart"),this.classIds=["person"],this.DeleteNewRoi()}CreateRectangle(t){console.log(t.e);var i=this.canvas.getPointer(t.e),n=t.pointer.x,s=t.pointer.y;this.rectangle=new fabric.Rect({left:n,top:s,width:i.x-n,height:i.y-s,stroke:"red",type:"rect",strokeWidth:2}),this.canvas.add(this.rectangle),n>i.x&&this.rectangle.set({left:Math.abs(i.x)}),s>i.y&&this.rectangle.set({top:Math.abs(i.y)}),this.rectangle.set({width:Math.abs(n-i.x)}),this.rectangle.set({height:Math.abs(s-i.y)}),this.canvas.renderAll()}createRect2(t){var i=this.canvas.getPointer(t.e),n=t.pointer.x,s=t.pointer.y;1===t.button&&(n>i.x&&this.rectangle.set({left:Math.abs(i.x)}),s>i.y&&this.rectangle.set({top:Math.abs(i.y)}),this.rectangle.set({width:Math.abs(n-i.x)}),this.rectangle.set({height:Math.abs(s-i.y)}),this.canvas.renderAll())}Edit(t){this.selectedEditId=t;var i=this.allCameraData[t].roi_canvas;if(this.isEdit=!0,this.isEdit){var n=(m,c)=>(v,_,d,b)=>{var u=_.target,S=fabric.util.transformPoint(new fabric.Point(u.points[m].x-u.pathOffset.x,u.points[m].y-u.pathOffset.y),u.calcTransformMatrix()),A=c(v,_,d,b),W=(u._setPositionDimensions({}),u._getNonTransformedDimensions());return u.setPositionByOrigin(S,(u.points[m].x-u.pathOffset.x)/W.x+.5,(u.points[m].y-u.pathOffset.y)/W.y+.5),A},s=(m,c,v,_)=>{console.log(m);var d=c.target,b=d.controls[d.__corner],u=d.toLocalPoint(new fabric.Point(v,_),"center","center"),S=d._getNonTransformedDimensions(),A=d._getTransformedDimensions(0,0);return d.points[b.pointIndex]={x:u.x*S.x/A.x+d.pathOffset.x,y:u.y*S.y/A.y+d.pathOffset.y},console.log(d.points),!0};let l=i;console.log(l),this.canvas.setActiveObject(this.allCameraData[t].roi_canvas),l=this.canvas.getActiveObject();{console.log("poly first");let m=l.points.length-1;l.cornerStyle="circle",l.cornerColor="rgba(0,0,255,0.5)",l.controls=l.points.reduce((c,v,_)=>(c["p"+_]=new fabric.Control({pointIndex:_,positionHandler:(d,b,u)=>(console.log(u),fabric.util.transformPoint(new fabric.Point(u.points[_].x-u.pathOffset.x,u.points[_].y-u.pathOffset.y),fabric.util.multiplyTransformMatrices(u.canvas.viewportTransform,u.calcTransformMatrix()))),actionHandler:n(_>0?_-1:m,s),actionName:"modifyPolygon"}),console.log(c),c),{})}console.log(new fabric.Control),this.canvas.renderAll()}}EditROI(t){console.log(t),this.isChanges=!0;var i=this.allCameraData.filter(s=>s.roi_id===t?s.roi_canvas:"");console.log(i[0].roi_canvas),console.log(this.allCameraData)}isDelete(t,i,n){console.log(t),this.deleteField=n,this.deleteID=t,this.modalService.open(i,{centered:!0,backdrop:"static"})}DeleteROI(){if("RA"==this.deleteField){var t=this.deleteID,n=this.allCameraData[t].roi_name_canvas;this.canvas.remove(this.allCameraData[t].roi_canvas),this.canvas.remove(n),this.allCameraData.splice(t,1),this.cameraData.roi_data.splice(t,1),this.server.DeleteSteamSuitRoi({id:this.cameraData._id,roi_id:this.deleteID,steamtype:"first"==this.cameraData.type?"main":"sub"}).subscribe(l=>{this.server.notification(l.message),console.log(l),this.modalService.dismissAll()},l=>{this.modalService.dismissAll(),this.server.notification("Something went wrong","Retry")}),this.canvas.renderAll()}else"Water"==this.deleteField&&(console.log("deleting water roi",this.WaterROIData[this.deleteID]),this.DeleteWaterROIS(this.deleteID))}DeleteCCROI(){var t=this.deleteID,n=this.CcRois[t].roi_name_canvas;this.canvas.remove(this.CcRois[t].roi_canvas),this.canvas.remove(n);var l=this.CcRois[t].cr_data.roi_id;console.log(l),this.CcRois.splice(t,1),this.cameraData.cr_data.splice(t,1);var m={id:this.cameraData._id,roi_id:String(l),steamtype:"first"==this.cameraData.type?"main":"sub"};this.modalService.dismissAll(),this.server.DeleteSteamCC(m).subscribe(c=>{this.server.notification(c.message),console.log(c),this.modalService.dismissAll()},c=>{this.modalService.dismissAll(),this.server.notification("Something went wrong","Retry")}),this.canvas.renderAll()}AlterROIName(t){this.isEditText=!this.isEditText,this.selectedId=t,this.selectedEditId=t,this.tempROIID.setValue(this.allCameraData[t].roi_name),this.modalService.open(this.ROIChangeModal,{size:"small",animation:!0,centered:!0,backdrop:"static"})}ChangeROIName(){this.allCameraData[this.selectedId].roi_name=this.tempROIID.value,this.allCameraData[this.selectedId].roi_name_canvas.text=this.tempROIID.value,this.allCameraData[this.selectedId].roi_data.roi_name=this.tempROIID.value,this.canvas.renderAll(),this.modalService.dismissAll(),this.SaveEditedRoi()}ChangeCCName(){var t;this.CcRois[this.selectedId].roi_name=this.tempROIID.value,this.CcRois[this.selectedId].roi_name_canvas.text=this.tempROIID.value,this.CcRois[this.selectedId].roi_data.roi_name=this.tempROIID.value,this.canvas.renderAll(),this.modalService.dismissAll(),this.CcRois.length>0&&(t=this.CcRois[this.CcRois.length-1].cr_data,console.log("crowd data",t)),this.CcRois.length>0&&this.AISolutions.indexOf("CR")<0&&this.AISolutions.push("CR"),console.log({id:this.ID,ai_solutions:this.AISolutions,cr_data:[t]}),this.SaveEditedRoi()}SaveChanges(){console.log(this.isLoading=!0),console.log(this.peopleCrowdForm.get("min").value),console.log(this.peopleCrowdForm.get("max").value);var i=[];if(this.CcRois.length>0&&(this.CcRois.forEach(m=>{i.push(m.cr_data)}),console.log("crowd data",i)),this.peopleCrowdForm.get("min").value||this.peopleCrowdForm.get("max").value){var n={label_name:"people",min_count:this.peopleCrowdForm.get("min").value?this.peopleCrowdForm.get("min").value:0,max_count:this.peopleCrowdForm.get("max").value?this.peopleCrowdForm.get("max").value:0};this.crowdConfig.push(n)}(this.vehicleCrowdForm.get("min").value||this.vehicleCrowdForm.get("max").value)&&(n={label_name:"vehicle",min_count:this.vehicleCrowdForm.get("min").value?this.vehicleCrowdForm.get("min").value:0,max_count:this.vehicleCrowdForm.get("max").value?this.vehicleCrowdForm.get("max").value:0},this.crowdConfig.push(n)),console.log(),console.log(this.allCameraData);var s=[];this.allCameraData.forEach((m,c)=>{s.push({...m.roi_data,roi_key_id:c,roi_id:c})}),console.log(s);var l={id:this.cameraData._id,roi_data:s,steamtype:"first"==this.cameraData.type?"main":"sub"};console.log(l),this.server.AddRoiToSteamSuit(l).subscribe(m=>{console.log(m),this.isLoading=!1,m.success?this.server.notification(m.message):this.server.notification(m.message,"Retry")},m=>{this.isLoading=!1,this.server.notification("Something went wrong","Retry")})}AddCCData(){var t;this.crowdCountRoiName.reset(),this.CcRois.length>0&&(t=this.CcRois[this.CcRois.length-1].cr_data,console.log("crowd data",t));var i={id:this.cameraData._id,steamtype:"first"==this.cameraData.type?"main":"sub",cr_data:[{...t}]};console.log(i),this.server.AddSteamCC(i).subscribe(n=>{console.log(n),n.success?(this.server.notification(n.message),this.RefreshCameraData()):(this.server.notification(n.message,"Retry"),this.canvas.remove(this.CcRois[this.CcRois.length-1].roi_canvas),this.canvas.remove(this.CcRois[this.CcRois.length-1].roi_name_canvas),this.canvas.renderAll())},n=>{this.canvas.remove(this.CcRois[this.CcRois.length-1].roi_canvas),this.canvas.remove(this.CcRois[this.CcRois.length-1].roi_name_canvas),this.canvas.renderAll(),this.server.notification("Something went wrong","Retry")})}AddTCData(){this.trafficCountData.length>0&&this.AISolutions.indexOf("TC")<0&&this.AISolutions.push("TC");var i={id:this.cameraData._id,steamtype:"first"==this.cameraData.type?"main":"sub",tc_data:[{...this.trafficCountData[this.trafficCountData.length-1]}]};console.log(i),this.server.AddSteamTC(i).subscribe(n=>{console.log(n),n.success?(this.RefreshCameraData(),this.server.notification(n.message)):this.server.notification(n.message)},n=>{this.server.notification("Something went wrong","Retry")})}savePpeConfig(){console.log([]);var i={id:this.cameraData._id,steamtype:"first"==this.cameraData.type?"main":"sub",ppe_data:[this.steamSuit]};console.log(i),this.server.AddPPEToSteamSuit(i).subscribe(n=>{n.success&&this.server.notification(n.message)})}DeleteNewRoi(){this.newROIPoints.splice(0,this.newROIPoints.length),this.canvas.renderAll(),(2==this.roiType||1==this.btnIndex)&&this.DeleteNewTCRoi()}GetPanelPoints(){this.cameraData.roi_data.forEach((t,i)=>{console.log(t);var n=t.bb_box.split(";");this.raObjects.push(...t.label_name),console.log(n);var s=[];for(let c=0;c<n.length-1;c+=2){var l={x:Number(n[c])*this.ratio,y:Number(n[c+1])*this.ratio};s.push(l)}var m={roi:s,roi_name:t.roi_name};this.roiPoints.push(m),console.log(m)}),this.raObjects=this.RemoveDuplicates(this.raObjects),console.log(this.raObjects),this.GetCCRoiPoints(),this.DrawExistPanels()}GetCCRoiPoints(){this.cameraData.cr_data.forEach((t,i)=>{console.log(t,"ccpoints"),this.CCKeyId=t.roi_id,console.log(t.full_frame,"full frame"),t.full_frame&&(this.ccTypeList=(0,k.of)([{label:"+ Crowd Count Types",items:[{label:"ROI",command:c=>{console.log(c),this.AddCCRoi()}}]}]));var n=t.bb_box.split(";");console.log(n);var s=[];for(let c=0;c<n.length-1;c+=2){var l={x:Number(n[c])*this.ratio,y:Number(n[c+1])*this.ratio};s.push(l)}var m={min_count:t.min_count,max_count:t.max_count,class_name:t.class_name,bbox_points:s,area_name:t.area_name};this.CCpoints.push(m),console.log(m)}),this.DrawExistCCRois()}DrawExistCCRois(){this.CCpoints.forEach((t,i)=>{console.log(t.roi),this.polygonOptions.stroke="rgb(0, 255, 255)";var n=new fabric.Polygon(t.bbox_points,this.polygonOptions);console.log(n);var s=new fabric.Text(t.area_name,{fontSize:20,backgroundColor:"black",selectable:!1,left:n.left,top:0==n.top||n.top-20<0||n.top-20==0?20:n.top-20,stroke:"rgb(0, 255, 255)",fill:"rgb(0, 255, 255)"});this.CcRois.push({roi_name_canvas:s,roi_canvas:n,roi_id:i,roi_name:this.cameraData.cr_data[i].area_name,cr_data:this.cameraData.cr_data[i]}),this.canvas.add(n,s),this.canvas.renderAll()}),this.GetTCPoints()}GetTCPoints(){var t={};this.trafficCountData=this.cameraData.tc_data,console.log(this.trafficCountData,"tc data from backebd"),this.cameraData.tc_data.forEach((i,n)=>{console.log(i);var s=i.line_bbox.line.split(";"),l=i.line_bbox.arrow.split(";");console.log(Number(s[n])),t=[{points:{x1:Number(l[0]),y1:Number(l[1]),x2:Number(l[2]),y2:Number(l[3])},type:"arrow",area_name:i.area_name,roi_id:this.trafficCountData[n].roi_id},{points:{x1:Number(s[0]),y1:Number(s[1]),x2:Number(s[2]),y2:Number(s[3])},type:"line",area_name:i.area_name,roi_id:this.trafficCountData[n].roi_id}],this.tempTCData.push(t),console.log(this.trafficCountData[n].roi_id,"${i} roi key id"),this.TCKeyId=i.roi_id}),console.log(this.tempTCData),this.drawExistTCRois(this.tempTCData)}DrawExistPanels(){this.roiPoints.forEach((t,i)=>{console.log(t.roi),this.polygonOptions.stroke=this.raROIColor;var n=new fabric.Polygon(t.roi,this.polygonOptions);console.log(n);var s=new fabric.Text(t.roi_name,{fontSize:20,backgroundColor:"black",selectable:!1,left:n.left+10,top:n.top+30,stroke:this.raROIColor,fill:this.raROIColor});console.log(n);var l={roi_name_canvas:s,roi_canvas:n,roi_name:this.cameraData.roi_data[i].roi_name,roi_data:this.cameraData.roi_data[i]};this.RAKeyId=t.key_id,this.allCameraData.push(l),this.canvas.add(n,s),this.canvas.renderAll()}),console.log(this.allCameraData)}drawExistTCRois(t){this.isMouseDown=!0,this.tempTCCanvas=[];var n,s,i=[];t.forEach((l,m)=>{console.log(l,"tc data"),i=[];for(let u=0;u<l.length;u++){const S=l[u];if(console.log(S),"line"==S.type){var c=[S.points.x1,S.points.y1,S.points.x2,S.points.y2];console.log(c),n=new fabric.Line(c,{stroke:"rgb(127, 255, 0)",strokeWidth:3,fill:"rgb(127, 255, 0)",originX:"center",originY:"center",hasControls:!1,hasBorders:!1,selectable:!1,objectCaching:!1,type:"line"}),console.log(n),i.push(n),n.set({x1:Math.round(S.points.x1),y1:Math.fround(S.points.y1)}),this.canvas.add(n)}if("arrow"==S.type){var d=((n=new fabric.Line([S.points.x1,S.points.y1,S.points.x2,S.points.y2],{strokeWidth:3,fill:"rgb(127, 255, 0)",stroke:"rgb(127, 255, 0)",originX:"center",originY:"center",id:"arrow_line",selectable:!1,lockScalingFlip:!0,objectCaching:!1,type:"arrow"})).y1+n.y2)/2;this.deltaX=n.left-(n.x1+n.x2)/2,this.deltaY=n.top-d,console.log(n),s=new fabric.Triangle({left:n.get("x2")+this.deltaX,top:n.get("y2")+this.deltaY,originX:"center",originY:"center",selectable:!1,pointType:"arrow_start",angle:this._FabricCalcArrowAngle(n.x1,n.y1,n.x2,n.y2),width:20,height:20,fill:"rgb(127, 255, 0)",id:"arrow_triangle",uuid:n.uuid}),i.push(n,s),this.canvas.add(n,s);var b=new fabric.Text(S.area_name,{fontSize:16,backgroundColor:"black",selectable:!1,left:n.left-60,top:0==n.top||n.top-20<0||n.top-20==0?20:n.top-20,stroke:"rgb(127, 255, 0)",fill:"rgb(127, 255, 0)"});i.push(b),this.canvas.add(b),this.canvas.renderAll()}}this.canvas.requestRenderAll(),this.tempTCCanvas[m]=i}),console.log(this.tempTCCanvas),this.canvas.requestRenderAll()}SaveEditedRoi(){if(this.peopleCrowdForm.get("min").value||this.peopleCrowdForm.get("max").value){var t={label_name:["people"],min_count:this.peopleCrowdForm.get("min").value?this.peopleCrowdForm.get("min").value:0,max_count:this.peopleCrowdForm.get("max").value?this.peopleCrowdForm.get("max").value:0,roi_id:null};this.crowdConfig.push(t)}(this.vehicleCrowdForm.get("min").value||this.vehicleCrowdForm.get("max").value)&&(t={label_name:["vehicle"],min_count:this.vehicleCrowdForm.get("min").value?this.vehicleCrowdForm.get("min").value:0,max_count:this.vehicleCrowdForm.get("max").value?this.vehicleCrowdForm.get("max").value:0,roi_id:null},this.crowdConfig.push(t));var i=[];console.log(this.selectedEditId);var n=[];if(null!=this.selectedEditId){for(let v=0;v<this.allCameraData[this.selectedEditId].roi_canvas.points.length;v++){console.log(this.allCameraData[this.selectedEditId].roi_canvas.points);var s=this.allCameraData[this.selectedEditId].roi_canvas.points;let _=Math.round(s[v].x),d=Math.round(s[v].y);n.push(`${_};${d};`)}var m=n.toString().replace(/,/g,"");console.log(m),console.log(this.allCameraData[this.selectedEditId].roi_data),this.allCameraData[this.selectedEditId].roi_data.bb_box=m,console.log(this.allCameraData[this.selectedEditId].roi_data),i.push({...this.allCameraData[this.selectedEditId].roi_data})}console.log({id:this.ID,ai_solutions:["RA"],imagename:this.imageName,roi_data:i,ppe_data:[this.ppeConfig]})}CalculateAspectRatio(t,i,n){return this.ratio=i/t,this.ratio*n}ClassId(t){if(console.log(t.target.defaultValue),console.log(t.target.checked),t.target.checked)this.classIds.push(t.target.value);else{var i=this.classIds.indexOf(t.target.defaultValue);this.classIds.splice(i,1)}console.log(this.classIds)}OnRAAlarmObjects(t){if(console.log(t.target.defaultValue),console.log(t.target.checked),t.target.checked)this.raAlarmObjects.push(t.target.value);else{var i=this.raAlarmObjects.indexOf(t.target.defaultValue);this.raAlarmObjects.splice(i,1)}console.log(this.raAlarmObjects)}OnPPEAlarmObjects(t){if(console.log(t.target.defaultValue),console.log(t.target.checked),t.target.checked)this.ppeAlarmObjects.push(t.target.value);else{var i=this.ppeAlarmObjects.indexOf(t.target.defaultValue);this.ppeAlarmObjects.splice(i,1)}console.log(this.ppeAlarmObjects)}TrafficCountConfig(t){console.log(t),t.target.checked&&(this.TrafficConfig=t.target.value),this.modalService.dismissAll()}PPE_Config(t){console.log(this.ppeForm),console.log(t.target.value),t.target.checked?this.steamSuit[t.target.value]=!0:(this.isEdit=!0,this.steamSuit[t.target.value]=!1),this.savePpeConfig(),console.log("fire",this.fireSmokeForm.get("fire").value,"smoke",this.fireSmokeForm.get("smoke").value),console.log(this.ppeConfig)}VehicleConfig(t){console.log(t.target.value)}DeleteNewTCRoi(){this.trafficCountLineROIS.forEach(t=>{this.canvas.remove(t)}),this.btnIndex=1,this.trafficCountLineROIS=[]}SaveTrafficCountROI(){this.TCCanvasData.push(this.line),this.TCCanvasData.push(this.triangle),console.log(this.line),1==this.btnIndex?this.trafficCountLineROIS.push(this.line):this.trafficCountLineROIS.push(this.line,this.triangle),1==this.trafficCountLineROIS.length&&(this.btnIndex=2),3==this.trafficCountLineROIS.length&&(this.modalService.open(this.TCNameModal,{backdrop:"static"}).result.then(t=>{console.log("cancel"),this.tcName=null,this.tcName.addValidators(r.kI.required),this.classIds=["person"],this.DeleteNewTCRoi()},t=>{console.log("submit"),this.tcName=null,this.setValueForm.reset()}),console.log(this.TCCanvasData)),console.log(this.trafficCountLineROIS)}AddTrafficCountData(){var i,t={};t.line=Math.round(this.trafficCountLineROIS[0].x1).toString()+";"+Math.round(this.trafficCountLineROIS[0].y1).toString()+";"+Math.round(this.trafficCountLineROIS[0].x2).toString()+";"+Math.round(this.trafficCountLineROIS[0].y2).toString()+";",t.arrow=Math.round(this.trafficCountLineROIS[1].x1).toString()+";"+Math.round(this.trafficCountLineROIS[1].y1).toString()+";"+Math.round(this.trafficCountLineROIS[1].x2).toString()+";"+Math.round(this.trafficCountLineROIS[1].y2).toString()+";";var n={class_name:this.classIds,line_bbox:t,area_name:this.tcName.data,roi_id:++this.TCKeyId};fabric.util.resetObjectTransform(this.newROI);var s=this.line._getLeftToOriginX(),l=this.line._getTopToOriginY(),m=new fabric.Text(this.tcName.data,{fontSize:15,backgroundColor:"black",selectable:!1,left:s-20,top:l-30,stroke:"rgb(127, 255, 0)",fill:"rgb(127, 255, 0)"});i=[...this.trafficCountLineROIS,m],console.log(m),this.canvas.add(m),this.canvas.renderAll(),this.trafficCountData[this.trafficCountData.length]=n,console.log(),console.log("traffic count",this.trafficCountData),this.tempTCLineROIS.push(...this.trafficCountLineROIS),console.log(this.trafficCountLineROIS),this.trafficCountLineROIS=[],this.btnIndex=1,this.tempTCCanvas.push(i),this.AddTCData(),this.modalService.dismissAll()}addingShapeOnMouseDown(t){this.isMouseDown=!0;var i=this.canvas.getPointer(t.e);if(console.log(this.line),1==this.btnIndex){var n=[i.x,i.y,i.x,i.y];console.log(n),this.line=new fabric.Line(n,{stroke:"rgb(127, 255, 0)",strokeWidth:3,fill:"rgb(127, 255, 0)",originX:"center",originY:"center",hasControls:!1,hasBorders:!1,selectable:!1,objectCaching:!1,type:"line"}),console.log(this.line),this.line.set({x1:Math.round(i.x),y1:Math.fround(i.y)}),this.canvas.add(this.line),this.activeObj=this.line}if(2===this.btnIndex){this.line=new fabric.Line([i.x,i.y,i.x,i.y],{strokeWidth:3,fill:"rgb(127, 255, 0)",stroke:"rgb(127, 255, 0)",originX:"center",originY:"center",id:"arrow_line",selectable:!1,lockScalingFlip:!0,objectCaching:!1,type:"arrow"});var m=(this.line.y1+this.line.y2)/2;this.deltaX=this.line.left-(this.line.x1+this.line.x2)/2,this.deltaY=this.line.top-m,this.triangle=new fabric.Triangle({left:this.line.get("x2")+this.deltaX,top:this.line.get("y2")+this.deltaY,originX:"center",originY:"center",selectable:!1,pointType:"arrow_start",angle:-45,width:20,height:20,fill:"rgb(127, 255, 0)",id:"arrow_triangle",uuid:this.line.uuid}),this.canvas.add(this.line,this.triangle),this.activeObj=this.line}this.canvas.requestRenderAll()}IsDeleteTC(t,i){this.deleteID=i,console.log(this.deleteID),this.modalService.open(t,{backdrop:"static",size:"xs"})}OnDeleteTCROI(){var t=this.deleteID;console.log(this.deleteID),console.log(this.tempTCCanvas),console.log(this.TCCanvasData[t]),console.log(this.trafficCountData[t]),this.tempTCCanvas[t].forEach(n=>{this.canvas.remove(n),this.canvas.renderAll()}),this.trafficCountLineROIS=[],this.btnIndex=1,this.server.DeleteSteamTC({id:this.cameraData._id,roi_id:this.trafficCountData[t].roi_id,steamtype:"first"==this.cameraData.type?"main":"sub"}).subscribe(n=>{this.server.notification(n.message),n.success&&(this.trafficCountData.splice(t,1),this.modalService.dismissAll())})}SaveCCPeople(){var t={label:["people"]};t.min_count=this.peopleCrowdForm.get("min").value,t.max_count=this.peopleCrowdForm.get("max").value,t.roi_id=null,console.log(t)}SaveCCVehicle(){var t={label:["vehicle"]};t.min_count=this.peopleCrowdForm.get("min").value,t.max_count=this.peopleCrowdForm.get("max").value,t.roi_id=null,console.log(t)}creatingShapeOnMouseMove(t){if(!0===this.isMouseDown){console.log("mouse move");var i=this.canvas.getPointer(t.e);1===this.btnIndex&&this.line.set({x2:i.x,y2:i.y}),2===this.btnIndex&&(console.log(this.line.x1),console.log(this.line.y1),this.line.set({x2:i.x,y2:i.y}),console.log(this.line),2==this.btnIndex&&this.triangle.set({left:i.x+this.deltaX,top:i.y+this.deltaY,angle:this._FabricCalcArrowAngle(this.line.x1,this.line.y1,this.line.x2,this.line.y2)}))}this.canvas.requestRenderAll()}ngOnDestroy(){this.modalService.dismissAll()}RefreshCameraData(){}_FabricCalcArrowAngle(t,i,n,s){var m,c;return c=s-i,180*(0==(m=n-t)?0===c?0:c>0?Math.PI/2:3*Math.PI/2:0===c?m>0?0:Math.PI:m<0?Math.atan(c/m)+Math.PI:c<0?Math.atan(c/m)+2*Math.PI:Math.atan(c/m))/Math.PI+90}RemoveDuplicates(t){return t.filter((i,n)=>t.indexOf(i)===n)}AddFireROI(){this.polygonOptions.stroke="orange",this.newROI.stroke="orange",this.isAddROI=!1,this.isWater=!0,this.isEdit=!1,this.roiType=1,this.isTCRoi=!1,this.newROIPoints.splice(0,this.newROIPoints.length),this.canvas.requestRenderAll(),this.isAddCC=!1}DeleteWaterROIS(t){console.log(t),console.log(this.WaterROIData,"water roi data"),console.log(this.WaterROIData[t].roi_canvas),console.log(this.WaterROIData[t].roi_name_canvas),this.canvas.remove(this.WaterROIData[t].roi_canvas),this.canvas.remove(this.WaterROIData[t].roi_name_canvas)}hooterOrRelayConfig(t,i){console.log(t.target.checked),"hooter"==t.target.value?(this.isHooter=!0,this.isRelay=!1,this.isSensgiz=!1,this.isVoiceAlert=!1):"relay"==t.target.value?(this.isHooter=!1,this.isRelay=!0,this.isSensgiz=!1,this.isVoiceAlert=!1):"voiceAlert"==t.target.value?(this.isVoiceAlert=!0,this.isHooter=!1,this.isRelay=!1,this.isSensgiz=!1):"sensegiz"==t.target.value?(this.isVoiceAlert=!1,this.isSensgiz=!0,this.isHooter=!1,this.isRelay=!1,this.SensgizModal(i)):(this.isVoiceAlert=!1,this.isSensgiz=!1,this.isHooter=!1,this.isRelay=!1)}SensgizModal(t){this.sensgizModal=this.modalService.open(t)}SaveSensgizInfo(){this.SensGizInfo=[],this.sensgiz.controls.forEach((t,i)=>{this.SensGizInfo.push({coin_id:t.value.coinId,preset_id:t.value.coinId,coin_location:t.value.coinLocation,coin_key_id:i})}),"sensegiz"==this.editAlertForm.get("alarmType").value&&null!=this.editAlertForm.get("alarmType").value&&""!=this.editAlertForm.get("alarmIp").value&&this.sensgiz.length>0&&(this.isAlertFormValid=!0),this.sensgizModal.close(),this.editAlertForm.updateValueAndValidity(),console.log(this.SensGizInfo)}AddSensgizData(){this.sensgiz.push(new r.cw({coinId:new r.NI("",r.kI.required),coinLocation:new r.NI("",r.kI.required),presetId:new r.NI("",r.kI.required)}))}DeleteSensgizData(t){this.sensgiz.controls.splice(t,1)}EditAlert(t){this.sensgiz.reset(),this.sensgiz=new r.Oe([]),this.sensgiz.push(new r.cw({coinId:new r.NI("",r.kI.required),coinLocation:new r.NI("",r.kI.required),presetId:new r.NI("",r.kI.required)})),this.editAlertForm.get("alarmEnable").setValue(this.cameraData.alarm_enable),"hooter"==this.cameraData.alarm_type?(this.isHooter=!0,this.isRelay=!1,this.isSensgiz=!1,this.editAlertForm.get("alarmType").setValue("hooter"),this.editAlertForm.get("alarmIp").setValue(this.cameraData.alarm_ip_address)):"relay"==this.cameraData.alarm_type?(this.isHooter=!1,this.isRelay=!0,this.isSensgiz=!1,this.editAlertForm.get("alarmType").setValue("relay"),this.editAlertForm.get("alarmIp").setValue(this.cameraData.alarm_ip_address)):"sensegiz"==this.cameraData.alarm_type&&(this.sensgiz=new r.Oe([]),this.SensGizInfo=this.cameraData.coin_details,this.isHooter=!1,this.isRelay=!1,this.isSensgiz=!0,this.cameraData.coin_details.forEach((i,n)=>{this.sensgiz.push(new r.cw({coinId:new r.NI("",r.kI.required),coinLocation:new r.NI("",r.kI.required),presetId:new r.NI("",r.kI.required)})),this.sensgiz.controls[n].get("coinId").setValue(i.coin_id),this.sensgiz.controls[n].get("coinLocation").setValue(i.coin_location),this.sensgiz.controls[n].get("presetId").setValue(i.preset_id)}),this.editAlertForm.get("alarmType").setValue("sensegiz")),this.modalService.open(t).result.then(i=>{this.responseMessage=""},i=>{this.responseMessage=""})}OnEditAlertDetails(){if(this.responseMessage="",this.editAlertForm.updateValueAndValidity(),console.log(this.editAlertForm.value),this.isLoading=!0,new FormData,this.isFail=!1,this.isSuccess=!1,console.log(this.editAlertForm.value),console.log("rtsp adding"),console.log(Array),this.isHooter){var n={id:this.cameraData._id.$oid,alarm_type:"hooter",alarm_ip_address:this.editAlertForm.value.alarmIp,alarm_enable:this.editAlertForm.get("alarmEnable").value};console.log(n)}else n=this.isRelay?{id:this.cameraData._id.$oid,alarm_type:"relay",alarm_ip_address:this.editAlertForm.value.alarmIp,alarm_enable:this.editAlertForm.value.alarmEnable}:this.isVoiceAlert?{id:this.cameraData._id.$oid,alarm_type:"voiceAlert",alarm_ip_address:this.editAlertForm.value.voiceLanguage,alarm_enable:this.editAlertForm.get("alarmEnable").value}:this.isSensgiz?{id:this.cameraData._id.$oid,alarm_type:"sensegiz",coin_details:this.SensGizInfo,alarm_enable:this.editAlertForm.get("alarmEnable").value}:{id:this.cameraData._id.$oid,ai_solution:[],alarm_type:null,alarm_enable:!1,alarm_ip_address:null}}GetAlertInfo(){}OnModalClose(){this.onModalClose.emit()}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(y.gz),e.\u0275\u0275directiveInject(F.c),e.\u0275\u0275directiveInject(y.F0),e.\u0275\u0275directiveInject(T.FF))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["app-steam-suit-roi"]],viewQuery:function(t,i){if(1&t&&(e.\u0275\u0275viewQuery(Y,5),e.\u0275\u0275viewQuery(X,5),e.\u0275\u0275viewQuery(Z,5),e.\u0275\u0275viewQuery(K,5),e.\u0275\u0275viewQuery(J,5),e.\u0275\u0275viewQuery(ee,7),e.\u0275\u0275viewQuery(te,5),e.\u0275\u0275viewQuery(ne,5),e.\u0275\u0275viewQuery(ae,5),e.\u0275\u0275viewQuery(ie,5)),2&t){let n;e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(i.infoModal=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(i.CCNameModal=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(i.CCNameChangeModal=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(i.fireROINameModal=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(i.ROIChangeModal=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(i.canvasContainer=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(i.RoiNameModal=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(i.TCNameModal=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(i.CCForFrame=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(i.CCTYpe=n.first)}},inputs:{cameraData:"cameraData"},outputs:{onModalClose:"onModalClose"},decls:122,vars:15,consts:[[1,"container-fluid","dashboard-content"],[1,"mb-3","row"],[1,"col-11"],[1,"float-start","page-header"],[1,"col-1"],[1,"float-end"],["type","button","aria-label","Close",1,"btn","btn-default","close",3,"click"],["aria-hidden","true"],[1,"card","card-body","mb-3"],[1,"row","mb-3"],[1,"col-12"],[1,""],[1,"row"],[1,"col-xs-9","col-md-9","col-sm-12","col-xs-12","p-2","border-bottom"],[1,"me-2","btn","success",3,"click"],["icon","plus",1,"me-1"],[1,"col-xl-3","col-md-12isAddCC","col-xs-12","col-sm-12","p-2","border-bottom"],["class","btn default me-2",3,"click",4,"ngIf"],[1,"me-2","btn","danger",3,"click"],["icon","trash",1,"me-1"],["id","container-canvas",1,""],["track","horizontal","pointerEventsMethod","scrollbar",3,"autoHeightDisabled","disabled"],["scrollable",""],["id","canvas-container",1,"d-flex","justify-content-center"],["canvasContainer",""],["id","canvasROI","height","100%","width","100%",1,"canvas-class",2,"cursor","move !important"],["class","row mb-3",4,"ngIf"],[1,"card","card-body"],[1,"mb-2"],[1,"border",2,"border-radius","8.5px"],[1,"list-group"],["class","list-group-item p-3","id","table",4,"ngIf"],[1,"list-group-item"],[1,"col-10"],[1,"input-group"],[1,"row","col-xl-2","col-xs-12","col-sm-12","col-md-12","me-1"],[1,"",2,"color","#178489"],[1,"",2,"pointer-events","all",3,"formGroup"],["id","custome",1,"form-check","form-check-inline"],["type","checkbox","id","helmet","value","gloves","defaultValue","","formControlName","gloves",1,"form-check-input",3,"checked","change"],["for","helmet",1,"form-check-label","text-muted"],["type","checkbox","id","helmet","value","gloves","defaultValue","","formControlName","shoes",1,"form-check-input",3,"checked","change"],["type","checkbox","id","helmet","value","helmet","defaultValue","","formControlName","helmet",1,"form-check-input",3,"checked","change"],["type","checkbox","formControlName","steamsuit","name","","value","steamsuit","defaultValue","vest","id","vest",1,"form-check-input",3,"checked","change"],["for","vest",1,"form-check-label","text-muted"],["type","checkbox","formControlName","f_rod","name","","value","f_rod","defaultValue","vest","id","vest",1,"form-check-input",3,"checked","change"],["type","checkbox","formControlName","vest","name","","value","vest","defaultValue","vest","id","vest",1,"form-check-input",3,"checked","change"],[1,"row","mt-3"],["class","card",4,"ngIf"],["noAIsol",""],[1,"alert","alert-dark"],[1,"col-2"],[1,"mx-auto","my-auto"],["ROINameChangeModal",""],["CCNameChangeModal",""],["ccForFrame",""],["ROINameModal",""],["deleteModal",""],["deleteCCModal",""],["deleteTCModal",""],["crowdCount",""],["roiInfo",""],["TCNameModal",""],["CCType",""],["editAlert",""],["sensgizDetails",""],[1,"btn","default","me-2",3,"click"],["class","col-12",4,"ngIf","ngIfElse"],["noRoi",""],[1,"card"],[1,"card-header"],[1,"table-responsive"],[1,"table","table-responsive"],[2,"text-align","center"],["scope","col"],["icon","cog",1,"me-2"],["style","text-align:center;",4,"ngFor","ngForOf"],[1,"class-header"],[4,"ngFor","ngForOf"],[3,"dblclick"],["class","",4,"ngFor","ngForOf"],[1,"btn","btn-sm","danger","me-2",3,"click"],[1,"btn","btn-default",3,"click"],["icon","trash"],[1,"alert","alert-info"],["id","table",1,"list-group-item","p-3"],["class","table",4,"ngIf"],[1,"table"],[4,"ngIf"],[1,"btn","btn-sm","danger",3,"click"],[1,"mb-3"],[1,"float-start",2,"color","#178489"],[1,"float-end","btn","default-tertiary",3,"click"],["icon","pen-to-square"],[1,"col-xl-12","col-lg-6","col-md-12","col-sm-6","col-xs-6"],[1,"col-12","mb-3"],[1,"d-flex","justify-content-center","align-items-center"],[1,"mt-3"],[1,"text-muted"],[1,"ms-2"],["class","p-1 m-1",4,"ngIf"],["class","col-12 p-2",4,"ngIf"],["class","col-12 d-flex justify-centent-center",4,"ngIf"],[1,"p-1","m-1"],[1,"mb-2","mt-3"],["class","d-flex justify-content-between align-items-center mt-2",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","mt-2"],[1,"d-flex","justify-centent-space-between","align-items-center"],[1,"list-group-item","me-2"],["class","float-end",4,"ngIf"],[1,"list-group-item","ms-2"],[1,"col-12","p-2"],["class","row mt-3",4,"ngIf"],[1,"me-2"],["class","list-group-item",4,"ngIf"],["type","checkbox","name","","value","fire","defaultValue","fire","id","fireAlert",1,"form-check-input",3,"change"],["for","fireAlert",1,"form-check-label","text-muted"],["type","checkbox","name","","value","smoke","defaultValue","smoke","id","smokeAlert",1,"form-check-input",3,"change"],["for","smokeAlert",1,"form-check-label","text-muted"],["type","checkbox","id","RAalert","value","RA","defaultValue","",1,"form-check-input",3,"change"],["for","RAalert",1,"form-check-label","text-muted"],[3,"formGroup"],["class","mb-3 mt-3 d-flex justify-content-center",4,"ngIf"],[1,"mb-3","mt-3","d-flex","justify-content-center"],["class","form-check form-check-inline","id","subCheckbox",4,"ngIf"],["id","subCheckbox",1,"form-check","form-check-inline"],["formControlName","person","type","checkbox","checked","","name","","id","0",1,"form-check-input",3,"defaultValue","value","change"],["for","0",1,"form-check-label"],["formControlName","car","type","checkbox","name","","id","1",1,"form-check-input",3,"value","defaultValue","change"],["for","1",1,"form-check-label"],["formControlName","bike","type","checkbox","name","","id","2",1,"form-check-input",3,"value","defaultValue","change"],["for","2",1,"form-check-label"],["type","checkbox","formControlName","truck","name","","id","3",1,"form-check-input",3,"value","defaultValue","change"],["for","3",1,"form-check-label"],["type","checkbox","name","","value","PPE","defaultValue","PPE","id","PPEalert",1,"form-check-input",3,"change"],["for","PPEalert",1,"form-check-label","text-muted"],["class","form-check form-check-inline","id","custome",4,"ngIf"],["type","checkbox","id","helmetAlert","value","helmet","defaultValue","",1,"form-check-input",3,"change"],["for","helmetAlert",1,"form-check-label","text-muted"],["type","checkbox","name","","value","vest","defaultValue","vest","id","vestAlert",1,"form-check-input",3,"change"],["for","vestAlert",1,"form-check-label","text-muted"],[1,"col-12","d-flex","justify-centent-center"],[1,"table","table-bordered"],[1,"alert","alert-warning"],[1,"card-body","p-4"],["action",""],["type","text","id","ROI",1,"form-control","mb-3",3,"formControl","ngClass"],["id","validationServerUsernameFeedback",3,"ngClass"],["type","submit",1,"btn","success","ms-2","float-end",3,"click"],[1,"btn","danger","me-2","float-end",3,"click"],[1,"modal-header"],[1,"modal-body"],[1,"modal-content"],[1,"p-2"],["id","custome",1,"form-inline","row",3,"formGroup"],["class","d-flex justify-content-center align-items-center",4,"ngFor","ngForOf"],[1,"btn","default","float-end",3,"disabled","click"],[1,"d-flex","justify-content-center","align-items-center","mb-3","mt-3"],["id","custome",1,"mb-2"],["type","checkbox","checked","","name","","min","0",1,"form-check-input",3,"formControlName","defaultValue","value","id","change"],[1,"form-check-label","ms-2",3,"for"],["class","col-sm-3",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"col-sm-3"],["type","number","formControlName","min","min","0","id","min","placeholder","min",1,"form-control",3,"ngClass"],["type","number","formControlName","max","pattern","\\d+","name","","min","0","id","min","placeholder","max",1,"form-control",3,"ngClass"],[1,"text-danger"],["type","text","id","ROI","placeholder","Enter ROI name",1,"form-control","mb-3",3,"ngClass","formControl"],["type","checkbox","checked","","name","","id","0",1,"form-check-input",3,"formControl","defaultValue","value","change"],["type","submit",1,"btn","success","ms-1","float-end",3,"disabled","click"],[1,"btn","danger","me-1","float-end",3,"click"],[1,"modal-confirm"],[1,"modal-header","flex-column"],[1,"icon-box"],[1,"material-icons"],[1,"modal-title","w-100"],[1,"modal-footer","justify-content-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","danger",3,"click"],["action","",1,""],[1,"alert","alert-info","mb-0"],[1,"d-flex","align-items-center","justify-content-center","mt-3","mb-3"],["type","radio","checked","","name","tcConfig","id","0",1,"form-check-input",3,"formControl","defaultValue","value","change"],["type","radio","name","tcConfig","id","1",1,"form-check-input",3,"formControl","value","defaultValue","change"],["type","radio","name","tcConfig","id","2",1,"form-check-input",3,"formControl","value","defaultValue","change"],[1,"d-flex","align-items-center","justify-content-center"],["containerStyleClass","w-100 me-2","placeholder","",1,"w-full",3,"ngModelOptions","ngModel","options","ngModelChange"],[1,"w-100","d-flex","justify-content-between","align-items-center"],[1,"btn","danger","me-1","float-end","w-50",3,"click"],["type","submit","type","submit",1,"btn","success","ms-1","float-end","w-50",3,"disabled","click"],[1,"container"],[1,"form","cf"],[1,"plan","cf"],["type","radio","name","radio1","id","free","value","free"],["for","free",1,"free-label","four","col"],["type","radio","name","radio1","id","basic","value","basic","checked",""],["for","basic",1,"basic-label","four","col"],[1,"border","p-3","mb-3",2,"border-radius","10px",3,"formGroup"],["type","checkbox","hidden","hidden","formControlName","alarmEnable",3,"checked","id"],[1,"switch",3,"for"],["id","input",1,"wrapper-two"],["for","alarmType",1,"mb-1"],["id","alarmType",1,"form-floating","form-control","p-3","mb-3"],["type","radio","formControlName","alarmType","value","hooter","defaultValue","hooter","id","hooter",1,"form-check-input",3,"change"],["for","hooter",1,"form-check-label","text-muted"],["type","radio","formControlName","alarmType","value","relay","defaultValue","relay","id","relay",1,"form-check-input",3,"change"],["for","relay",1,"form-check-label","text-muted"],["type","radio","formControlName","alarmType","value","sensegiz","defaultValue","sensgiz","id","sensgiz",1,"form-check-input",3,"change"],["for","sensgiz",1,"form-check-label","text-muted"],["type","radio","formControlName","alarmType","value","","defaultValue","","id","none",1,"form-check-input",3,"change"],["for","none",1,"form-check-label","text-muted"],["for","alarmDetails",1,"mb-1"],["class","form-floating","id","alarmDetails",4,"ngIf"],["class","form-floating",4,"ngIf"],[1,"m-1"],["for","delay",1,"mb-1"],["formControlName","delay","type","text","id","delay","placeholder","New delay value",1,"form-control"],["class","m-2 alert alert-danger",4,"ngIf"],[1,"mt-2","btn-wrapper"],[1,"btn","default-outline","me-1",3,"click"],[1,"btn","default",3,"disabled","click"],["id","alarmDetails",1,"form-floating"],["type","text","formControlName","alarmIp","placeholder","User name","id","hooterIp",1,"form-control"],["for","hooterIp"],[1,"form-floating"],["type","text","formControlName","alarmIp","placeholder","User name","id","relayIp",1,"form-control"],["for","relayIp"],[1,"form-control"],["icon","pen-to-square",2,"cursor","pointer",3,"click"],[1,"m-2","alert","alert-danger"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","p-3"],[1,"btn","btn-sm","default-outline","mb-3","ms-3",3,"click"],["icon","plus",1,"mb-2"],["class","p-2","style","",4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"d-flex","justify-centent-center",3,"formGroup"],[1,"d-flex","align-items-center","justify-content-between"],["id","coinId","placeholder","Coin ID","formControlName","coinId",1,"form-control","w-20","me-2"],["for","coinId"],["type","number","id","number-input","placeholder","Preset Id","formControlName","presetId",1,"form-control","w-20","me-2"],["for","number-input"],["id","loc","placeholder","Location","formControlName","coinLocation",1,"form-control","w-20","me-2"],["for","loc"],["icon","circle-minus","size","lg",1,"ms-2",2,"cursor","pointer","color","#BD1F14",3,"click"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3)(4,"h3"),e.\u0275\u0275text(5,"Steam Suit Camera Settings"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(6,"div",4)(7,"span",5)(8,"button",6),e.\u0275\u0275listener("click",function(){return i.OnModalClose()}),e.\u0275\u0275elementStart(9,"span",7),e.\u0275\u0275text(10,"\xd7"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13)(17,"div",12)(18,"div",10)(19,"button",14),e.\u0275\u0275listener("click",function(){return i.AddNewROI()}),e.\u0275\u0275element(20,"fa-icon",15),e.\u0275\u0275text(21,"Danger Zone ROI "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"button",14),e.\u0275\u0275listener("click",function(){return i.AddNewLine()}),e.\u0275\u0275element(23,"fa-icon",15),e.\u0275\u0275text(24," Traffic Count ROI "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"button",14),e.\u0275\u0275listener("click",function(){return i.AddCCRoi()}),e.\u0275\u0275text(26,"Add Crowd Count"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(27,"div",16)(28,"div",5),e.\u0275\u0275template(29,re,2,0,"button",17),e.\u0275\u0275elementStart(30,"button",18),e.\u0275\u0275listener("click",function(){return i.DeleteNewRoi()}),e.\u0275\u0275element(31,"fa-icon",19),e.\u0275\u0275text(32,"Delete "),e.\u0275\u0275elementEnd()()()()()()(),e.\u0275\u0275elementStart(33,"div",9)(34,"div",10)(35,"div",20)(36,"ng-scrollbar",21,22)(38,"div",23,24),e.\u0275\u0275element(40,"canvas",25),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275template(41,pe,4,2,"div",26),e.\u0275\u0275elementStart(42,"div",12)(43,"div",10)(44,"div",27)(45,"div",28)(46,"b"),e.\u0275\u0275text(47,"AI Solutions:"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(48,"div",29)(49,"ul",30),e.\u0275\u0275template(50,ge,6,3,"li",31),e.\u0275\u0275template(51,xe,6,3,"li",31),e.\u0275\u0275template(52,we,6,3,"li",31),e.\u0275\u0275elementStart(53,"li",32)(54,"div",12)(55,"div",33)(56,"div",34)(57,"span",35)(58,"h5",36),e.\u0275\u0275text(59,"Steam Suit :"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(60,"div",37)(61,"div",38)(62,"input",39),e.\u0275\u0275listener("change",function(s){return i.PPE_Config(s)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(63,"label",40),e.\u0275\u0275text(64,"Gloves"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(65,"div",38)(66,"input",41),e.\u0275\u0275listener("change",function(s){return i.PPE_Config(s)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(67,"label",40),e.\u0275\u0275text(68," shoes "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(69,"div",38)(70,"input",42),e.\u0275\u0275listener("change",function(s){return i.PPE_Config(s)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(71,"label",40),e.\u0275\u0275text(72,"Helmet"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(73,"div",38)(74,"input",43),e.\u0275\u0275listener("change",function(s){return i.PPE_Config(s)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(75,"label",44),e.\u0275\u0275text(76,"Steam Suit"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(77,"div",38)(78,"input",45),e.\u0275\u0275listener("change",function(s){return i.PPE_Config(s)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(79,"label",44),e.\u0275\u0275text(80,"F rod"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(81,"div",38)(82,"input",46),e.\u0275\u0275listener("change",function(s){return i.PPE_Config(s)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(83,"label",44),e.\u0275\u0275text(84,"Vest"),e.\u0275\u0275elementEnd()()()()()()()()()()()(),e.\u0275\u0275elementStart(85,"div",47)(86,"div",10),e.\u0275\u0275template(87,Ue,24,4,"div",48),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(88,Ye,2,0,"ng-template",null,49,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(90,"div",47)(91,"div",10)(92,"div",50),e.\u0275\u0275text(93,"Above configaration will be applied to this camera"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(94,"div",51),e.\u0275\u0275element(95,"div",52),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(96,Xe,13,5,"ng-template",null,53,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(98,Ze,13,5,"ng-template",null,54,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(100,nt,14,3,"ng-template",null,55,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(102,at,18,9,"ng-template",null,56,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(104,it,17,0,"ng-template",null,57,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(106,rt,17,0,"ng-template",null,58,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(108,st,17,0,"ng-template",null,59,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(110,dt,14,7,"ng-template",null,60,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(112,pt,23,9,"ng-template",null,61,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(114,_t,19,9,"ng-template",null,62,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(116,ht,17,0,"ng-template",null,63,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(118,xt,51,9,"ng-template",null,64,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(120,bt,12,2,"ng-template",null,65,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275advance(29),e.\u0275\u0275property("ngIf",!(i.isEdit&&i.isChanges)&&(i.isAddROI||i.isAddCC)&&i.newROIPoints.length>2),e.\u0275\u0275advance(7),e.\u0275\u0275property("autoHeightDisabled",!1)("disabled",!1),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",!1),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngIf",i.cameraData.roi_data.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.cameraData.tc_data.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.cameraData.cr_data.length>0),e.\u0275\u0275advance(8),e.\u0275\u0275property("formGroup",i.steamSuitForm),e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",i.steamSuit.gloves),e.\u0275\u0275advance(4),e.\u0275\u0275property("checked",i.steamSuit.shoes),e.\u0275\u0275advance(4),e.\u0275\u0275property("checked",i.steamSuit.helmet),e.\u0275\u0275advance(4),e.\u0275\u0275property("checked",i.steamSuit.steamsuit),e.\u0275\u0275advance(4),e.\u0275\u0275property("checked",i.steamSuit.f_rod),e.\u0275\u0275advance(4),e.\u0275\u0275property("checked",i.steamSuit.vest),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",i.cameraData.length>0))},dependencies:[r._Y,r.Fj,r.wV,r.Wl,r._,r.JJ,r.JL,r.c5,r.qQ,r.oH,r.sg,r.u,N.BN,I.NgClass,I.NgForOf,I.NgIf,r.On,r.F,U.KC,B.mP]}),a})();const It=["errorMessage"];function wt(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",30),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext(),s=e.\u0275\u0275reference(68);return e.\u0275\u0275resetView(n.StartAppModal(s))}),e.\u0275\u0275text(1," Start Application "),e.\u0275\u0275elementEnd()}}function kt(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",31),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext(),s=e.\u0275\u0275reference(72);return e.\u0275\u0275resetView(n.StartAppModal(s))}),e.\u0275\u0275text(1," Stop Application "),e.\u0275\u0275elementEnd()}}function Et(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"img",33),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext().$implicit,s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.onImageClick(n,"second"))}),e.\u0275\u0275elementEnd()}if(2&a){const t=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("src",i.Server.IP+"/get_steamroi_image/"+t.sub_camera.imagename,e.\u0275\u0275sanitizeUrl)}}function Rt(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.sub_camera.camera_status?"Active":"Inactive"," ")}}function Tt(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"fa-icon",34),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext().$implicit,s=e.\u0275\u0275nextContext(2),l=e.\u0275\u0275reference(70);return e.\u0275\u0275resetView(s.IsDeleteCamera(l,n))}),e.\u0275\u0275elementEnd()}}function At(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div",40)(1,"div",41),e.\u0275\u0275element(2,"input",42),e.\u0275\u0275elementEnd()()),2&a){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",t.alarm_details.alarm_enable)}}function Ot(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td")(8,"img",33),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit,l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onImageClick(s,"first"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"td"),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"td")(12,"fa-icon",34),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit,l=e.\u0275\u0275nextContext(2),m=e.\u0275\u0275reference(70);return e.\u0275\u0275resetView(l.IsDeleteCamera(m,s))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(13,"td"),e.\u0275\u0275text(14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"td"),e.\u0275\u0275text(16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"td"),e.\u0275\u0275template(18,Et,1,1,"img",35),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"td"),e.\u0275\u0275template(20,Rt,2,1,"div",36),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"td"),e.\u0275\u0275template(22,Tt,1,0,"fa-icon",37),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"td"),e.\u0275\u0275text(24),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"td"),e.\u0275\u0275text(26),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"td")(28,"div",38),e.\u0275\u0275template(29,At,3,1,"div",39),e.\u0275\u0275elementEnd()()()}if(2&a){const t=o.$implicit,i=o.index,n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.main_camera.cameraname),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.main_camera.camera_ip),e.\u0275\u0275advance(2),e.\u0275\u0275property("src",n.Server.IP+"/get_steamroi_image/"+t.main_camera.imagename,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.main_camera.camera_status?"active":"inactive"," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.sub_camera.cameraname),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.sub_camera.camera_ip),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!(null==t||!t.sub_camera)&&n.keys(null==t?null:t.sub_camera).length>0),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!(null==t||!t.sub_camera)&&n.keys(null==t?null:t.sub_camera).length>0),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!(null==t||!t.sub_camera)&&n.keys(null==t?null:t.sub_camera).length>0),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.alarm_details.alarm_type),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.alarm_details.alarm_ip_address),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!(null==t||!t.alarm_details)&&n.keys(t.alarm_details).length>0)}}function Vt(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"tbody"),e.\u0275\u0275template(1,Ot,30,13,"tr",32),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(2,1,t.cameraDetails))}}function Ft(a,o){1&a&&(e.\u0275\u0275elementStart(0,"div",38)(1,"h4"),e.\u0275\u0275text(2,"No cameras are added for steam suit detection."),e.\u0275\u0275elementEnd()())}function Dt(a,o){1&a&&(e.\u0275\u0275elementStart(0,"div",38),e.\u0275\u0275element(1,"span",46),e.\u0275\u0275text(2," Loading... "),e.\u0275\u0275elementEnd())}function Nt(a,o){1&a&&(e.\u0275\u0275elementStart(0,"div",38)(1,"h5"),e.\u0275\u0275text(2,"Error while fetching data"),e.\u0275\u0275elementEnd()())}function Pt(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"tbody")(1,"tr")(2,"td",43)(3,"div",44),e.\u0275\u0275template(4,Ft,3,0,"div",45),e.\u0275\u0275template(5,Dt,3,0,"div",45),e.\u0275\u0275template(6,Nt,3,0,"div",45),e.\u0275\u0275elementEnd()()()()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf","success"==t.dataFetchStatus),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","init"==t.dataFetchStatus),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","error"==t.dataFetchStatus)}}const Mt=function(a){return{"completed-step":a}};function jt(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div",107),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=o.$implicit,i=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(2,Mt,t<=i.activeStepIndex)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",i.items[t].label," ")}}function Lt(a,o){1&a&&(e.\u0275\u0275elementStart(0,"span",108),e.\u0275\u0275text(1,"password should not contain special charecters "),e.\u0275\u0275elementEnd())}function zt(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div",109),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.responseMessage," ")}}function $t(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div",110),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.responseMessage," ")}}function qt(a,o){1&a&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Submit"),e.\u0275\u0275elementEnd())}function Bt(a,o){1&a&&e.\u0275\u0275element(0,"span",111)}function Gt(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div",109),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.responseMessage," ")}}function Wt(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div",110),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.responseMessage," ")}}function Ht(a,o){1&a&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Submit"),e.\u0275\u0275elementEnd())}function Qt(a,o){1&a&&e.\u0275\u0275element(0,"span",111)}function Ut(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div",60),e.\u0275\u0275element(1,"input",112),e.\u0275\u0275elementStart(2,"label",113),e.\u0275\u0275text(3,"Hooter IP"),e.\u0275\u0275elementEnd()()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",t.AddCameraForm.get("hooterIp").invalid&&t.AddCameraForm.get("hooterIp").touched?"is-invalid":"")}}function Yt(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div",60),e.\u0275\u0275element(1,"input",114),e.\u0275\u0275elementStart(2,"label",115),e.\u0275\u0275text(3,"Relay IP"),e.\u0275\u0275elementEnd()()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",t.AddCameraForm.get("relayIp").invalid&&t.AddCameraForm.get("relayIp").touched?"is-invalid":"")}}function Xt(a,o){1&a&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Submit"),e.\u0275\u0275elementEnd())}function Zt(a,o){1&a&&e.\u0275\u0275element(0,"span",111)}const Kt=function(){return{"margin-bottom":"10px"}};function Jt(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",47)(1,"div",48)(2,"h3")(3,"b"),e.\u0275\u0275text(4,"Add Steam Suit Detection Camera Details"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"button",49),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(s.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",50)(7,"div",51)(8,"p-steps",52),e.\u0275\u0275template(9,jt,2,4,"ng-template",53),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div",54)(11,"div",55)(12,"h5",56),e.\u0275\u0275text(13,"Door Camera Details"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",57)(15,"form",58)(16,"div",59)(17,"div",60),e.\u0275\u0275element(18,"input",61),e.\u0275\u0275elementStart(19,"label",62),e.\u0275\u0275text(20,"Area"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(21,"div",60),e.\u0275\u0275element(22,"input",63),e.\u0275\u0275elementStart(23,"label",64),e.\u0275\u0275text(24,"Department"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(25,"div",65)(26,"div",60),e.\u0275\u0275element(27,"input",66),e.\u0275\u0275elementStart(28,"label",67),e.\u0275\u0275text(29,"Camera Name"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(30,"div",68),e.\u0275\u0275element(31,"ng-multiselect-dropdown",69,70),e.\u0275\u0275pipe(33,"async"),e.\u0275\u0275pipe(34,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(35,"div",71)(36,"div",60),e.\u0275\u0275element(37,"input",72),e.\u0275\u0275elementStart(38,"label",73),e.\u0275\u0275text(39,"User name"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(40,"div",60)(41,"div"),e.\u0275\u0275elementStart(42,"div",60),e.\u0275\u0275element(43,"input",74),e.\u0275\u0275elementStart(44,"label",75),e.\u0275\u0275text(45,"Password"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(46,Lt,2,0,"span",76),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(47,"div",77)(48,"div",78)(49,"div",79),e.\u0275\u0275text(50,"or"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(51,"div",80)(52,"div",60),e.\u0275\u0275element(53,"input",81),e.\u0275\u0275elementStart(54,"label",73),e.\u0275\u0275text(55,"Rtsp Url"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(56,"div",60),e.\u0275\u0275element(57,"input",82),e.\u0275\u0275elementStart(58,"label",83),e.\u0275\u0275text(59,"Camera IP"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(60,"div")(61,"div"),e.\u0275\u0275elementStart(62,"div",60),e.\u0275\u0275element(63,"input",84),e.\u0275\u0275elementStart(64,"label",85),e.\u0275\u0275text(65,"Port"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(66,zt,2,1,"div",86),e.\u0275\u0275template(67,$t,2,1,"div",87),e.\u0275\u0275elementStart(68,"div",88)(69,"button",89),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.OnAddFirstCamera())}),e.\u0275\u0275template(70,qt,2,0,"span",36),e.\u0275\u0275template(71,Bt,1,0,"span",90),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(72,"div",91)(73,"div",55)(74,"h5",56),e.\u0275\u0275text(75,"Wall Camera Details"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(76,"div",92)(77,"form",58)(78,"div",59)(79,"div",60),e.\u0275\u0275element(80,"input",66),e.\u0275\u0275elementStart(81,"label",67),e.\u0275\u0275text(82,"Camera Name"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(83,"div",68),e.\u0275\u0275element(84,"ng-multiselect-dropdown",69,70),e.\u0275\u0275pipe(86,"async"),e.\u0275\u0275pipe(87,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(88,"div",71)(89,"div",60),e.\u0275\u0275element(90,"input",72),e.\u0275\u0275elementStart(91,"label",73),e.\u0275\u0275text(92,"User name"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(93,"div",60)(94,"div"),e.\u0275\u0275elementStart(95,"div",60),e.\u0275\u0275element(96,"input",74),e.\u0275\u0275elementStart(97,"label",75),e.\u0275\u0275text(98,"Password"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(99,"div",77)(100,"div",78)(101,"div",79),e.\u0275\u0275text(102,"or"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(103,"div",80)(104,"div",60),e.\u0275\u0275element(105,"input",81),e.\u0275\u0275elementStart(106,"label",73),e.\u0275\u0275text(107,"Rtsp Url"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(108,"div",60),e.\u0275\u0275element(109,"input",82),e.\u0275\u0275elementStart(110,"label",83),e.\u0275\u0275text(111,"Camera IP"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(112,"div")(113,"div"),e.\u0275\u0275elementStart(114,"div",60),e.\u0275\u0275element(115,"input",84),e.\u0275\u0275elementStart(116,"label",85),e.\u0275\u0275text(117,"Port"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(118,Gt,2,1,"div",86),e.\u0275\u0275template(119,Wt,2,1,"div",87),e.\u0275\u0275elementStart(120,"div",93)(121,"button",89),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.OnAddSecondCamera())}),e.\u0275\u0275template(122,Ht,2,0,"span",36),e.\u0275\u0275template(123,Qt,1,0,"span",90),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(124,"button",94),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.SkipSecondcamera())}),e.\u0275\u0275elementStart(125,"span"),e.\u0275\u0275text(126,"Skip Second Camera"),e.\u0275\u0275elementEnd()()()()()()(),e.\u0275\u0275elementStart(127,"div",95)(128,"form",96)(129,"div",38)(130,"div",97)(131,"div",98)(132,"label",99),e.\u0275\u0275text(133,"Select Alarm Type"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(134,"br"),e.\u0275\u0275elementStart(135,"div",100)(136,"input",101),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.hooterOrRelayConfig(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(137,"label",102),e.\u0275\u0275text(138,"Hooter"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(139,"div",100)(140,"input",103),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.hooterOrRelayConfig(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(141,"label",104),e.\u0275\u0275text(142,"Relay"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(143,Ut,4,1,"div",105),e.\u0275\u0275template(144,Yt,4,1,"div",105),e.\u0275\u0275elementStart(145,"div",106)(146,"button",89),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.onAddAlarm())}),e.\u0275\u0275template(147,Xt,2,0,"span",36),e.\u0275\u0275template(148,Zt,1,0,"span",90),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(149,"button",94),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.OnCloseModals())}),e.\u0275\u0275elementStart(150,"span"),e.\u0275\u0275text(151,"Skip"),e.\u0275\u0275elementEnd()()()()()()()()()}if(2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(8),e.\u0275\u0275styleMap(e.\u0275\u0275pureFunction0(52,Kt)),e.\u0275\u0275property("model",t.items)("activeIndex",t.activeStepIndex)("readonly",!0),e.\u0275\u0275advance(7),e.\u0275\u0275property("formGroup",t.AddCameraForm),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",t.AddCameraForm.get("area").invalid&&t.AddCameraForm.get("area").touched?"is-invalid":""),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngClass",t.AddCameraForm.get("department").invalid&&t.AddCameraForm.get("department").touched?"is-invalid":""),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",t.AddCameraForm.get("cameraname").invalid&&t.AddCameraForm.get("cameraname").touched?"is-invalid":""),e.\u0275\u0275advance(4),e.\u0275\u0275property("placeholder","Camera Brand")("settings",e.\u0275\u0275pipeBind1(33,44,t.dropdownSettings2))("data",e.\u0275\u0275pipeBind1(34,46,t.cameraBrandList)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",t.AddCameraForm.get("username").invalid&&t.AddCameraForm.get("username").touched?"is-invalid":""),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",t.AddCameraForm.get("password").invalid&&t.AddCameraForm.get("password").touched?"is-invalid":""),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.AddCameraForm.get("password").hasError("pattern")),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngClass",t.AddCameraForm.get("rtsp_url").invalid&&t.AddCameraForm.get("rtsp_url").touched?"is-invalid":""),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngClass",t.AddCameraForm.get("cameraip").invalid&&t.AddCameraForm.get("cameraip").touched?"is-invalid":""),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",t.AddCameraForm.get("port").invalid&&t.AddCameraForm.get("port").touched?"is-invalid":""),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.isSuccess),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isFail),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!t.isFormValid||t.isLoading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isLoading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isLoading),e.\u0275\u0275advance(6),e.\u0275\u0275property("formGroup",t.AddCameraForm),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",t.AddCameraForm.get("cameraname").invalid&&t.AddCameraForm.get("cameraname").touched?"is-invalid":""),e.\u0275\u0275advance(4),e.\u0275\u0275property("placeholder","Camera Brand")("settings",e.\u0275\u0275pipeBind1(86,48,t.dropdownSettings2))("data",e.\u0275\u0275pipeBind1(87,50,t.cameraBrandList)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",t.AddCameraForm.get("username").invalid&&t.AddCameraForm.get("username").touched?"is-invalid":""),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",t.AddCameraForm.get("password").invalid&&t.AddCameraForm.get("password").touched?"is-invalid":""),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngClass",t.AddCameraForm.get("rtsp_url").invalid&&t.AddCameraForm.get("rtsp_url").touched?"is-invalid":""),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngClass",t.AddCameraForm.get("cameraip").invalid&&t.AddCameraForm.get("cameraip").touched?"is-invalid":""),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",t.AddCameraForm.get("port").invalid&&t.AddCameraForm.get("port").touched?"is-invalid":""),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.isSuccess),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isFail),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!t.isFormValid||t.isLoading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isLoading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isLoading),e.\u0275\u0275advance(5),e.\u0275\u0275property("formGroup",t.alertForm),e.\u0275\u0275advance(15),e.\u0275\u0275property("ngIf","hooter"==t.alertForm.get("alarmType").value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","relay"==t.alertForm.get("alarmType").value),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!1),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isLoading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isLoading)}}function en(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",50)(1,"app-steam-suit-roi",116),e.\u0275\u0275listener("onModalClose",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onCamRoiModalClose(n))}),e.\u0275\u0275elementEnd()()}if(2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("cameraData",t.cameraRoiData)}}function tn(a,o){1&a&&(e.\u0275\u0275elementStart(0,"span",108),e.\u0275\u0275text(1,"Allowed value is 0 or 1"),e.\u0275\u0275elementEnd())}function nn(a,o){1&a&&(e.\u0275\u0275elementStart(0,"span",108),e.\u0275\u0275text(1,"Allowed value is 0 or 1 "),e.\u0275\u0275elementEnd())}function an(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,tn,2,0,"span",76),e.\u0275\u0275template(2,nn,2,0,"span",76),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.setValueForm.get("set1").get("value").errors.min&&null==t.setValueForm.get("set1").get("value").errors.pattern),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.setValueForm.get("set1").get("value").errors.pattern)}}function rn(a,o){1&a&&(e.\u0275\u0275elementStart(0,"span",108),e.\u0275\u0275text(1,"Allowed value is 0 or 1"),e.\u0275\u0275elementEnd())}function sn(a,o){1&a&&(e.\u0275\u0275elementStart(0,"span",108),e.\u0275\u0275text(1,"Allowed value is 0 or 1 "),e.\u0275\u0275elementEnd())}function on(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,rn,2,0,"span",76),e.\u0275\u0275template(2,sn,2,0,"span",76),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.setValueForm.get("set2").get("value").errors.min&&null==t.setValueForm.get("set2").get("value").errors.pattern),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.setValueForm.get("set2").get("value").errors.pattern)}}function ln(a,o){1&a&&(e.\u0275\u0275elementStart(0,"span",108),e.\u0275\u0275text(1,"Allowed value is 0 or 1"),e.\u0275\u0275elementEnd())}function mn(a,o){1&a&&(e.\u0275\u0275elementStart(0,"span",108),e.\u0275\u0275text(1,"Allowed value is 0 or 1 "),e.\u0275\u0275elementEnd())}function cn(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,ln,2,0,"span",76),e.\u0275\u0275template(2,mn,2,0,"span",76),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.setValueForm.get("set3").get("value").errors.min&&null==t.setValueForm.get("set3").get("value").errors.pattern),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.setValueForm.get("set3").get("value").errors.pattern)}}function dn(a,o){1&a&&(e.\u0275\u0275elementStart(0,"span",108),e.\u0275\u0275text(1,"Allowed value is 0 or 1"),e.\u0275\u0275elementEnd())}function pn(a,o){1&a&&(e.\u0275\u0275elementStart(0,"span",108),e.\u0275\u0275text(1,"Allowed value is 0 or 1 "),e.\u0275\u0275elementEnd())}function un(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,dn,2,0,"span",76),e.\u0275\u0275template(2,pn,2,0,"span",76),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.setValueForm.get("set4").get("value").errors.min&&null==t.setValueForm.get("set4").get("value").errors.pattern),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.setValueForm.get("set4").get("value").errors.pattern)}}function _n(a,o){1&a&&(e.\u0275\u0275elementStart(0,"span",108),e.\u0275\u0275text(1,"Value should be number"),e.\u0275\u0275elementEnd())}function hn(a,o){1&a&&(e.\u0275\u0275elementStart(0,"span",108),e.\u0275\u0275text(1,"Value should be number "),e.\u0275\u0275elementEnd())}function gn(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,_n,2,0,"span",76),e.\u0275\u0275template(2,hn,2,0,"span",76),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.setValueForm.get("manualPersonCount").errors.min&&null==t.setValueForm.get("manualPersonCount").errors.pattern),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.setValueForm.get("manualPersonCount").errors.pattern)}}function fn(a,o){1&a&&(e.\u0275\u0275elementStart(0,"span",108),e.\u0275\u0275text(1,"Value should be number"),e.\u0275\u0275elementEnd())}function vn(a,o){1&a&&(e.\u0275\u0275elementStart(0,"span",108),e.\u0275\u0275text(1,"Value should be number "),e.\u0275\u0275elementEnd())}function Cn(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,fn,2,0,"span",76),e.\u0275\u0275template(2,vn,2,0,"span",76),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.setValueForm.get("remotePersonCount").errors.min&&null==t.setValueForm.get("remotePersonCount").errors.pattern),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.setValueForm.get("remotePersonCount").errors.pattern)}}function xn(a,o){1&a&&(e.\u0275\u0275elementStart(0,"span",108),e.\u0275\u0275text(1,"Value should be number"),e.\u0275\u0275elementEnd())}function Sn(a,o){1&a&&(e.\u0275\u0275elementStart(0,"span",108),e.\u0275\u0275text(1,"Value should be number "),e.\u0275\u0275elementEnd())}function bn(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,xn,2,0,"span",76),e.\u0275\u0275template(2,Sn,2,0,"span",76),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.setValueForm.get("analyticsTime").errors.min&&null==t.setValueForm.get("analyticsTime").errors.pattern),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.setValueForm.get("analyticsTime").errors.pattern)}}function yn(a,o){1&a&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Submit"),e.\u0275\u0275elementEnd())}function In(a,o){1&a&&e.\u0275\u0275element(0,"span",111)}const R=function(a){return{"is-invalid":a}};function wn(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",117)(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",49),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(s.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",50)(5,"div",80)(6,"form",58)(7,"div",118)(8,"div",119)(9,"span",120),e.\u0275\u0275text(10,"Set-1 (Plant On/Off) : "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",121),e.\u0275\u0275element(12,"input",122),e.\u0275\u0275template(13,an,3,2,"div",36),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(14,"div",123)(15,"span",120),e.\u0275\u0275text(16,"Set-2 (Wall Operating/Not Operating): "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",121),e.\u0275\u0275element(18,"input",122),e.\u0275\u0275template(19,on,3,2,"div",36),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",124)(21,"span",120),e.\u0275\u0275text(22,"Set-3 (Remotely/Manually) : "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",121),e.\u0275\u0275element(24,"input",122),e.\u0275\u0275template(25,cn,3,2,"div",36),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(26,"div",125)(27,"span",120),e.\u0275\u0275text(28,"Set-4 (Plant Healthy/Not Healthy): "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"div",121),e.\u0275\u0275element(30,"input",122),e.\u0275\u0275template(31,un,3,2,"div",36),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(32,"div",126)(33,"span",120),e.\u0275\u0275text(34,"Person Count for Manual: "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"div",121),e.\u0275\u0275element(36,"input",127),e.\u0275\u0275template(37,gn,3,2,"div",36),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(38,"div",126)(39,"span",120),e.\u0275\u0275text(40,"Person Count for Remote : "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"div",121),e.\u0275\u0275element(42,"input",128),e.\u0275\u0275template(43,Cn,3,2,"div",36),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(44,"div",126)(45,"span",120),e.\u0275\u0275text(46,"Analytics Time(in seconds) : "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(47,"div",121),e.\u0275\u0275element(48,"input",129),e.\u0275\u0275template(49,bn,3,2,"div",36),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(50,"div",130)(51,"button",89),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.AddSetValues())}),e.\u0275\u0275template(52,yn,2,0,"span",36),e.\u0275\u0275template(53,In,1,0,"span",90),e.\u0275\u0275elementEnd()()()()()()}if(2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",t.l1Data.length>0?"Edit":"Add"," Set Values"),e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",t.setValueForm),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(19,R,t.setValueForm.get("set1").get("value").invalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.setValueForm.get("set1").get("value").errors),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(21,R,t.setValueForm.get("set2").get("value").invalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.setValueForm.get("set2").get("value").errors),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(23,R,t.setValueForm.get("set3").get("value").invalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.setValueForm.get("set3").get("value").errors),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(25,R,t.setValueForm.get("set4").get("value").invalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.setValueForm.get("set4").get("value").errors),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(27,R,t.setValueForm.get("manualPersonCount").invalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.setValueForm.get("manualPersonCount").errors),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(29,R,t.setValueForm.get("remotePersonCount").invalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.setValueForm.get("remotePersonCount").errors),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(31,R,t.setValueForm.get("analyticsTime").invalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.setValueForm.get("analyticsTime").errors),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",t.setValueForm.invalid),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isLoading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isLoading)}}function kn(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",50)(1,"div",131)(2,"div",132)(3,"div",133)(4,"h5",134),e.\u0275\u0275text(5," Do you want to start the Steam Suit Detection Application ? "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",135)(7,"button",136),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(s.close("Cross click"))}),e.\u0275\u0275text(8," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"button",137),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.StartApplication())}),e.\u0275\u0275text(10," Start "),e.\u0275\u0275elementEnd()()()()()}}function En(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",50)(1,"div",138)(2,"div",132)(3,"div",139)(4,"h4",140),e.\u0275\u0275text(5,"Are you sure?"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",50)(7,"p"),e.\u0275\u0275text(8," Do you really want to delete this Camera? This process cannot be undone. "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",135)(10,"button",136),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(s.close("Cross click"))}),e.\u0275\u0275text(11," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"button",141),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.DeleteFirstCamera())}),e.\u0275\u0275text(13," Delete "),e.\u0275\u0275elementEnd()()()()()}}function Rn(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",50)(1,"div",142)(2,"div",132)(3,"div",139)(4,"div",143)(5,"i",144),e.\u0275\u0275text(6,"\ue5cd"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"h4",140),e.\u0275\u0275text(8,"Are you sure?"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",50)(10,"p"),e.\u0275\u0275text(11,"Do you really want to stop this Application?"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",135)(13,"button",136),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(s.close("Cross click"))}),e.\u0275\u0275text(14," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",141),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.StopApplication())}),e.\u0275\u0275text(16," Stop "),e.\u0275\u0275elementEnd()()()()()}}function Tn(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",50)(1,"div",142)(2,"div",132)(3,"div",139)(4,"div",143)(5,"i",144),e.\u0275\u0275text(6,"!"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"h4",140),e.\u0275\u0275text(8,"Limit has reached!"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",50)(10,"p"),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",135)(13,"button",136),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(s.close("Cross click"))}),e.\u0275\u0275text(14," Okay "),e.\u0275\u0275elementEnd()()()()()}if(2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(11),e.\u0275\u0275textInterpolate(t.licenseMessage)}}let An=(()=>{class a{constructor(t,i,n,s,l){this.modalService=t,this.Server=i,this.router=n,this.lightbox=s,this.lightBoxConfig=l,this.AddCameraForm=new r.cw({cameraname:new r.NI("",r.kI.required),camera_brand:new r.NI("",r.kI.required),cameraip:new r.NI("",r.kI.required),username:new r.NI("",r.kI.required),password:new r.NI("",r.kI.pattern(RegExp(/^[a-zA-Z0-9\s]*$/))),plant:new r.NI("",r.kI.required),department:new r.NI("",r.kI.required),area:new r.NI("",r.kI.required),port:new r.NI("",r.kI.required),rtsp_url:new r.NI(""),isHooter:new r.NI(""),isRelay:new r.NI(""),isSensgiz:new r.NI(""),hooterIp:new r.NI(""),hooterConfig:new r.NI(""),relayIp:new r.NI(""),voiceLang:new r.NI("")}),this.keys=Object.keys,this.appIsOn=!1,this.l1Data=[],this.licenseMessage="As All the license are used, there is no more license to use",this.startAppConfig=new r.NI,this.isAlerts=!1,this.setValueForm=new r.cw({set1:new r.cw({value:new r.NI(0,[r.kI.required,r.kI.pattern(new RegExp("^(?!-)[0-1]+$"))])}),set2:new r.cw({value:new r.NI(0,[r.kI.required,r.kI.pattern(new RegExp("^(?!-)[0-1]+$"))])}),set3:new r.cw({value:new r.NI(0,[r.kI.required,r.kI.pattern(new RegExp("^(?!-)[0-1]+$"))])}),set4:new r.cw({value:new r.NI(0,[r.kI.required,r.kI.pattern(new RegExp("^(?!-)[0-1]+$"))])}),manualPersonCount:new r.NI(0,[r.kI.required,r.kI.pattern(new RegExp("^(?!-)[0-9]+$"))]),remotePersonCount:new r.NI(0,[r.kI.required,r.kI.pattern(new RegExp("^(?!-)[0-9]+$"))]),analyticsTime:new r.NI(0,[r.kI.required,r.kI.pattern(new RegExp("^(?!-)[0-9]+$"))])}),this.isHooter=!1,this.isRelay=!1,this.isSuccess=!1,this.isFail=!1,this.mainCameraId="",this.dataFetchStatus="",this.responseMessage="",this.isLoading=!1,this.isFormValid=!1,this.activeStepIndex=0,this.dropdownSettings2=(0,k.of)({singleSelection:!0,idField:"id",textField:"text",disabledField:"isDisabled",closeDropDownOnSelection:!0,clearSearchFilter:!0,searchPlaceholderText:"Search",noDataAvailablePlaceholderText:"No data available",noFilteredDataAvailablePlaceholderText:"No filtered data available",showSelectedItemsAtTop:!1,defaultOpen:!1,allowRemoteDataSearch:!1}),this.alertForm=new r.cw({alarmType:new r.NI("",r.kI.required),alarmIp:new r.NI("",r.kI.required),hooterIp:new r.NI(""),relayIp:new r.NI("")}),this.items=[{label:"Add First Camera"},{label:"Add Second Camera"},{label:"Add Alarm type"}],this.cameraDetails=(0,k.of)([]),this.cameraBrandList=(0,k.of)([{id:1,text:"cp_plus"}])}ngOnInit(){this.GetCameraDetails(),this.GetCameraBrands(),this.GetL1data(),this.Server.CheckApplicationStatus().subscribe(t=>{if(t.success){var i=t.message.find(n=>"tg_steamsuit"==n.process_name?n:"");this.appIsOn=i?.process_status}}),this.AddCameraForm.valueChanges.subscribe(t=>{console.log(t),this.AddCameraForm.get("cameraname").value&&this.AddCameraForm.get("cameraip").value&&this.AddCameraForm.get("department").value&&this.AddCameraForm.get("port").value&&this.AddCameraForm.get("camera_brand").value&&this.AddCameraForm.get("username").value&&this.AddCameraForm.get("password").value&&this.AddCameraForm.get("area").value&&this.AddCameraForm.get("cameraip").value?(console.log("adding manually"),this.isFormValid=!0):this.isFormValid=!!(this.AddCameraForm.get("cameraname").value&&this.AddCameraForm.get("camera_brand").value&&this.AddCameraForm.get("department").value&&this.AddCameraForm.get("rtsp_url").value&&this.AddCameraForm.get("area").value)})}OpenModal(t,i,n,s){this.isAlerts=!0,"first"==s&&(this.cameraRoiData={_id:n._id.$oid,type:s}),"second"==s&&(this.cameraRoiData={_id:n._id.$oid,type:s}),this.selectedCamera=n||null,this.Server.CheckLicense().subscribe(l=>{l.success?this.modalService.open(t,{size:i,centered:!0}).result.then(m=>{this.AddCameraForm.reset(),this.activeStepIndex=0,this.isSuccess=!1,this.isFail=!1,this.responseMessage="",document.getElementById("step2").classList.remove("active"),document.getElementById("step3").classList.remove("active"),document.getElementById("step1").classList.add("active"),this.AddCameraForm.get("cameraip").enable(),this.AddCameraForm.get("username").enable(),this.AddCameraForm.get("password").enable(),this.AddCameraForm.get("port").enable(),this.AddCameraForm.get("rtsp_url").enable()},m=>{this.AddCameraForm.reset(),this.activeStepIndex=0,this.isSuccess=!1,this.isFail=!1,this.responseMessage="",document.getElementById("step2").classList.remove("active"),document.getElementById("step3").classList.remove("active"),document.getElementById("step1").classList.add("active"),this.AddCameraForm.get("cameraip").enable(),this.AddCameraForm.get("username").enable(),this.AddCameraForm.get("password").enable(),this.AddCameraForm.get("port").enable(),this.AddCameraForm.get("rtsp_url").enable()}):this.modalService.open(this.ErrorModal)},l=>{})}OpenSetValueForm(t){this.modalService.open(t,{size:"lg",centered:!0}).result.then(i=>{this.isSuccess=!1,this.isFail=!1,this.responseMessage=""},i=>{this.isSuccess=!1,this.isFail=!1,this.responseMessage=""})}OnAddFirstCamera(){this.AddCameraForm.updateValueAndValidity(),this.isFormValid?(this.isLoading=!0,new FormData,this.isFail=!1,this.isSuccess=!1,console.log(this.AddCameraForm.value),this.AddCameraForm.get("rtsp_url").value?(console.log("rtsp adding"),console.log(Array),this.Server.AddFirstCameraByRtsp({cameraname:this.AddCameraForm.value.cameraname,camera_brand:this.AddCameraForm.value.camera_brand[0].text,area:this.AddCameraForm.value.area,rtsp_url:this.AddCameraForm.value.rtsp_url,department:this.AddCameraForm.value.department}).subscribe(l=>{console.log(l),this.GetCameraDetails(),l.success?(this.isLoading=!1,this.isSuccess=!0,this.FCaddedMethod="rtsp",this.responseMessage=l.message,this.mainCameraId=l.data._id.$oid,setTimeout(()=>{this.activeStepIndex++,this.AddCameraForm.reset(),document.getElementById("step1").classList.remove("active"),document.getElementById("step2").classList.add("active"),this.isSuccess=!1,this.isFail=!1,this.responseMessage="",this.AddCameraForm.get("area").setValue(l.data.area),this.AddCameraForm.get("department").setValue(l.data.department),this.AddCameraForm.get("cameraip").disable(),this.AddCameraForm.get("username").disable(),this.AddCameraForm.get("password").disable(),this.AddCameraForm.get("port").disable()},500)):(this.isLoading=!1,this.responseMessage=l.message,this.isFail=!0)},l=>{this.isFail=!0,this.responseMessage="Error while adding camera,retry",this.isLoading=!1})):(console.log(this.AddCameraForm.value.camera_brand.text),this.Server.AddFirstCameraByIp({cameraname:this.AddCameraForm.value.cameraname,camera_brand:this.AddCameraForm.value.camera_brand[0].text,area:this.AddCameraForm.value.area,username:this.AddCameraForm.value.username,password:this.AddCameraForm.value.password,cameraip:this.AddCameraForm.value.cameraip,port:this.AddCameraForm.value.port,department:this.AddCameraForm.value.department}).subscribe(l=>{console.log(l),this.GetCameraDetails(),l.success?(this.responseMessage=l.message,this.isSuccess=!0,this.isLoading=!1,this.mainCameraId=l.data._id.$oid,this.FCaddedMethod="ip",setTimeout(()=>{this.activeStepIndex++,this.AddCameraForm.reset(),document.getElementById("step1").classList.remove("active"),document.getElementById("step2").classList.add("active"),this.isSuccess=!1,this.isFail=!1,this.responseMessage="",this.AddCameraForm.get("area").setValue(l.data.area),this.AddCameraForm.get("department").setValue(l.data.department),this.AddCameraForm.get("rtsp_url").disable(),this.isFail=!1,this.responseMessage=""},1e3)):(this.isLoading=!1,this.responseMessage=l.message,this.isFail=!0)},l=>{this.isFail=!0,this.responseMessage="Error while adding camera,retry",this.isLoading=!1}))):(this.isFail=!0,this.responseMessage="Above Fields are required")}GetL1data(){this.l1Data=[],this.Server.GetSetValueConfig().subscribe(t=>{t.success&&(this.l1Data.push(t.message),this.setValueForm.get("set1").get("value").setValue(t.message.set1),this.setValueForm.get("set2").get("value").setValue(t.message.set2),this.setValueForm.get("set3").get("value").setValue(t.message.set3),this.setValueForm.get("set4").get("value").setValue(t.message.set4),this.setValueForm.get("manualPersonCount").setValue(t.message.person_count_manual),this.setValueForm.get("remotePersonCount").setValue(t.message.person_count_auto),this.setValueForm.get("analyticsTime").setValue(t.message.analytics_stop_time))})}OnAddSecondCamera(){this.AddCameraForm.updateValueAndValidity(),this.isFormValid?(this.isLoading=!0,new FormData,this.isFail=!1,this.isSuccess=!1,this.AddCameraForm.get("rtsp_url").value?this.Server.AddSecondCameraByRtsp({cameraname:this.AddCameraForm.value.cameraname,camera_brand:this.AddCameraForm.value.camera_brand[0].text,rtsp_url:this.AddCameraForm.value.rtsp_url,id:this.mainCameraId}).subscribe(s=>{console.log(s),s.success?(this.isLoading=!1,this.isSuccess=!0,this.responseMessage=s.message,this.GetCameraDetails(),setTimeout(()=>{this.activeStepIndex++,this.AddCameraForm.reset(),document.getElementById("step2").classList.remove("active"),document.getElementById("step3").classList.add("active"),this.isSuccess=!1,this.isFail=!1,this.responseMessage=""},500)):(this.isLoading=!1,this.responseMessage=s.message,this.isFail=!0)},s=>{this.isFail=!0,this.responseMessage="Error while adding camera,retry",this.isLoading=!1}):(console.log(this.AddCameraForm.value.camera_brand.text),this.Server.AddSecondCameraByIp({id:this.mainCameraId,cameraname:this.AddCameraForm.value.cameraname,camera_brand:this.AddCameraForm.value.camera_brand[0].text,username:this.AddCameraForm.value.username,password:this.AddCameraForm.value.password,cameraip:this.AddCameraForm.value.cameraip,port:this.AddCameraForm.value.port}).subscribe(s=>{console.log(s),s.success?(this.GetCameraDetails(),this.responseMessage=s.message,document.getElementById("step2").classList.remove("active"),document.getElementById("step3").classList.add("active"),this.isSuccess=!1,this.isFail=!1):(this.isLoading=!1,this.responseMessage=s.message,this.isFail=!0)},s=>{this.isFail=!0,this.responseMessage="Error while adding camera,retry",this.isLoading=!1}))):(this.isFail=!0,this.responseMessage="Above Fields are required")}SkipSecondcamera(){setTimeout(()=>{this.activeStepIndex++,document.getElementById("step2").classList.remove("active"),document.getElementById("step3").classList.add("active"),this.isSuccess=!1,this.isFail=!1,this.responseMessage=""},500)}GetCameraDetails(){this.dataFetchStatus="init",this.Server.GetSteamSuitCameraInfo().subscribe(t=>{this.dataFetchStatus="success",t.success?this.cameraDetails=(0,k.of)(t.message):(this.responseMessage=t.message,this.cameraDetails=(0,k.of)([]),this.Server.notification(t.message))},t=>{this.dataFetchStatus="error",this.responseMessage="Error while fetching the camera details."})}IsDeleteCamera(t,i){this.selectedCamera=i,this.modalService.open(t,{size:"md",centered:!0,backdrop:"static"})}DeleteFirstCamera(){this.Server.DeleteMainSteamCamera(this.selectedCamera._id.$oid).subscribe(t=>{t.success?(this.Server.notification(t.message),this.modalService.dismissAll(),this.GetCameraDetails()):(this.Server.notification(t.message,"Retry"),this.modalService.dismissAll())},t=>{this.Server.notification("Error while the process","Retry")})}hooterOrRelayConfig(t,i){console.log(t.target.checked),"hooter"==t.target.value&&(this.isHooter=!0,this.isRelay=!1),"relay"==t.target.value&&(this.isHooter=!1,this.isRelay=!0)}test(){document.getElementById("step1").classList.remove("active"),document.getElementById("step2").classList.remove("active"),document.getElementById("step3").classList.add("active")}onAddAlarm(){var t={id:this.mainCameraId,alarm_type:this.alertForm.get("alarmType").value,alarm_ip_address:"relay"==this.alertForm.get("alarmType").value?this.alertForm.get("relayIp").value:this.alertForm.get("hooterIp").value,alarm_enable:!0};this.Server.AddAlarmToSteamSuit(t).subscribe(i=>{this.Server.notification(i.message),i.success&&(this.modalService.dismissAll(),this.GetCameraDetails())})}OnCloseModals(){this.modalService.dismissAll()}goToRoiEdit(t,i){var n=this.router.serializeUrl(this.router.createUrlTree(["app/ROISettings"],{queryParams:{id:t,image:i}}));window.open(n,"_blank")}StartApplication(){this.Server.StartSteamSuitApp().subscribe(t=>{t.success?(this.appIsOn=!0,this.Server.notification(t.message),this.modalService.dismissAll()):this.Server.notification(t.message,"Retry")})}IsStopApplication(t){this.modalService.open(t,{centered:!0,backdrop:"static"})}StopApplication(){this.Server.StopSteamSuitApp().subscribe(t=>{t.success?(this.appIsOn=!1,this.Server.notification(t.message),this.modalService.dismissAll()):this.Server.notification(t.message,"Retry")})}onCamRoiModalClose(t){this.modalService.dismissAll()}AddSetValues(){var t={data:{set1:this.setValueForm.get("set1").get("value").value,set2:this.setValueForm.get("set2").get("value").value,set3:this.setValueForm.get("set3").get("value").value,set4:this.setValueForm.get("set4").get("value").value,person_count_manual:this.setValueForm.get("manualPersonCount").value,person_count_auto:this.setValueForm.get("remotePersonCount").value,analytics_stop_time:this.setValueForm.get("analyticsTime").value}};this.Server.SetValueConfig(t).subscribe(i=>{i.success?(this.Server.notification(i.message),this.modalService.dismissAll(),this.GetL1data()):(this.GetL1data(),this.Server.notification(i.message,"Retry"))},i=>{this.modalService.dismissAll()})}onImageClick(t,i){var n=[{src:this.Server.IP+"/get_steamroi_image/"+("first"==i?t.main_camera.imagename:t.sub_camera.imagename),thumb:this.Server.IP+"/get_steamroi_image/"+("first"==i?t.main_camera.imagename:t.sub_camera.imagename),caption:"first"==i?t.main_camera.cameraname:t.sub_camera.cameraname}];console.log(n),this.lightbox.open(n,0)}GetCameraBrands(){this.Server.GetCameraBrandDetails().subscribe(t=>{var i=[];t.success&&t.message.forEach((n,s)=>{i.push({text:n,id:s})}),this.cameraBrandList=(0,k.of)(i)})}StartAppConfig(t){this.AppConfig=Number(t.target.value)}StartAppModal(t){this.modalService.open(t,{centered:!0,backdrop:"static"})}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(T.FF),e.\u0275\u0275directiveInject(F.c),e.\u0275\u0275directiveInject(y.F0),e.\u0275\u0275directiveInject(D.ey),e.\u0275\u0275directiveInject(D.xm))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["app-steam-suit-settings"]],viewQuery:function(t,i){if(1&t&&e.\u0275\u0275viewQuery(It,5),2&t){let n;e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(i.ErrorModal=n.first)}},decls:75,vars:7,consts:[[1,"container-fluid","dashboard-content"],[1,"card-header"],[1,"row"],[1,"float-end"],["class","float-end btn primary me-2",3,"click",4,"ngIf"],["class","float-end btn danger me-2",3,"click",4,"ngIf"],[1,"float-end","btn","default","me-2",3,"click"],["icon","plus"],[1,"float-end","btn","me-2","default-outline",3,"click"],[1,"p-3"],[1,"col-12"],["id","",1,"card-body"],[1,"table"],[1,"border","rounded"],["rowspan","2"],["colspan","5",2,"text-align","center","border-right","1px solid #ccc !important"],["colspan","5",2,"text-align","center","border-right","1px solid #ccc"],["colspan","3",2,"text-align","center"],[1,"text-muted",2,"background-color","rgb(247, 248, 250)"],["scope",""],["scope","col"],[4,"ngIf","ngIfElse"],["noData",""],["SystemAddModal",""],["roiConfig",""],["addSetValueForm",""],["startAppModal",""],["deleteField",""],["stopAppModal",""],["errorMessage",""],[1,"float-end","btn","primary","me-2",3,"click"],[1,"float-end","btn","danger","me-2",3,"click"],[4,"ngFor","ngForOf"],["alt","",1,"cam-image",3,"src","click"],["icon","trash",1,"btn","text-danger",2,"cursor","pointer",3,"click"],["class","cam-image","alt","",3,"src","click",4,"ngIf"],[4,"ngIf"],["icon","trash","class","btn text-danger","style","cursor: pointer",3,"click",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center"],["class","float-center",4,"ngIf"],[1,"float-center"],[1,"form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",2,"color","var(--label-color)",3,"checked"],["colspan","14"],["id","data-card",1,"card","card-body"],["class","d-flex justify-content-center align-items-center",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2","text-prime"],[1,"border","p-3",2,"background-color","white"],[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close","float-end","mb-2",3,"click"],[1,"modal-body"],[1,"mb-3","mt-2","d-block",2,"margin-bottom","10px !important"],[3,"model","activeIndex","readonly"],["pTemplate","menuitem"],["id","step1",1,"step1","active","m-3"],["id","data-card",1,"card","p-3"],[1,"text-custome"],["id","step1",1,"m-3","p-3",2,"border-radius","10px"],["action","","id","addCameraForm",1,"",3,"formGroup"],["id","input",1,"wrapper-two"],[1,"form-floating"],["type","text","formControlName","area","placeholder","Area","id","Area",1,"form-control",3,"ngClass"],["for","Area"],["type","text","formControlName","department","placeholder","Department","id","department",1,"form-control",3,"ngClass"],["for","department"],[1,"wrapper-two"],["type","text","formControlName","cameraname","placeholder","Camera name","id","cameraname",1,"form-control",3,"ngClass"],["for","cameraname"],["id","cameraBrand",1,"form-floating"],["formControlName","camera_brand",3,"placeholder","settings","data"],["singleSelect",""],["id","input",1,"camera-display"],["type","text","formControlName","username","placeholder","User name","id","username",1,"form-control",3,"ngClass"],["for","username"],["type","text","type","password","formControlName","password","placeholder","Password","id","password",1,"form-control",3,"ngClass"],["for","password"],["class","text-danger",4,"ngIf"],[1,"icon-circle-medium","icon-circle-lg","bg-info-light"],[1,"or"],[1,"ms-2","me-2","mt-2","mb-2"],[1,""],["type","text","formControlName","rtsp_url","placeholder","User name","id","username",1,"form-control",3,"ngClass"],["type","text","formControlName","cameraip","placeholder","Camera ip","id","cameraip",1,"form-control",3,"ngClass"],["for","cameraip"],["type","text","formControlName","port","placeholder","Port","id","port",1,"form-control",3,"ngClass"],["for","port"],["class","alert alert-success mb-2 mt-2","role","alert",4,"ngIf"],["class","alert alert-danger mb-2 mt-3","role","alert",4,"ngIf"],[1,"w-100","p-3","d-flex","justify-centent-center","align-items-center"],["type","submit",1,"mt-3","w-100",3,"disabled","click"],["class","spinner-border spinner-border-sm me-1","role","status","aria-hidden","true",4,"ngIf"],["id","step2",1,"step2"],[1,"m-3","p-3","border","border-rounded",2,"border-radius","10px"],[1,"w-100","p-3","column-flex"],[1,"w-100","btn","border","rounded",3,"click"],["id","step3",1,"step3"],["action","",1,"",3,"formGroup"],["id","input",1,"wrapper","p-3","border","border-rounded"],[1,"form-group","p-3"],[1,"label","mb-3"],["id","custome",1,"form-check","form-check-inline"],["type","radio","formControlName","alarmType","value","hooter","defaultValue","hooter","id","hooter",1,"form-check-input",3,"change"],["for","hooter",1,"form-check-label","text-muted"],["type","radio","formControlName","alarmType","value","relay","defaultValue","relay","id","relay",1,"form-check-input",3,"change"],["for","relay",1,"form-check-label","text-muted"],["class","form-floating",4,"ngIf"],[1,"p-3","column-flex","justify-centent-center","align-items-center"],[3,"ngClass"],[1,"text-danger"],["role","alert",1,"alert","alert-success","mb-2","mt-2"],["role","alert",1,"alert","alert-danger","mb-2","mt-3"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-1"],["type","text","formControlName","hooterIp","placeholder","User name","id","hooterIp",1,"form-control",3,"ngClass"],["for","hooterIp"],["type","text","formControlName","relayIp","placeholder","User name","id","relayIp",1,"form-control",3,"ngClass"],["for","relayIp"],[3,"cameraData","onModalClose"],[1,"modal-header","text-custome"],["id","input",1,"w-100","p-3"],["formGroupName","set1",1,"mb-3"],[1,"mb-2"],[1,"form-group"],["type","text","formControlName","value","placeholder","0 or 1","id","cameraname",1,"form-control",3,"ngClass"],["formGroupName","set2",1,"mb-3"],["formGroupName","set3",1,"mb-3"],["formGroupName","set4",1,"mb-3"],[1,"mb-3"],["type","text","formControlName","manualPersonCount","placeholder","0 or 1","id","cameraname",1,"form-control",3,"ngClass"],["type","text","formControlName","remotePersonCount","placeholder","","id","cameraname",1,"form-control",3,"ngClass"],["type","text","formControlName","analyticsTime","placeholder","","id","cameraname",1,"form-control",3,"ngClass"],[1,"p-3","d-flex","justify-centent-center","align-items-center"],["id","startApp",1,"modal-confirm"],[1,"modal-content"],[1,"modal-body","flex-column"],[1,"text-dark"],[1,"modal-footer","justify-content-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","default",3,"click"],["id","deletemodal",1,"modal-confirm"],[1,"modal-header","flex-column"],[1,"modal-title","w-100"],["type","button",1,"btn","danger",3,"click"],[1,"modal-confirm"],[1,"icon-box"],[1,"material-icons"]],template:function(t,i){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h5")(3,"b"),e.\u0275\u0275text(4,"Steam Suit Camera Details"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(5,"div",2)(6,"div",3),e.\u0275\u0275template(7,wt,2,0,"button",4),e.\u0275\u0275template(8,kt,2,0,"button",5),e.\u0275\u0275elementStart(9,"button",6),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const l=e.\u0275\u0275reference(62);return e.\u0275\u0275resetView(i.OpenModal(l,"lg"))}),e.\u0275\u0275element(10,"fa-icon",7),e.\u0275\u0275text(11," Steam Suit Camera Details "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"button",8),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const l=e.\u0275\u0275reference(66);return e.\u0275\u0275resetView(i.OpenSetValueForm(l))}),e.\u0275\u0275element(13,"fa-icon",7),e.\u0275\u0275text(14),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(15,"div",9)(16,"div",2)(17,"div",10)(18,"div",11)(19,"table",12)(20,"thead",13)(21,"tr")(22,"th",14),e.\u0275\u0275text(23,"S.No"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"th",15),e.\u0275\u0275text(25," First Camera Details "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"th",16),e.\u0275\u0275text(27," Second Camera Details "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"th",17),e.\u0275\u0275text(29,"Alert details"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(30,"tr",18)(31,"th"),e.\u0275\u0275text(32,"Camera Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"th"),e.\u0275\u0275text(34,"Camera Ip"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"th"),e.\u0275\u0275text(36,"Camera Image"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"th"),e.\u0275\u0275text(38,"Camera Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"th"),e.\u0275\u0275text(40,"Actions"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"th"),e.\u0275\u0275text(42,"Camera Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"th"),e.\u0275\u0275text(44,"Camera Ip"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(45,"th"),e.\u0275\u0275text(46,"Camera Image"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(47,"th"),e.\u0275\u0275text(48,"Camera Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(49,"th"),e.\u0275\u0275text(50,"Actions"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(51,"th",19),e.\u0275\u0275text(52,"Alarm Type"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(53,"th",20),e.\u0275\u0275text(54,"Alarm IP Address"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(55,"th",20),e.\u0275\u0275text(56,"Alarm Enable Status"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(57,Vt,3,3,"tbody",21),e.\u0275\u0275pipe(58,"async"),e.\u0275\u0275template(59,Pt,7,3,"ng-template",null,22,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275template(61,Jt,152,53,"ng-template",null,23,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(63,en,2,1,"ng-template",null,24,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(65,wn,54,33,"ng-template",null,25,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(67,kn,11,0,"ng-template",null,26,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(69,En,14,0,"ng-template",null,27,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(71,Rn,17,0,"ng-template",null,28,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(73,Tn,15,1,"ng-template",null,29,e.\u0275\u0275templateRefExtractor)}if(2&t){const n=e.\u0275\u0275reference(60);e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",!1),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.appIsOn),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",i.l1Data.length>0?"Edit":"Add"," Set Values "),e.\u0275\u0275advance(43),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(58,5,i.cameraDetails).length>0)("ngIfElse",n)}},dependencies:[r._Y,r.Fj,r._,r.JJ,r.JL,r.sg,r.u,r.x0,N.BN,I.NgClass,I.NgForOf,I.NgIf,M.OP,f,Q.jx,yt,I.AsyncPipe],styles:[".camera-display[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 3em 1fr;column-gap:20px}button[type=submit][_ngcontent-%COMP%], button[type=reset][_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}button[type=submit][_ngcontent-%COMP%]:disabled, button[type=reset][_ngcontent-%COMP%]   [_ngcontent-%COMP%]:disabled{background-color:#56baed;border:none;color:#fff;padding:15px 80px;cursor:not-allowed;opacity:.7;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}button[type=submit][_ngcontent-%COMP%]:hover, button[type=reset][_ngcontent-%COMP%]:hover{background-color:#39ace7}button[type=submit][_ngcontent-%COMP%]:active, button[type=reset][_ngcontent-%COMP%]:active{transform:scale(.95)}#formContent[_ngcontent-%COMP%]{border-radius:10px;background:#fff;padding:20px;width:100%;position:relative;text-align:center;display:grid;grid-template-columns:3fr 1fr;justify-content:space-between;align-items:center}.step1[_ngcontent-%COMP%]{display:none}.step1.active[_ngcontent-%COMP%]{display:block;transition:display 3ms ease-out}.step2[_ngcontent-%COMP%]{display:none}.step2.active[_ngcontent-%COMP%]{display:block;transition:display 3ms ease-out}.step3[_ngcontent-%COMP%]{display:none}.step3.active[_ngcontent-%COMP%]{display:block}.fieldset[_ngcontent-%COMP%]{border:1px solid #ccc;padding:10px;margin:10px 0}.fieldset[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}.fieldset-content[_ngcontent-%COMP%]{margin-top:5px}.cam-image[_ngcontent-%COMP%]{width:inherit;height:4rem;object-fit:cover;border-radius:4px}.or[_ngcontent-%COMP%]{color:var(--label-color);height:3em;width:3em;display:flex;justify-content:center;text-align:center;align-items:center;border-radius:50%}"]}),a})();var On=g(9174),Vn=g(8526),Fn=g(2453);const Dn=[{path:"",component:An}];let Nn=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({imports:[On.A,y.Bz.forChild(Dn),w,Vn.L,B.o6,Fn.EV,y.Bz]}),a})()},2453:(H,O,g)=>{g.d(O,{EV:()=>P});var r=g(4650),k=g(6895),e=g(805),T=g(1795);let P=(()=>{class h{}return h.\u0275fac=function(p){return new(p||h)},h.\u0275mod=r.\u0275\u0275defineNgModule({type:h}),h.\u0275inj=r.\u0275\u0275defineInjector({imports:[k.CommonModule,T.T,e.m8]}),h})()}}]);