"use strict";(self.webpackChunktatasteel=self.webpackChunktatasteel||[]).push([[766],{6766:($i,k,f)=>{f.r(k),f.d(k,{CameraRoiModule:()=>ji});var C=f(9569),F=f(9174),b=(f(8621),f(9646)),y=f(2953),o=f(433),e=f(4650),P=f(7445),N=f(2216),I=f(6895),w=f(64),S=f(805),R=f(8783);const M=["roiInfo"],j=["crowdCount"],L=["CCNameChangeModal"],z=["FireNameModal"],$=["ROINameChangeModal"],q=["TagNameChangeModal"],G=["canvasContainer"],H=["ROINameModal"],Q=["TCNameModal"],W=["ccForFrame"],Z=["spillageROIName"],B=["CCType"];function Y(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div",51)(1,"div",52)(2,"div",53)(3,"h5",54),e.\u0275\u0275text(4,"Camera Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"h3"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"div",52)(8,"div",53)(9,"h5",54),e.\u0275\u0275text(10,"Camera IP"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"h3"),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(13,"div",52)(14,"div",53)(15,"h5",54),e.\u0275\u0275text(16,"Area"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"h3"),e.\u0275\u0275text(18),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(19,"div",52)(20,"div",53)(21,"h5",54),e.\u0275\u0275text(22,"Plant"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"h3"),e.\u0275\u0275text(24),e.\u0275\u0275elementEnd()()()()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(t.cameraData?t.cameraData[0].cameraname:"--"),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(t.cameraData?t.cameraData[0].camera_ip:"--"),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",t.cameraData?t.cameraData[0].area?t.cameraData[0].area:"None":"--"," "),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",t.cameraData?t.cameraData[0].plant?t.cameraData[0].plant:"None":"--"," ")}}const X=function(){return{color:"white !important"}},U=function(){return{background:"var(--prime-color)",color:"white !important","border-radius":"0.375rem !important"}},K=function(){return{standalone:!0}};function J(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"p-treeSelect",55),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.selectedCCMode=n)})("onNodeSelect",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.OnCCTypeSelect(n))}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275styleMap(e.\u0275\u0275pureFunction0(10,X)),e.\u0275\u0275property("labelStyleClass","w-100 btn default text-white")("containerStyle",e.\u0275\u0275pureFunction0(11,U))("ngModelOptions",e.\u0275\u0275pureFunction0(12,K))("disabled",t.cameraData[0].cr_data.length>0)("ngModel",t.selectedCCMode)("options",e.\u0275\u0275pipeBind1(2,8,t.ccTypeList))}}function ee(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",56),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.AddNewSpillageRoi())}),e.\u0275\u0275element(1,"fa-icon",9),e.\u0275\u0275text(2," Spillage ROI "),e.\u0275\u0275elementEnd()}}function te(i,l){1&i&&e.\u0275\u0275element(0,"fa-icon",57)}function ie(i,l){1&i&&e.\u0275\u0275element(0,"span",58)}function ae(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",59),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.RoiName())}),e.\u0275\u0275text(1," Confirm ROI "),e.\u0275\u0275elementEnd()}}function ne(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("Danger Zone (",t.allCameraData.length,") ")}}function re(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div",71),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=l.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t," ")}}function le(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"span")(2,"div",80)(3,"span"),e.\u0275\u0275text(4,"Relay"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"input",85),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(),s=r.index,c=r.$implicit,m=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(m.SetRelayOrHooter(n,s,c,"relay"))}),e.\u0275\u0275elementEnd()()()()}if(2&i){const t=e.\u0275\u0275nextContext(),a=t.$implicit,n=t.index;e.\u0275\u0275advance(5),e.\u0275\u0275property("checked",null==a||null==a.alarm_type?null:a.alarm_type.relay)("id","Relay"+n)}}function oe(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"span")(2,"div",80)(3,"span"),e.\u0275\u0275text(4,"Hooter"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"input",86),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(),s=r.index,c=r.$implicit,m=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(m.SetRelayOrHooter(n,s,c,"hooter"))}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(6,"span"),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext(),a=t.$implicit,n=t.index;e.\u0275\u0275advance(5),e.\u0275\u0275property("checked",null==a||null==a.alarm_type?null:a.alarm_type.hooter)("id","hooter"+n),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("hooter shutdown time : ",null==a?null:a.hooter_shutdown_time,"")}}function se(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr",74)(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td",78),e.\u0275\u0275listener("dblclick",function(){const r=e.\u0275\u0275restoreView(t).index,s=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(s.AlterROIName(r))}),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275template(6,re,2,1,"div",79),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td")(8,"div",65)(9,"div",80)(10,"span"),e.\u0275\u0275text(11,"Pinch Role"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"input",81),e.\u0275\u0275listener("change",function(n){const r=e.\u0275\u0275restoreView(t),s=r.index,c=r.$implicit,m=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(m.SetPinchRole(n,s,c))}),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(13,"td")(14,"div",82),e.\u0275\u0275text(15),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"td")(17,"div",71)(18,"div",82)(19,"div",71)(20,"tr")(21,"td"),e.\u0275\u0275template(22,le,6,2,"div",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"td"),e.\u0275\u0275template(24,oe,8,3,"div",7),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275element(25,"br"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(26,"td")(27,"button",83),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).index,s=e.\u0275\u0275nextContext(4),c=e.\u0275\u0275reference(61);return e.\u0275\u0275resetView(s.isDelete(r,c,"RA"))}),e.\u0275\u0275element(28,"fa-icon",84),e.\u0275\u0275text(29," Delete "),e.\u0275\u0275elementEnd()()()}if(2&i){const t=l.$implicit,a=l.index,n=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(a+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.roi_name," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.label_name),e.\u0275\u0275advance(6),e.\u0275\u0275property("checked",null==t?null:t.pinch_role)("id","pinchRole"+a),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.tag_name," "),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",null==n.cameraData[0]||null==n.cameraData[0].alarm_type?null:n.cameraData[0].alarm_type.relay),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",null==n.cameraData[0]||null==n.cameraData[0].alarm_type?null:n.cameraData[0].alarm_type.hooter)}}function me(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div",71)(1,"div",72)(2,"h5"),e.\u0275\u0275text(3,"ROI Details"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"table",73)(5,"thead")(6,"tr",74)(7,"th",75),e.\u0275\u0275text(8,"S.No"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"th",75),e.\u0275\u0275text(10,"ROI name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"th",75),e.\u0275\u0275text(12,"Objects"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"th",75),e.\u0275\u0275text(14,"Pinch Role "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"th",75),e.\u0275\u0275text(16,"Tag Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"th",75),e.\u0275\u0275text(18,"Alarms"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"th",75),e.\u0275\u0275element(20,"fa-icon",76),e.\u0275\u0275text(21,"Settings "),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(22,"tbody"),e.\u0275\u0275template(23,se,30,8,"tr",77),e.\u0275\u0275elementEnd()()()),2&i){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(23),e.\u0275\u0275property("ngForOf",t.cameraData[0].roi_data)}}function ce(i,l){1&i&&(e.\u0275\u0275elementStart(0,"div",87)(1,"div",65)(2,"h5"),e.\u0275\u0275text(3,"No ROI is added for danger zone,"),e.\u0275\u0275elementEnd()()())}function de(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,me,24,1,"div",70),e.\u0275\u0275template(2,ce,4,0,"ng-template",null,62,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275reference(3),a=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.cameraData[0].roi_data&&a.cameraData[0].roi_data.length>0)("ngIfElse",t)}}function _e(i,l){1&i&&(e.\u0275\u0275elementStart(0,"div",87)(1,"div",65)(2,"h5"),e.\u0275\u0275text(3,"No Details Found For Danger Zone analytics"),e.\u0275\u0275elementEnd()()())}function pe(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("Traffic Count (",t.cameraData[0].tc_data?t.cameraData[0].tc_data.length:0,")")}}function ue(i,l){1&i&&(e.\u0275\u0275elementStart(0,"div",72)(1,"h5"),e.\u0275\u0275text(2,"ROI Details"),e.\u0275\u0275elementEnd()())}function he(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=l.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t," ")}}function ve(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275template(6,he,2,1,"div",90),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td")(8,"button",91),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).index,s=e.\u0275\u0275nextContext(4),c=e.\u0275\u0275reference(65);return e.\u0275\u0275resetView(s.IsDeleteTC(c,r))}),e.\u0275\u0275element(9,"fa-icon",84),e.\u0275\u0275text(10," Delete "),e.\u0275\u0275elementEnd()()()}if(2&i){const t=l.$implicit,a=l.index;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(a+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.area_name),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.class_name)}}function fe(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"table",73)(1,"thead")(2,"tr")(3,"th",75),e.\u0275\u0275text(4,"S.No"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"th",75),e.\u0275\u0275text(6,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"th",75),e.\u0275\u0275text(8,"Objects"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"th"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"tbody"),e.\u0275\u0275template(11,ve,11,3,"tr",90),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(11),e.\u0275\u0275property("ngForOf",t.cameraData[0].tc_data)}}function ge(i,l){1&i&&(e.\u0275\u0275elementStart(0,"div",87)(1,"div",65)(2,"h5"),e.\u0275\u0275text(3,"No Details Found For Traffic Count analytics"),e.\u0275\u0275elementEnd()()())}function Ce(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,ue,3,0,"div",88),e.\u0275\u0275template(2,fe,12,1,"table",89),e.\u0275\u0275template(3,ge,4,0,"ng-template",null,62,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275reference(4),a=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==a.cameraData[0]?null:a.cameraData[0].tc_data.length)>0)("ngIfElse",t),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==a.cameraData[0]?null:a.cameraData[0].tc_data.length)>0)}}function xe(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("Crowd Count (",t.cameraData[0].cr_data?t.cameraData[0].cr_data.length:0,")")}}function be(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"span",95)(2,"b"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(4,"br"),e.\u0275\u0275text(5),e.\u0275\u0275element(6,"br"),e.\u0275\u0275elementEnd()),2&i){const t=l.$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.class_name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2(" minimum : ",t.min_count," , maximum : ",t.max_count," ")}}function Ie(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td",75),e.\u0275\u0275template(6,be,7,3,"div",90),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td")(8,"button",91),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).index,s=e.\u0275\u0275nextContext(5),c=e.\u0275\u0275reference(63);return e.\u0275\u0275resetView(s.isDelete(r,c,"CC"))}),e.\u0275\u0275element(9,"fa-icon",84),e.\u0275\u0275text(10," Delete "),e.\u0275\u0275elementEnd()()()}if(2&i){const t=l.$implicit,a=l.index;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(a+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.area_name?t.area_name:"Frame"," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.data_object)}}function ye(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"table",73)(1,"thead")(2,"tr")(3,"th",75),e.\u0275\u0275text(4,"SI no"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"th",75),e.\u0275\u0275text(6,"Crowd Count Roi Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"th",75),e.\u0275\u0275text(8,"Details"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"th",75),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"tbody"),e.\u0275\u0275template(11,Ie,11,3,"tr",90),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(11),e.\u0275\u0275property("ngForOf",t.cameraData[0].cr_data)}}function we(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"div",72)(2,"h5"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(4,ye,12,1,"table",94),e.\u0275\u0275elementEnd()),2&i){e.\u0275\u0275nextContext();const t=e.\u0275\u0275reference(5),a=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",a.cameraData[0].cr_data[0].full_frame?"Crowd Count For Full Frame":"ROI Details"," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!a.cameraData[0].cr_data[0].full_frame)("ngIfElse",t)}}function Se(i,l){1&i&&(e.\u0275\u0275elementStart(0,"div",87)(1,"div",65)(2,"h5"),e.\u0275\u0275text(3,"No Details Found For Crowd Count analytics"),e.\u0275\u0275elementEnd()()())}function Re(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",96)(1,"div",67)(2,"span",97)(3,"b"),e.\u0275\u0275text(4," Crowd Count for full frame is added for this camera "),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"br"),e.\u0275\u0275elementStart(6,"span",71),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(8,"br"),e.\u0275\u0275elementStart(9,"span",71),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"span",16)(12,"span",91),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext(3),r=e.\u0275\u0275reference(67);return e.\u0275\u0275resetView(n.ModalOpen(r))}),e.\u0275\u0275element(13,"fa-icon",98),e.\u0275\u0275text(14,"Full Frame Crowd Count "),e.\u0275\u0275elementEnd()()()()}if(2&i){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1("Minimum Person count:",t.cameraData[0].cr_data[0].data_object[0].min_count," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" Maximum Person count: ",t.cameraData[0].cr_data[0].data_object[0].max_count," ")}}function ke(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,we,5,3,"div",92),e.\u0275\u0275template(2,Se,4,0,"ng-template",null,62,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(4,Re,15,2,"ng-template",null,93,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275reference(3),a=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.cameraData[0].cr_data.length>0)("ngIfElse",t)}}function Ee(i,l){1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Personal Protective Equipment"),e.\u0275\u0275elementEnd())}function De(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"div",99)(2,"span",100)(3,"h5",101),e.\u0275\u0275text(4," Personal Protective Equipment: "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div",102)(6,"div",103)(7,"input",104),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.PPE_Config(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"label",105),e.\u0275\u0275text(9,"Helmet"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div",103)(11,"input",106),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.PPE_Config(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"label",107),e.\u0275\u0275text(13,"Vest"),e.\u0275\u0275elementEnd()()()()()}if(2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(5),e.\u0275\u0275property("formGroup",t.ppeForm),e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",t.ppeConfig.helemt),e.\u0275\u0275advance(4),e.\u0275\u0275property("checked",t.ppeConfig.vest)}}function Oe(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("Spillage Detection (",t.cameraData[0].spillage_roi_data?t.cameraData[0].spillage_roi_data.length>0:0,")")}}function Te(i,l){1&i&&(e.\u0275\u0275elementStart(0,"h5"),e.\u0275\u0275text(1," ROI Details "),e.\u0275\u0275elementEnd())}function Ae(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=l.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t," ")}}function Ve(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275template(6,Ae,2,1,"div",90),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td")(8,"button",91),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).index,s=e.\u0275\u0275nextContext(6),c=e.\u0275\u0275reference(61);return e.\u0275\u0275resetView(s.isDelete(r,c,"spillage"))}),e.\u0275\u0275element(9,"fa-icon",84),e.\u0275\u0275text(10," Delete "),e.\u0275\u0275elementEnd()()()}if(2&i){const t=l.$implicit,a=l.index;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(a+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.roi_name),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.label_name)}}function Fe(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"table",73)(1,"thead")(2,"tr")(3,"th",75),e.\u0275\u0275text(4,"S.No"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"th",75),e.\u0275\u0275text(6,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"th",75),e.\u0275\u0275text(8,"Object"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"th"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"tbody"),e.\u0275\u0275template(11,Ve,11,3,"tr",90),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext(5);e.\u0275\u0275advance(11),e.\u0275\u0275property("ngForOf",t.cameraData[0].spillage_roi_data)}}function Pe(i,l){1&i&&(e.\u0275\u0275elementStart(0,"div",87)(1,"div",65)(2,"h5"),e.\u0275\u0275text(3,"No Details Found For Spillage analytics"),e.\u0275\u0275elementEnd()()())}function Ne(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"div",108),e.\u0275\u0275template(2,Te,2,0,"h5",92),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,Fe,12,1,"table",89),e.\u0275\u0275template(4,Pe,4,0,"ng-template",null,62,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275reference(5),a=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null==a.cameraData[0]?null:a.cameraData[0].spillage_roi_data.length)>0)("ngIfElse",t),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==a.cameraData[0]?null:a.cameraData[0].spillage_roi_data.length)>0)}}function Me(i,l){1&i&&(e.\u0275\u0275elementStart(0,"div",87)(1,"div",65)(2,"h5"),e.\u0275\u0275text(3,"No Details Found For Spillage analytics"),e.\u0275\u0275elementEnd()()())}function je(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Ne,6,3,"div",92),e.\u0275\u0275template(2,Me,4,0,"ng-template",null,62,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275reference(3),a=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==a.cameraData[0]?null:a.cameraData[0].spillage_roi_data)("ngIfElse",t)}}function Le(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"p-tabPanel",63),e.\u0275\u0275template(1,Oe,2,1,"ng-template",61),e.\u0275\u0275template(2,je,4,2,"div",7),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.cameraData.length>0)}}function ze(i,l){1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Environmental Change"),e.\u0275\u0275elementEnd())}function $e(i,l){1&i&&(e.\u0275\u0275elementStart(0,"span",134),e.\u0275\u0275text(1,"The minimum allowed value is 0"),e.\u0275\u0275elementEnd())}function qe(i,l){1&i&&(e.\u0275\u0275elementStart(0,"span",134),e.\u0275\u0275text(1,"value should be number "),e.\u0275\u0275elementEnd())}function Ge(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,$e,2,0,"span",133),e.\u0275\u0275template(2,qe,2,0,"span",133),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.get("coinId").errors.min&&null==t.get("coinId").errors.pattern),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.get("coinId").errors.pattern)}}function He(i,l){1&i&&(e.\u0275\u0275elementStart(0,"span",134),e.\u0275\u0275text(1,"The minimum allowed value is 0"),e.\u0275\u0275elementEnd())}function Qe(i,l){1&i&&(e.\u0275\u0275elementStart(0,"span",134),e.\u0275\u0275text(1,"value should be number "),e.\u0275\u0275elementEnd())}function We(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,He,2,0,"span",133),e.\u0275\u0275template(2,Qe,2,0,"span",133),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.get("presetId").errors.min&&null==t.get("presetId").errors.pattern),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.get("presetId").errors.pattern)}}function Ze(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",122),e.\u0275\u0275elementContainerStart(1,123),e.\u0275\u0275elementStart(2,"div",124)(3,"div",125),e.\u0275\u0275element(4,"input",126),e.\u0275\u0275elementStart(5,"label",127),e.\u0275\u0275text(6,"Coin Id"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,Ge,3,2,"div",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"div",125),e.\u0275\u0275element(9,"input",128),e.\u0275\u0275elementStart(10,"label",129),e.\u0275\u0275text(11,"Preset Id"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(12,We,3,2,"div",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",125),e.\u0275\u0275element(14,"input",130),e.\u0275\u0275elementStart(15,"label",131),e.\u0275\u0275text(16,"Location"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(17,"fa-icon",132),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).index,s=e.\u0275\u0275nextContext(5);return e.\u0275\u0275resetView(s.DeleteSensgizData(r))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd()}if(2&i){const t=l.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",null!=t.get("coinId").errors),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",null!=t.get("presetId").errors)}}function Be(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",118)(1,"button",119),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(n.AddSensgizData())}),e.\u0275\u0275element(2,"fa-icon",120),e.\u0275\u0275text(3," Add "),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,Ze,18,3,"div",121),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(4),e.\u0275\u0275property("ngForOf",t.sensgiz.controls)}}function Ye(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",110)(1,"div",111)(2,"div",112)(3,"span",100)(4,"h5",101),e.\u0275\u0275text(5,"Fire :"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",102)(7,"div",103),e.\u0275\u0275element(8,"input",113),e.\u0275\u0275elementStart(9,"label",114),e.\u0275\u0275text(10,"Fire"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"div",103),e.\u0275\u0275element(12,"input",115),e.\u0275\u0275elementStart(13,"label",116),e.\u0275\u0275text(14,"Smoke"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(15,Be,5,1,"div",117),e.\u0275\u0275elementStart(16,"span",16)(17,"button",10),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(n.AddFireROI())}),e.\u0275\u0275element(18,"fa-icon",9),e.\u0275\u0275text(19," ROI "),e.\u0275\u0275elementEnd()()()()()}if(2&i){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(6),e.\u0275\u0275property("formGroup",t.fireSmokeForm),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngIf",t.fireSmokeForm.get("fire").value||t.fireSmokeForm.get("smoke").value)}}function Xe(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"p-tabPanel",64),e.\u0275\u0275template(1,ze,2,0,"ng-template",61),e.\u0275\u0275template(2,Ye,20,2,"div",109),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.cameraData.length>0)}}function Ue(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"p-tabView",60)(2,"p-tabPanel"),e.\u0275\u0275template(3,ne,2,1,"ng-template",61),e.\u0275\u0275template(4,de,4,2,"div",7),e.\u0275\u0275template(5,_e,4,0,"ng-template",null,62,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"p-tabPanel",63),e.\u0275\u0275template(8,pe,2,1,"ng-template",61),e.\u0275\u0275template(9,Ce,5,3,"div",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"p-tabPanel",64),e.\u0275\u0275template(11,xe,2,1,"ng-template",61),e.\u0275\u0275template(12,ke,6,2,"div",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"p-tabPanel",64),e.\u0275\u0275template(14,Ee,2,0,"ng-template",61),e.\u0275\u0275elementStart(15,"div",65)(16,"div",66)(17,"div",67),e.\u0275\u0275template(18,De,14,3,"div",7),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(19,Le,3,1,"p-tabPanel",68),e.\u0275\u0275template(20,Xe,3,1,"p-tabPanel",69),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",null!=t.cameraData),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",t.cameraData.length>0),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.cameraData.length>0),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",t.cameraData.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!1),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!1)}}function Ke(i,l){1&i&&(e.\u0275\u0275elementStart(0,"span",147)(1,"span",148)(2,"b"),e.\u0275\u0275text(3," Hooter"),e.\u0275\u0275elementEnd()()())}function Je(i,l){1&i&&(e.\u0275\u0275elementStart(0,"span",149),e.\u0275\u0275text(1,"&"),e.\u0275\u0275elementEnd())}function et(i,l){1&i&&(e.\u0275\u0275elementStart(0,"span",147)(1,"span",148)(2,"b"),e.\u0275\u0275text(3,"Relay"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(4,"b"),e.\u0275\u0275elementEnd())}function tt(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"span",16),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(8);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.cameraData[0].alarm_ip_address?t.cameraData[0].alarm_ip_address:"---")}}function it(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div",156)(1,"span")(2,"ul",157)(3,"li",158)(4,"span",54),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,tt,2,1,"span",159),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"li",160)(8,"span",54),e.\u0275\u0275text(9,"Delay : "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"span",16),e.\u0275\u0275text(11,"2 seconds"),e.\u0275\u0275elementEnd()()()()()),2&i){const t=e.\u0275\u0275nextContext(7);e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",t.cameraData[0].alarm_type.charAt(0).toUpperCase()+t.cameraData[0].alarm_type.slice(1),"'s IP : "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.cameraData[0].alarm_ip_address)}}function at(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"span",154)(2,"b"),e.\u0275\u0275text(3,"Details"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(4,it,12,2,"div",155),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(6);e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf","sensegiz"!=t.cameraData[0].alarm_type)}}function nt(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div",153),e.\u0275\u0275template(1,at,5,1,"div",7),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(5);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","sensegiz"!=t.cameraData[0].alarm_type)}}function rt(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",180)(1,"input",181),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(10);return e.\u0275\u0275resetView(r.OnRAAlarmObjects(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",182),e.\u0275\u0275text(3,"Person"),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("defaultValue","person")("value","person"))}function lt(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",180)(1,"input",183),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(10);return e.\u0275\u0275resetView(r.OnRAAlarmObjects(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",184),e.\u0275\u0275text(3,"Car"),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("value","car")("defaultValue","car"))}function ot(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",180)(1,"input",185),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(10);return e.\u0275\u0275resetView(r.OnRAAlarmObjects(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",186),e.\u0275\u0275text(3,"Bike"),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("value","bike")("defaultValue","bike"))}function st(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",180)(1,"input",187),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(10);return e.\u0275\u0275resetView(r.OnRAAlarmObjects(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",188),e.\u0275\u0275text(3,"Truck"),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("value","truck")("defaultValue","truck"))}function mt(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div",178),e.\u0275\u0275template(1,rt,4,2,"div",179),e.\u0275\u0275template(2,lt,4,2,"div",179),e.\u0275\u0275template(3,ot,4,2,"div",179),e.\u0275\u0275template(4,st,4,2,"div",179),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(9);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.raObjects.indexOf("person")>=0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.raObjects.indexOf("car")>=0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.raObjects.indexOf("bike")>=0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.raObjects.indexOf("truck")>=0)}}function ct(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div",176),e.\u0275\u0275template(1,mt,5,4,"div",177),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(8);e.\u0275\u0275property("formGroup",t.alarmRAObjects),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.raObjects.length>0)}}function dt(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",191)(1,"span",192)(2,"input",193),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(9);return e.\u0275\u0275resetView(r.OnAlarmRAROISelect(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"label",194),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()()()}if(2&i){const t=l.$implicit,a=e.\u0275\u0275nextContext(9);e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",a.alarmSelectedViol[0].roi_key_id.indexOf(t.roi_id))("id",t.roi_id)("value",t.roi_id),e.\u0275\u0275advance(1),e.\u0275\u0275property("for",t.roi_id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.roi_name)}}function _t(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div",189),e.\u0275\u0275template(1,dt,5,5,"span",190),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(8);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.cameraData[0].roi_data)}}function pt(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",171)(1,"div",103)(2,"input",172),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(7);return e.\u0275\u0275resetView(r.OnAlarmAISelect(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"label",173),e.\u0275\u0275text(4,"RA"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,ct,2,2,"div",174),e.\u0275\u0275elementStart(6,"p"),e.\u0275\u0275text(7,"ROIS"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,_t,2,1,"div",175),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext(7);e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",t.AlarmAITypes.indexOf("RA")>=0),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.AlarmAITypes.indexOf("RA")>=0)}}function ut(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",180)(1,"input",199),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(9);return e.\u0275\u0275resetView(r.OnPPEAlarmObjects(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",200),e.\u0275\u0275text(3,"Helmet"),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","helmet"))}function ht(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",180)(1,"input",201),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(9);return e.\u0275\u0275resetView(r.OnPPEAlarmObjects(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",202),e.\u0275\u0275text(3,"Vest"),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","vest"))}function vt(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div",198),e.\u0275\u0275template(1,ut,4,1,"div",179),e.\u0275\u0275template(2,ht,4,1,"div",179),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(8);e.\u0275\u0275property("formGroup",t.alarmPPEObjects),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.ppeConfig.helmet),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.ppeConfig.vest)}}function ft(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",166)(1,"div",103)(2,"input",195),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(7);return e.\u0275\u0275resetView(r.OnAlarmAISelect(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"label",196),e.\u0275\u0275text(4,"PPE"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,vt,3,3,"div",197),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext(7);e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",t.AlarmAITypes.indexOf("PPE")>=0)}}function gt(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",103)(1,"input",181),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(8);return e.\u0275\u0275resetView(r.OnRAAlarmObjects(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",182),e.\u0275\u0275text(3,"Person"),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("defaultValue","person")("value","person"))}function Ct(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",103)(1,"input",183),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(8);return e.\u0275\u0275resetView(r.OnRAAlarmObjects(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",184),e.\u0275\u0275text(3,"Car"),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("value","car")("defaultValue","car"))}function xt(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",103)(1,"input",185),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(8);return e.\u0275\u0275resetView(r.OnRAAlarmObjects(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",186),e.\u0275\u0275text(3,"Bike"),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("value","bike")("defaultValue","bike"))}function bt(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",103)(1,"input",187),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(8);return e.\u0275\u0275resetView(r.OnRAAlarmObjects(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",188),e.\u0275\u0275text(3,"Truck"),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("value","truck")("defaultValue","truck"))}function It(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",166)(1,"div",103)(2,"input",172),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(7);return e.\u0275\u0275resetView(r.PPE_Config(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"label",173),e.\u0275\u0275text(4," Crowd Count"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",176)(6,"div",178),e.\u0275\u0275template(7,gt,4,2,"div",203),e.\u0275\u0275template(8,Ct,4,2,"div",203),e.\u0275\u0275template(9,xt,4,2,"div",203),e.\u0275\u0275template(10,bt,4,2,"div",203),e.\u0275\u0275elementEnd()()()()}if(2&i){const t=e.\u0275\u0275nextContext(7);e.\u0275\u0275advance(5),e.\u0275\u0275property("formGroup",t.alarmRAObjects),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.raObjects.indexOf("person")>=0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.raObjects.indexOf("car")>=0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.raObjects.indexOf("bike")>=0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.raObjects.indexOf("truck")>=0)}}function yt(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div",31)(1,"div",22)(2,"div",162)(3,"b"),e.\u0275\u0275text(4,"Select Violation Type"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"ul",163),e.\u0275\u0275template(6,pt,9,2,"li",164),e.\u0275\u0275template(7,ft,6,1,"li",165),e.\u0275\u0275elementStart(8,"li",166)(9,"div",103),e.\u0275\u0275element(10,"input",167),e.\u0275\u0275elementStart(11,"label",168),e.\u0275\u0275text(12,"Fire"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(13,"li",166)(14,"div",103),e.\u0275\u0275element(15,"input",169),e.\u0275\u0275elementStart(16,"label",170),e.\u0275\u0275text(17,"Smoke"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(18,It,11,5,"li",165),e.\u0275\u0275elementEnd()()()),2&i){const t=e.\u0275\u0275nextContext(6);e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",t.cameraData[0].roi_data.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.ppeConfig.helmet||t.ppeConfig.vest),e.\u0275\u0275advance(11),e.\u0275\u0275property("ngIf",t.cameraData[0].cr_data.length>0)}}function wt(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div",161),e.\u0275\u0275template(1,yt,19,3,"div",29),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(5);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.cameraData[0].alarm_ip_address)}}function St(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()()),2&i){const t=l.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.coin_id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.preset_id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.coin_location)}}function Rt(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div",204)(1,"table",205)(2,"thead")(3,"tr")(4,"th",75),e.\u0275\u0275text(5,"Coin ID"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"th",75),e.\u0275\u0275text(7,"Preset ID"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"th",75),e.\u0275\u0275text(9,"Location"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(10,"tbody"),e.\u0275\u0275template(11,St,7,3,"tr",90),e.\u0275\u0275elementEnd()()()),2&i){const t=e.\u0275\u0275nextContext(5);e.\u0275\u0275advance(11),e.\u0275\u0275property("ngForOf",t.cameraData[0].coin_details)}}function kt(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div",22)(1,"div",71),e.\u0275\u0275template(2,nt,2,1,"div",150),e.\u0275\u0275template(3,wt,2,1,"div",151),e.\u0275\u0275template(4,Rt,12,1,"div",152),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","sensegiz"!=t.cameraData[0].alarm_type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","sensegiz"==t.cameraData[0].alarm_type)}}function Et(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",137)(1,"li",138)(2,"div",95)(3,"span",71)(4,"h5",139),e.\u0275\u0275text(5," Alert Details "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"span",140),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext(3),r=e.\u0275\u0275reference(81);return e.\u0275\u0275resetView(n.EditAlert(r))}),e.\u0275\u0275element(7,"fa-icon",141),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(8,"div",26)(9,"div",142)(10,"div",26)(11,"div",143)(12,"div",65)(13,"div",144)(14,"span",54),e.\u0275\u0275text(15,"Enabled Alert Type: "),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(16,Ke,4,0,"span",145),e.\u0275\u0275template(17,Je,2,0,"span",146),e.\u0275\u0275template(18,et,5,0,"span",145),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(19,kt,5,3,"div",135),e.\u0275\u0275elementEnd()()()()()}if(2&i){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(16),e.\u0275\u0275property("ngIf",t.cameraData[0].alarm_type.hooter),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.cameraData[0].alarm_type.hooter),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.cameraData[0].alarm_type.relay),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!1)}}function Dt(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275template(1,Et,20,4,"div",136),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.cameraData.length>0)}}function Ot(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275template(1,Dt,2,1,"div",135),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.cameraData)}}function Tt(i,l){1&i&&(e.\u0275\u0275elementStart(0,"div",206),e.\u0275\u0275text(1," No AI analytics are added to this camera. "),e.\u0275\u0275elementEnd())}const g=function(i){return{"is-invalid":i}};function At(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",137)(1,"div",207)(2,"h4"),e.\u0275\u0275text(3,"Change ROI name"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",208)(5,"form",209),e.\u0275\u0275element(6,"input",210),e.\u0275\u0275elementStart(7,"div",211),e.\u0275\u0275text(8," Please enter roi name. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"button",212),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.ChangeROIName())}),e.\u0275\u0275text(10," Change "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"button",213),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(r.close("Cross click"))}),e.\u0275\u0275text(12," cancel "),e.\u0275\u0275elementEnd()()()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275property("formControl",t.tempROIID)("ngClass",e.\u0275\u0275pureFunction1(3,g,t.tempROIID.invalid&&t.tempROIID.touched)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",t.tempROIID.invalid&&t.tempROIID.touched?"invalid-feedback":"visually-hidden")}}function Vt(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",137)(1,"div",207)(2,"h4"),e.\u0275\u0275text(3,"Change Crowd Count name"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",208)(5,"form",209),e.\u0275\u0275element(6,"input",210),e.\u0275\u0275elementStart(7,"div",211),e.\u0275\u0275text(8," Please enter roi name. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"button",212),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.ChangeROIName())}),e.\u0275\u0275text(10," Change "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"button",213),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(r.close("Cross click"))}),e.\u0275\u0275text(12," cancel "),e.\u0275\u0275elementEnd()()()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275property("formControl",t.tempROIID)("ngClass",e.\u0275\u0275pureFunction1(3,g,t.tempROIID.invalid&&t.tempROIID.touched)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",t.tempROIID.invalid&&t.tempROIID.touched?"invalid-feedback":"visually-hidden")}}function Ft(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div",231)(1,"label"),e.\u0275\u0275text(2,"Minimum Count:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"input",232),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(1,g,t.get("min").invalid||t.get("min").value==t.get("max").value&&t.get("min").touched&&t.get("max").touched&&t.get("min").value>=t.get("max").value))}}function Pt(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div",71)(1,"label"),e.\u0275\u0275text(2,"Maximum Count:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"input",233),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",t.get("min").invalid||t.get("min").value==t.get("max").value&&t.get("min").touched&&t.get("max").touched&&t.get("min").value>=t.get("max").value)}}function Nt(i,l){1&i&&(e.\u0275\u0275elementStart(0,"span",134)(1,"small"),e.\u0275\u0275text(2,"Invalid Values for Minimum and Maximum "),e.\u0275\u0275elementEnd()())}function Mt(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div",65)(1,"div",223)(2,"div",219)(3,"div",65)(4,"div",224)(5,"div",225)(6,"div",226),e.\u0275\u0275element(7,"input",227),e.\u0275\u0275elementStart(8,"label",228),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(10,Ft,4,3,"div",229),e.\u0275\u0275template(11,Pt,4,1,"div",230),e.\u0275\u0275template(12,Nt,3,0,"span",133),e.\u0275\u0275elementEnd()()()()()()),2&i){const t=l.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",t),e.\u0275\u0275advance(5),e.\u0275\u0275property("formControlName",t.get("object").value)("defaultValue","person")("value","person")("id",t.get("object").value),e.\u0275\u0275advance(1),e.\u0275\u0275property("for",t.get("object").value),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.get("object").value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.get(t.get("object").value).value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.get(t.get("object").value).value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.get("min").touched&&t.get("max").touched&&t.get("min").value>=t.get("max").value)}}function jt(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",214)(1,"h3"),e.\u0275\u0275text(2,"Crowd Count For Full Frame"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",215),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(r.close("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",216)(5,"div",217)(6,"div",218)(7,"div",219)(8,"div",220),e.\u0275\u0275template(9,Mt,13,10,"div",221),e.\u0275\u0275elementStart(10,"div",71)(11,"button",222),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.onSaveCCFrame())}),e.\u0275\u0275text(12," Save "),e.\u0275\u0275elementEnd()()()()()()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(7),e.\u0275\u0275property("formGroup",t.CrowdForm),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.ccObjectsMinMax),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",t.ccObjectsMinMax[0].invalid)}}function Lt(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div",247)(1,"div",103),e.\u0275\u0275element(2,"input",248),e.\u0275\u0275elementStart(3,"label",249),e.\u0275\u0275text(4,"Hooter"),e.\u0275\u0275elementEnd()()()),2&i){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(2),e.\u0275\u0275property("formControl",t.isAddHooter)}}function zt(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div",250)(1,"label"),e.\u0275\u0275text(2,"Hooter Shutdown Time :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"input",251),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(3),e.\u0275\u0275property("formControl",t.hooterShutdownTime)}}function $t(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Lt,5,1,"div",245),e.\u0275\u0275element(2,"br"),e.\u0275\u0275template(3,zt,4,1,"div",246),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.cameraData[0].alarm_type.hooter),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.cameraData[0].alarm_type.hooter)}}function qt(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div",247)(1,"div",103),e.\u0275\u0275element(2,"input",252),e.\u0275\u0275elementStart(3,"label",253),e.\u0275\u0275text(4,"Relay"),e.\u0275\u0275elementEnd()()()),2&i){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(2),e.\u0275\u0275property("formControl",t.isAddRelay)}}function Gt(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,qt,5,1,"div",245),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.cameraData[0].alarm_type.relay)}}function Ht(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div",243)(1,"div",244),e.\u0275\u0275text(2,"Alarms:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",65)(4,"tr")(5,"td"),e.\u0275\u0275template(6,$t,4,2,"div",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td"),e.\u0275\u0275template(8,Gt,2,1,"div",7),e.\u0275\u0275elementEnd()()()()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",t.cameraData[0].alarm_type.hooter),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.cameraData[0].alarm_type.relay)}}function Qt(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div",67)(1,"div",65)(2,"div",250)(3,"label",65),e.\u0275\u0275text(4," Tag Name:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"input",254),e.\u0275\u0275elementEnd()()()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(5),e.\u0275\u0275property("formControl",t.tagName)}}function Wt(i,l){1&i&&(e.\u0275\u0275elementStart(0,"div",243),e.\u0275\u0275text(1," Hooter and Relay are not added to this Camera. "),e.\u0275\u0275elementEnd())}function Zt(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",137)(1,"div",207)(2,"h4"),e.\u0275\u0275text(3,"Danger Zone ROI Name"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",208)(5,"form",209),e.\u0275\u0275element(6,"input",234),e.\u0275\u0275elementStart(7,"div",211),e.\u0275\u0275text(8," Please enter roi name. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",235)(10,"div",103)(11,"input",236),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.ClassId(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"label",182),e.\u0275\u0275text(13,"Person"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(14,Ht,9,2,"div",237),e.\u0275\u0275elementStart(15,"div",67)(16,"div",65)(17,"div",103),e.\u0275\u0275element(18,"input",238),e.\u0275\u0275elementStart(19,"label",239),e.\u0275\u0275text(20,"Pinch Role"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275element(21,"br"),e.\u0275\u0275template(22,Qt,6,1,"div",240),e.\u0275\u0275element(23,"br"),e.\u0275\u0275template(24,Wt,2,0,"div",237),e.\u0275\u0275element(25,"br"),e.\u0275\u0275elementStart(26,"button",241),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.nameSubmit())}),e.\u0275\u0275text(27," Submit "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"button",242),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(r.close("Cross click"))}),e.\u0275\u0275text(29," cancel "),e.\u0275\u0275elementEnd()()()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(11,g,t.roiNameControl.invalid&&t.roiNameControl.touched&&t.roiNameControl.dirty))("formControl",t.roiNameControl),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",t.roiNameControl.invalid&&t.roiNameControl.touched?"invalid-feedback":"visually-hidden"),e.\u0275\u0275advance(4),e.\u0275\u0275property("formControl",t.classIDPerson)("defaultValue","person")("value","person"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.cameraData[0].alarm_type.hooter||t.cameraData[0].alarm_type.relay),e.\u0275\u0275advance(4),e.\u0275\u0275property("formControl",t.pinchRole),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",t.pinchRole.valid),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",t.roiNameControl.invalid||0==t.classIds.length)}}function Bt(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",216)(1,"div",255)(2,"div",217)(3,"div",256)(4,"div",257)(5,"i",258),e.\u0275\u0275text(6,"\ue5cd"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"h4",259),e.\u0275\u0275text(8,"Are you sure?"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",216)(10,"p"),e.\u0275\u0275text(11," Do you really want to delete these ROI? This process cannot be undone. "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",260)(13,"button",261),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(r.close("Cross click"))}),e.\u0275\u0275text(14," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",262),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.DeleteROI())}),e.\u0275\u0275text(16," Delete "),e.\u0275\u0275elementEnd()()()()()}}function Yt(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",216)(1,"div",255)(2,"div",217)(3,"div",256)(4,"div",257)(5,"i",258),e.\u0275\u0275text(6,"\ue5cd"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"h4",259),e.\u0275\u0275text(8,"Are you sure?"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",216)(10,"p"),e.\u0275\u0275text(11," Do you really want to delete these ROI? This process cannot be undone. "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",260)(13,"button",261),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(r.close("Cross click"))}),e.\u0275\u0275text(14," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",262),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.DeleteCCROI())}),e.\u0275\u0275text(16," Delete "),e.\u0275\u0275elementEnd()()()()()}}function Xt(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",216)(1,"div",255)(2,"div",217)(3,"div",256)(4,"div",257)(5,"i",258),e.\u0275\u0275text(6,"\ue5cd"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"h4",259),e.\u0275\u0275text(8,"Are you sure?"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",216)(10,"p"),e.\u0275\u0275text(11," Do you really want to delete these ROI? This process cannot be undone. "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",260)(13,"button",261),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(r.close("Cross click"))}),e.\u0275\u0275text(14," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",262),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.OnDeleteTCROI())}),e.\u0275\u0275text(16," Delete "),e.\u0275\u0275elementEnd()()()()()}}function Ut(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",216)(1,"div",255)(2,"div",217)(3,"div",256)(4,"div",257)(5,"i",258),e.\u0275\u0275text(6,"\ue5cd"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"h4",259),e.\u0275\u0275text(8,"Are you sure?"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",216)(10,"p"),e.\u0275\u0275text(11," Do you really want to delete Crowd Count for full frame of this camera?. "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",260)(13,"button",261),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(r.close("Cross click"))}),e.\u0275\u0275text(14," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",262),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.DeleteCCFrame())}),e.\u0275\u0275text(16," Delete "),e.\u0275\u0275elementEnd()()()()()}}function Kt(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",216)(1,"div",255)(2,"div",217)(3,"div",256)(4,"div",257)(5,"i",258),e.\u0275\u0275text(6,"\ue5cd"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"h4",259),e.\u0275\u0275text(8,"Are you sure?"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",216)(10,"p"),e.\u0275\u0275text(11,"Do you really want to delete Fire analytics details?."),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",260)(13,"button",261),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(r.close("Cross click"))}),e.\u0275\u0275text(14," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",262),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.DeleteFireSmokeFrame())}),e.\u0275\u0275text(16," Delete "),e.\u0275\u0275elementEnd()()()()()}}function Jt(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div",231)(1,"label"),e.\u0275\u0275text(2,"Minimum Count:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"input",232),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(1,g,t.get("min").invalid||t.get("min").value==t.get("max").value&&t.get("min").touched&&t.get("max").touched&&t.get("min").value>=t.get("max").value))}}function ei(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div",71)(1,"label"),e.\u0275\u0275text(2,"Maximum Count:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"input",233),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(1,g,t.get("max").invalid))}}function ti(i,l){1&i&&(e.\u0275\u0275elementStart(0,"span",134)(1,"small"),e.\u0275\u0275text(2,"Invalid Values for Minimum and Maximum "),e.\u0275\u0275elementEnd()())}function ii(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div",65)(1,"div",223)(2,"div",264)(3,"div",226),e.\u0275\u0275element(4,"input",265),e.\u0275\u0275elementStart(5,"label",228),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(7,Jt,4,3,"div",229),e.\u0275\u0275template(8,ei,4,3,"div",230),e.\u0275\u0275template(9,ti,3,0,"span",133),e.\u0275\u0275elementEnd()()()),2&i){const t=l.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",t),e.\u0275\u0275advance(2),e.\u0275\u0275property("formControlName",t.get("object").value)("defaultValue","person")("value","person")("id",t.get("object").value),e.\u0275\u0275advance(1),e.\u0275\u0275property("for",t.get("object").value),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.get("object").value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.get(t.get("object").value).value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.get(t.get("object").value).value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.get("min").touched&&t.get("max").touched&&t.get("min").value>=t.get("max").value)}}function ai(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",137)(1,"div",207)(2,"h4"),e.\u0275\u0275text(3,"Crowd Count ROI"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",208)(5,"form",263),e.\u0275\u0275element(6,"input",234),e.\u0275\u0275elementStart(7,"div",211),e.\u0275\u0275text(8," Please enter roi name. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,ii,10,10,"div",221),e.\u0275\u0275elementStart(10,"button",241),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.OnAddingNewCCRoi())}),e.\u0275\u0275text(11," Submit "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"button",242),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(r.close("Cross click"))}),e.\u0275\u0275text(13," cancel "),e.\u0275\u0275elementEnd()()()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(5,g,t.crowdCountRoiName.invalid&&t.crowdCountRoiName.touched&&t.crowdCountRoiName.dirty))("formControl",t.crowdCountRoiName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",t.crowdCountRoiName.invalid&&t.crowdCountRoiName.touched?"invalid-feedback":"visually-hidden"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.ccObjectsMinMax),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",t.CCValid<=0||t.crowdCountRoiName.invalid)}}function ni(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",137)(1,"div",207)(2,"h4"),e.\u0275\u0275text(3,"Spillage ROI Name"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",208)(5,"form",263),e.\u0275\u0275element(6,"input",234),e.\u0275\u0275elementStart(7,"div",211),e.\u0275\u0275text(8," Please enter roi name. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"button",241),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.OnAddingSpillageROI())}),e.\u0275\u0275text(10," Submit "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"button",242),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(r.close("Cross click"))}),e.\u0275\u0275text(12," cancel "),e.\u0275\u0275elementEnd()()()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(4,g,t.crowdCountRoiName.invalid&&t.crowdCountRoiName.touched&&t.crowdCountRoiName.dirty))("formControl",t.roiNameControl),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",t.roiNameControl.invalid&&t.roiNameControl.touched?"invalid-feedback":"visually-hidden"),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",t.roiNameControl.invalid)}}function ri(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",214)(1,"h3"),e.\u0275\u0275text(2,"Select Traffic Count"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div",216)(4,"div",217)(5,"div",266)(6,"div",71)(7,"div",267)(8,"div",103)(9,"input",268),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.TrafficCountConfig(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"label",182),e.\u0275\u0275text(11,"Entry"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",103)(13,"input",269),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.TrafficCountConfig(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"label",184),e.\u0275\u0275text(15,"Exit"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"div",103)(17,"input",270),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.TrafficCountConfig(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"label",186),e.\u0275\u0275text(19,"Entry and Exit"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(20,"div",271)(21,"p",71),e.\u0275\u0275text(22,"Now you will draw directions"),e.\u0275\u0275elementEnd()()()()()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(9),e.\u0275\u0275property("formControl",t.classIDPerson)("defaultValue","Entry")("value","Entry"),e.\u0275\u0275advance(4),e.\u0275\u0275property("formControl",t.classIDTruck)("value","Exit")("defaultValue","Exit"),e.\u0275\u0275advance(4),e.\u0275\u0275property("formControl",t.classIDTruck)("value","Entry_Exit")("defaultValue","Entry_Exit")}}function li(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",137)(1,"div",207)(2,"h4"),e.\u0275\u0275text(3,"Traffic Count ROI Name"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",208)(5,"form",209)(6,"div",272),e.\u0275\u0275element(7,"input",273),e.\u0275\u0275elementStart(8,"div",211),e.\u0275\u0275text(9," Please enter roi name. "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div",274)(11,"div",103)(12,"input",236),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.ClassId(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"label",182),e.\u0275\u0275text(14,"Person"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(15,"div",118)(16,"div",275),e.\u0275\u0275element(17,"input",276),e.\u0275\u0275elementStart(18,"label",277),e.\u0275\u0275text(19," Entry "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",275),e.\u0275\u0275element(21,"input",278),e.\u0275\u0275elementStart(22,"label",279),e.\u0275\u0275text(23," Exit "),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(24,"button",280),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.AddTrafficCountData())}),e.\u0275\u0275text(25," Submit "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"button",242),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(r.close("Cross click"))}),e.\u0275\u0275text(27," cancel "),e.\u0275\u0275elementEnd()()()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(7),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(9,g,t.tcName.invalid&&t.tcName.touched&&t.tcName.dirty))("formControl",t.tcName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",t.tcName.invalid&&t.tcName.touched?"invalid-feedback":"visually-hidden"),e.\u0275\u0275advance(4),e.\u0275\u0275property("formControl",t.classIDPerson)("defaultValue","person")("value","person"),e.\u0275\u0275advance(5),e.\u0275\u0275property("formControl",t.tcDirection),e.\u0275\u0275advance(4),e.\u0275\u0275property("formControl",t.tcDirection),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",t.tcName.invalid||0==t.classIds.length||null==t.tcDirection.value)}}function oi(i,l){1&i&&(e.\u0275\u0275elementStart(0,"div",216)(1,"div",255)(2,"div",217)(3,"div",256)(4,"h4",259),e.\u0275\u0275text(5," Please Select the Crowd Count Type "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",216)(7,"div",281),e.\u0275\u0275element(8,"h1"),e.\u0275\u0275elementStart(9,"form",282)(10,"section",283),e.\u0275\u0275element(11,"input",284),e.\u0275\u0275elementStart(12,"label",285),e.\u0275\u0275text(13,"ROI"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"input",286),e.\u0275\u0275elementStart(15,"label",287),e.\u0275\u0275text(16,"Full Frame"),e.\u0275\u0275elementEnd()()()()()()()())}function si(i,l){1&i&&(e.\u0275\u0275elementStart(0,"div",307),e.\u0275\u0275element(1,"input",308),e.\u0275\u0275elementStart(2,"label",309),e.\u0275\u0275text(3,"Hooter IP"),e.\u0275\u0275elementEnd()())}function mi(i,l){1&i&&(e.\u0275\u0275elementStart(0,"div",125),e.\u0275\u0275element(1,"input",310),e.\u0275\u0275elementStart(2,"label",311),e.\u0275\u0275text(3,"Relay IP"),e.\u0275\u0275elementEnd()())}function ci(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div",312),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.responseMessage," ")}}function di(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",256)(1,"h4",259),e.\u0275\u0275text(2,"Edit Alert"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div",216)(4,"div",22)(5,"form",288)(6,"div",231)(7,"b"),e.\u0275\u0275text(8," Enable Alert :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"span",16),e.\u0275\u0275element(10,"input",289)(11,"label",290),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",291)(13,"label",292)(14,"b"),e.\u0275\u0275text(15,"Alarm type "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"div",293)(17,"div",103)(18,"input",294),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.hooterOrRelayConfig(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"label",295),e.\u0275\u0275text(20,"Hooter"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(21,"div",103)(22,"input",296),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.hooterOrRelayConfig(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"label",297),e.\u0275\u0275text(24,"Relay"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(25,"div",103)(26,"input",298),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(),s=e.\u0275\u0275reference(83);return e.\u0275\u0275resetView(r.hooterOrRelayConfig(n,s))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"label",299),e.\u0275\u0275text(28,"None"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(29,"div",95)(30,"label",300)(31,"b"),e.\u0275\u0275text(32,"Alarm Details "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(33,si,4,0,"div",301),e.\u0275\u0275template(34,mi,4,0,"div",302),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(35,ci,2,1,"div",303),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"div",304)(37,"button",305),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(r.close("Cross click"))}),e.\u0275\u0275text(38," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"button",306),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.OnEditAlertDetails())}),e.\u0275\u0275text(40," Submit "),e.\u0275\u0275elementEnd()()()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275property("formGroup",t.editAlertForm),e.\u0275\u0275advance(5),e.\u0275\u0275property("checked","true"==t.cameraData[0].alarm_enable)("id","enable"),e.\u0275\u0275advance(1),e.\u0275\u0275property("for","enable"),e.\u0275\u0275advance(22),e.\u0275\u0275property("ngIf",t.isHooter),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isRelay),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",""!=t.responseMessage),e.\u0275\u0275advance(4),e.\u0275\u0275property("disabled",!t.isAlertFormValid)}}function _i(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",122),e.\u0275\u0275elementContainerStart(1,123),e.\u0275\u0275elementStart(2,"div",124)(3,"div",125),e.\u0275\u0275element(4,"input",126),e.\u0275\u0275elementStart(5,"label",127),e.\u0275\u0275text(6,"Coin Id"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",125),e.\u0275\u0275element(8,"input",128),e.\u0275\u0275elementStart(9,"label",129),e.\u0275\u0275text(10,"Preset Id"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"div",125),e.\u0275\u0275element(12,"input",130),e.\u0275\u0275elementStart(13,"label",131),e.\u0275\u0275text(14,"Location"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"fa-icon",132),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).index,s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.DeleteSensgizData(r))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd()}if(2&i){const t=l.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t)}}function pi(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",214)(1,"h4",313),e.\u0275\u0275text(2,"Sensegiz Details"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",215),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(r.close("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",314)(5,"button",119),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.AddSensgizData())}),e.\u0275\u0275element(6,"fa-icon",120),e.\u0275\u0275text(7," Add "),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,_i,16,1,"div",121),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",315)(10,"button",316),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.SaveSensgizInfo())}),e.\u0275\u0275text(11," Save "),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(8),e.\u0275\u0275property("ngForOf",t.sensgiz.controls)}}let ui=(()=>{class i{constructor(t,a,n,r){this.ActiveRoute=t,this.server=a,this.router=n,this.modalService=r,this.cameraData=[],this.CameraDataObservable=(0,b.of)({}),this.loader1=!1,this.isCameraData=!1,this.editField="",this.ROIsRoiPoints=[],this.newROIPoints=[],this.isAddROI=!1,this.isSpillage=!1,this.CcRois=[],this.spillageRois=[],this.spillageRoiPoints=[],this.spillageData=[],this.isFire=!1,this.isPolygonDrawn=!1,this.isEdit=!1,this.AllROIs=[],this.TCData=[],this.tempData=[],this.allCameraData=[],this.isEditText=!1,this.ppeConfig={helmet:!1,vest:!1},this.isLoading=!1,this.isChanges=!1,this.trafficCountLineROIS=[],this.trafficCountData=[],this.tempTCData=[],this.tempTCLineROIS=[],this.TCCanvasData=[],this.TCLineList=[],this.isAddCC=!1,this.tempTCCanvas=[],this.ppeObjects=[],this.raObjects=[],this.ccObjects=[],this.ppeAlarmObjects=["helmet","vest"],this.raAlarmObjects=[],this.CCValid=0,this.CCpoints=[],this.CCClasses=[],this.isWater=!1,this.WaterROIData=[],this.deleteField="",this.isAddRelay=new o.NI(!1,o.kI.required),this.isAddHooter=new o.NI(!1,o.kI.required),this.CCObjectCounts=[],this.CCObjectsCount=[],this.alarmSelectedViol=[{analytics_type:"RA",classes:[],alarm:!1,roi_key_id:[]},{analytics_type:"PPE",alarm:!1,classes:["helmet","vest"]},{analytics_type:"fire"}],this.fireROIS=[],this.TCKeyId=0,this.CCKeyId=0,this.RAKeyId=0,this.spillageRoiCount=0,this.AlarmAITypes=[],this.isAlertFormValid=!1,this.isFail=!1,this.isSuccess=!1,this.raROIColor="rgb(255, 255, 0)",this.spillageStroke="#f44336",this.fireROIColor="",this.fireAndSmoke={fire:!1,smoke:!1,dust:!1},this.alertForm=new o.cw({ip:new o.NI("",o.kI.required),delay:new o.NI("",o.kI.required)}),this.hooterShutdownTime=new o.NI(0,[o.kI.pattern(new RegExp("^(?!-)[0-9]+$")),o.kI.min(1)]),this.pinchRole=new o.NI(!1,o.kI.requiredTrue),this.ccObjectsMinMax=[new o.cw({object:new o.NI("person"),person:new o.NI(!0,o.kI.requiredTrue),min:new o.NI(0,o.kI.pattern(/^[^-\D]\d*$/)),max:new o.NI(0,o.kI.pattern(/^[^-\D]\d*$/))})],this.alarmPPEObjects=new o.cw({helmet:new o.NI(o.kI.requiredTrue),vest:new o.NI(o.kI.requiredTrue)}),this.alarmRAObjects=new o.cw({person:new o.NI(o.kI.requiredTrue),car:new o.NI(o.kI.requiredTrue),truck:new o.NI(o.kI.requiredTrue),bike:new o.NI(o.kI.requiredTrue)}),this.cameraType=new o.NI(null),this.isHooter=!1,this.isRelay=!1,this.isSensgiz=!1,this.isVoiceAlert=!1,this.sensgiz=new o.Oe([new o.cw({coinLocation:new o.NI("",[o.kI.required]),presetId:new o.NI(null,[o.kI.pattern(new RegExp("^(?!-)[0-9]+$"))])})]),this.tagName=new o.NI("",o.kI.required),this.SensGizInfo=[],this.crowdCountRoiName=new o.NI("",o.kI.required),this.crowdConfig=[],this.tcName=new o.NI("",o.kI.required),this.tcDirection=new o.NI(null,o.kI.required),this.editAlertForm=new o.cw({alarmType:new o.NI("",o.kI.required),alarmIp:new o.NI("",o.kI.required),alarmEnable:new o.NI(!1),hooterIp:new o.NI("",o.kI.required),relayIp:new o.NI("",o.kI.required),delay:new o.NI("",o.kI.required)}),this.peopleCrowdForm=new o.cw({min:new o.NI(null,o.kI.pattern("^(?!-)d+$")),max:new o.NI(null,o.kI.pattern(/\d+/))}),this.CrowdForm=new o.cw({min:new o.NI(null,[o.kI.pattern(/^[^-a-zA-Z]+$/),o.kI.required]),max:new o.NI(null,[o.kI.pattern(/\d+/),o.kI.required])}),this.vehicleCrowdForm=new o.cw({min:new o.NI(null,o.kI.pattern(/\d+/)),max:new o.NI(null,o.kI.pattern(/\d+/))}),this.tempROIID=new o.NI("",o.kI.required),this.ratio=1,this.polygonOptions={fill:"rgba(0,0, 0,0)",strokeWidth:3,stroke:"rgb(127, 255, 0)",scaleX:1,scaleY:1,objectCaching:!1,selectable:!1,transparentCorners:!1,cornerColor:"blue"},this.classIds=["person"],this.classIDPerson=new o.NI("person",o.kI.required),this.classIDCar=new o.NI(0,o.kI.required),this.classIDBike=new o.NI(0,o.kI.required),this.classIDTruck=new o.NI(0,o.kI.required),this.CrowdData=[],this.ppeForm=new o.cw({helmet:new o.NI("helmet"),vest:new o.NI("person")}),this.fireSmokeForm=new o.cw({fire:new o.NI(!1,o.kI.requiredTrue),smoke:new o.NI(!1,o.kI.requiredTrue),water:new o.NI(!1,o.kI.requiredTrue),dust:new o.NI(!1,o.kI.requiredTrue)}),this.vehicleForm=new o.cw({type:new o.NI,make:new o.NI}),this.roiNameControl=new o.NI("",o.kI.required),this.roiPoints=[],this.alertType=new o.NI("",o.kI.required),this.isMouseDown=!1,this.roiType=0,this.ccTypeList=(0,b.of)([{label:"+ Crowd Count ROI",data:0},{label:"+ Crowd Count Full Frame",data:1}]),this.fireSmoke=[{label:"+ Fire/Smoke",items:[{label:"ROI",command:s=>{this.AddCCRoi()}},{label:"Full Frame",command:s=>{this.AddCCRoi()}},{label:"Full Frame",command:s=>{this.AddCCForFrame()}}]}],this.IP=a.IP,this.ActiveRoute.queryParams.subscribe(s=>{this.ID=s.id,this.imageName=s.image,this.currentArea=s.area,this.currentPlant=s.plant})}ngOnInit(){}ngAfterViewInit(){this.server.GetRACameraData(this.ID).subscribe(t=>{this.canvasSetup(),this.makeNewROI(),this.canvas.on("mouse:up",a=>{(1==this.roiType||this.isAddCC||this.isWater||this.isSpillage)&&(1===a.button&&!this.isPolygonDrawn&&!(null!=a.transform&&"modifyPolygon"!==a.transform.action)&&!this.isEdit&&this.getClickCoords(a),3===a.button&&(this.isAddROI||this.isAddCC||this.isWater||this.isSpillage)&&(this.isPolygonDrawn=!(this.newROIPoints.length<4))),2==this.roiType&&!this.isAddCC&&!this.isWater&&(this.isMouseDown=!1,this.SaveTrafficCountROI())}),this.canvas.on("mouse:down",a=>{1===this.roiType&&(this.isAddCC||this.isWater||this.isAddROI||this.isSpillage)?(this.isAddROI||this.isAddCC||this.isWater||this.isSpillage)&&3===a.button&&(this.newROIPoints.length<3?this.isPolygonDrawn=!1:(this.roiNameControl.markAsUntouched(),this.RoiName(),this.isPolygonDrawn=!0)):2===this.roiType&&(null==a.transform||"drag"!==a.transform.action)&&this.addingShapeOnMouseDown(a),this.canvas.on("mouse:move",n=>{this.creatingShapeOnMouseMove(n)})}),this.canvas.on("object:moving",a=>{}),this.cameraData=t.message,this.AISolutions=this.cameraData[0].ai_solution?this.cameraData[0].ai_solution:{},this.currentArea=t.area,this.currentPlant=t.plant,this.CameraDataObservable=(0,b.of)(t.message),this.isCameraData=!0,null!=this.cameraData[0].roi_data&&this.GetPanelPoints(),this.cameraData[0].ppe_data.length>0?(this.ppeForm.get("helmet").valueChanges.subscribe(a=>{}),this.ppeConfig=this.cameraData[0].ppe_data[0],this.cameraData[0].ppe_data[0].helmet?(this.ppeForm.get("helmet").setValue(!0),this.ppeForm.get("helmet").markAsUntouched()):this.ppeForm.get("helmet").setValue(!1),this.cameraData[0].ppe_data[0].vest?this.ppeForm.get("vest").setValue(!0):this.ppeForm.get("vest").setValue(!1)):(this.ppeForm.get("vest").setValue(!1),this.ppeForm.get("helmet").setValue(!1)),null!=this.cameraData[0].firesmoke_data&&this.cameraData[0].firesmoke_data.length>0&&(this.fireSmokeForm.get("fire").setValue(this.cameraData[0].firesmoke_data[0].fire),this.fireSmokeForm.get("smoke").setValue(this.cameraData[0].firesmoke_data[0].smoke),this.fireSmokeForm.get("dust").setValue(this.cameraData[0].firesmoke_data[0].dust),this.cameraType.setValue(this.cameraData[0].firesmoke_data[0].camera_type),this.sensgiz=new o.Oe([]),this.cameraData[0].firesmoke_data[0].presets.forEach((a,n)=>{this.sensgiz.push(new o.cw({coinLocation:new o.NI("",[o.kI.required]),presetId:new o.NI("",[o.kI.pattern(new RegExp("^(?!-)[0-9]+$")),o.kI.min(0),o.kI.required])})),this.sensgiz.controls[n].get("coinLocation").setValue(a.presetlocation),this.sensgiz.controls[n].get("presetId").setValue(a.presetid)})),this.fireSmokeForm.valueChanges.subscribe(a=>{0==this.fireSmokeForm.get("fire").value&&0==this.fireSmokeForm.get("dust").value&&0==this.fireSmokeForm.get("smoke").value&&this.cameraData[0].firesmoke_data.length>0&&this.DeleteFireSmokeFrame()})}),this.editAlertForm.valueChanges.subscribe(t=>{this.responseMessage="","hooter"==this.editAlertForm.get("alarmType").value||"relay"==this.editAlertForm.get("alarmType").value?""!=this.editAlertForm.get("alarmIp").value&&(this.isAlertFormValid=!0):"sensegiz"==this.editAlertForm.get("alarmType").value&&(this.isAlertFormValid=this.sensgiz.length>0)}),this.ccObjectsMinMax[0].valueChanges.subscribe(()=>{this.ccObjectsMinMax[0].get("object").value&&this.ccObjectsMinMax[0].get("min").valid&&this.ccObjectsMinMax[0].get("max").valid?this.CCValid++:this.CCValid=0,(this.ccObjectsMinMax[0].get("min").value>this.ccObjectsMinMax[0].get("max").value||this.ccObjectsMinMax[0].get("min").value==this.ccObjectsMinMax[0].get("max").value)&&(this.CCValid=0)})}canvasSetup(){document.getElementById("canvas-container"),this.canvas=new fabric.Canvas("canvasROI",{fireRightClick:!0}),this.canvas.selection=!1,this.canvas.viewportTransform=[1,0,0,1,0,0],this.SetCameraImageToCanvas()}SetCameraImageToCanvas(){fabric.Image.fromURL(this.IP+"/get_roi_image/"+this.imageName,t=>{console.log(t.width),console.log(t.height),this.canvas.setWidth(t.width),this.canvas.setHeight(t.height),this.canvas.setBackgroundImage(t,this.canvas.requestRenderAll.bind(this.canvas),{scaleX:this.canvas.width/t.width,scaleY:this.canvas.height/t.height})})}OnCCTypeSelect(t){0==this.selectedCCMode.data?this.AddCCRoi():this.AddCCForFrame()}RoiName(){this.isPolygonDrawn=!0,this.isAddROI=!1,this.classIds=["person"],this.hooterShutdownTime.reset(),this.isAddCC?this.modalService.open(this.CCNameModal).result.then(t=>{this.isAddCC=!1,this.roiNameControl.setValue(null),this.roiNameControl.reset(),this.CrowdForm.get("min").reset(),this.isPolygonDrawn=!1,this.newROIPoints.splice(0,this.newROIPoints.length),this.CrowdForm.get("min").setValidators(o.kI.required),this.CrowdForm.get("min").setValidators(o.kI.pattern(/^[^-a-zA-Z]+$/)),this.CrowdForm.get("max").reset(),this.CrowdForm.get("max").setValidators(o.kI.required),this.CrowdForm.get("max").setValidators(o.kI.pattern(/^[^-a-zA-Z]+$/)),this.roiNameControl.addValidators(o.kI.required),this.classIds=["person"],this.DeleteNewRoi()},t=>{this.isAddCC=!1,this.isPolygonDrawn=!1,this.roiNameControl.setValue(null),this.roiNameControl.reset(),this.CrowdForm.get("min").reset(),this.newROIPoints.splice(0,this.newROIPoints.length),this.CrowdForm.get("min").setValidators(o.kI.required),this.CrowdForm.get("min").setValidators(o.kI.pattern(/^[^-a-zA-Z]+$/)),this.CrowdForm.get("max").reset(),this.CrowdForm.get("max").setValidators(o.kI.required),this.CrowdForm.get("max").setValidators(o.kI.pattern(/^[^-a-zA-Z]+$/)),this.roiNameControl.addValidators(o.kI.required),this.classIds=["person"],this.DeleteNewRoi()}):this.isWater?(this.isWater=!1,this.modalService.open(this.fireROINameModal,{backdrop:"static",centered:!0})):this.isSpillage?(this.isSpillage=!1,this.modalService.open(this.spillageNameModal,{backdrop:"static",centered:!0})):this.modalService.open(this.RoiNameModal,{size:"small",centered:!0,backdrop:"static"}).result.then(t=>{this.roiNameControl.setValue(null),this.roiNameControl.reset(),this.roiNameControl.addValidators(o.kI.required),this.classIds=["person"],this.DeleteNewRoi()},t=>{})}ModalOpen(t){this.cameraData.length>0&&(this.alertForm.get("ip").setValue(this.cameraData[0].alarm_ip_address),this.cameraData[0].delay&&this.alertForm.get("delay").setValue(this.cameraData[0].delay)),this.modalService.open(t,{backdrop:"static",keyboard:!0,centered:!0})}getDismissReason(t){return t===y.If.ESC?"by pressing ESC":t===y.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}nameSubmit(){this.modalService.dismissAll(),this.OnAddingNewROI()}getClickCoords(t){(this.isAddROI||this.isWater||this.isAddCC||this.isSpillage)&&(this.newPt={x:Math.round(t.pointer.x),y:Math.round(t.pointer.y)},this.newROIPoints.push(this.newPt),this.canvas.add(this.newROI))}Back(){window.close()}makeNewROI(){this.newROI=new fabric.Polygon(this.newROIPoints,this.polygonOptions)}AddNewROI(){this.classIds=["person"],this.isPolygonDrawn=!1,this.polygonOptions.stroke=this.raROIColor,this.newROI.stroke=this.raROIColor,this.isWater=!1,this.isAddROI=!0,this.isEdit=!1,this.isSpillage=!1,this.roiType=1,this.newROIPoints.splice(0,this.newROIPoints.length),this.canvas.requestRenderAll(),this.isAddCC=!1}AddNewLine(){this.isPolygonDrawn=!1,this.classIds=["person"],this.isWater=!1,this.roiType=2,this.btnIndex=1,this.isWater=!1,this.isEdit=!1,this.isAddROI=!1,this.isSpillage=!1,this.isAddCC=!1,this.newROIPoints.splice(0,this.newROIPoints.length),this.canvas.requestRenderAll()}AddNewArrow(){this.classIds=["person"],this.isWater=!1,this.roiType=2,this.btnIndex=2,this.isEdit=!1}AddCCRoi(){this.isPolygonDrawn=!1,this.newROIPoints.splice(0,this.newROIPoints.length),this.isAddCC=!0,this.isAddROI=!1,this.isEdit=!1,this.isWater=!1,this.isSpillage=!1,this.roiType=1,this.CrowdForm.get("min").reset(),this.CrowdForm.get("min").setValidators(o.kI.required),this.CrowdForm.get("min").setValidators(o.kI.pattern(/\d+/)),this.CrowdForm.get("max").reset(),this.CrowdForm.get("max").setValidators(o.kI.required),this.CrowdForm.get("max").setValidators(o.kI.pattern(/\d+/)),this.newROI.stroke="rgb(0, 255, 255)"}AddNewSpillageRoi(){this.isPolygonDrawn=!1,this.classIds=["person"],this.polygonOptions.stroke=this.spillageStroke,this.newROI.stroke=this.spillageStroke,this.isWater=!1,this.isAddROI=!1,this.isSpillage=!0,this.isEdit=!1,this.roiType=1,this.newROIPoints.splice(0,this.newROIPoints.length),this.canvas.requestRenderAll(),this.isAddCC=!1}AddCCForFrame(){this.isPolygonDrawn=!1,this.modalService.open(this.CCForFrame,{centered:!0}).result.then(t=>{this.roiNameControl.setValue(null),this.roiNameControl.reset(),this.roiNameControl.addValidators(o.kI.required),this.classIds=["person"],this.DeleteNewRoi()},t=>{})}onSaveCCFrame(){for(let a=0;a<1;a++){const n=this.ccObjectsMinMax[a];if(!(n.get(n.get("object").value).value&&n.get("min").valid&&n.get("min").valid)||n.get("min").value>n.get("max").value||n.get("min").value==n.get("max").value){this.CCValid=0;break}this.CCValid=1}1==this.CCValid&&(this.isAddROI=!1,this.CCClasses=[],this.CCObjectCounts=[],this.ccObjectsMinMax.forEach(a=>{if(a.get(a.get("object").value).value){var n={class_name:a.get("object").value,min_count:a.get("min").value,max_count:a.get("max").value};this.CCObjectCounts.push(n)}a.get(a.get("object").value).reset(),a.get("min").markAsUntouched(),a.get("min").setValue(0),a.get("max").reset(),a.get("max").reset()}),this.CcRois.push({roi_name_canvas:null,roi_canvas:null,roi_id:null,roi_name:null,cr_data:{bb_box:"",full_frame:!0,roi_id:null,area_name:"",data_object:this.CCObjectCounts}}),this.CrowdForm.get("min").reset(),this.CrowdForm.get("max").reset(),this.newROIPoints.splice(0,this.newROIPoints.length),this.classIDPerson.reset(),this.classIDBike.reset(),this.classIDCar.reset(),this.classIDPerson.setValue("person"),this.classIds=["person"],this.CrowdForm.get("min").reset(),this.CrowdForm.get("min").setValidators(o.kI.required),this.CrowdForm.get("min").setValidators(o.kI.pattern(/\d+/)),this.CrowdForm.get("max").reset(),this.CrowdForm.get("max").setValidators(o.kI.required),this.CrowdForm.get("max").setValidators(o.kI.pattern(/\d+/)),this.modalService.dismissAll(),this.AddCCData())}OnAddingNewROI(){this.isAddROI=!1;var t=!1;if(this.cameraData[0].roi_data.forEach(h=>{t=h.roi_name==this.roiNameControl.value}),t)this.DeleteNewRoi(),this.modalService.dismissAll(),this.server.notification("The ROI of this name already exist","retry");else if(null!==this.roiNameControl.value){fabric.util.resetObjectTransform(this.newROI);var a=[];const h=[...this.newROIPoints];this.polygonOptions.stroke=this.raROIColor;var n=this.newROI._calcDimensions();const u=new fabric.Polygon(h,this.polygonOptions);var r=this.roiNameControl.value;if(null!==r){this.isChanges=!0,this.canvas.add(u),this.canvas.renderAll();for(let d=0;d<this.newROIPoints.length;d++)a.push(`${this.newROIPoints[d].x};${this.newROIPoints[d].y};`);var c=a.toString().replace(/,/g,""),m=new fabric.Text(r,{fontSize:20,backgroundColor:"black",selectable:!1,left:n.left,top:n.top-20,stroke:this.raROIColor,fill:this.raROIColor});this.canvas.add(m),this.canvas.renderAll();var p={roi_name_canvas:m,roi_canvas:u,roi_name:r,roi_id:this.allCameraData.length-1,roi_data:{bb_box:c,roi_name:r,roi_id:this.allCameraData.length-1,label_name:this.classIds,hooter_shutdown_time:this.hooterShutdownTime.value,pinch_role:this.pinchRole.value,tag_name:this.tagName.value,alarm_type:{hooter:null,relay:null},alarm_ip_address:{hooter_ip:null,relay_ip:null}}};this.cameraData[0].alarm_type.hooter&&(p.roi_data.alarm_type.hooter=this.isAddHooter.value,p.roi_data.alarm_ip_address.hooter_ip=this.cameraData[0].alarm_ip_address.hooter_ip),this.cameraData[0].alarm_type.relay&&(p.roi_data.alarm_type.relay=this.isAddRelay.value,p.roi_data.alarm_ip_address.relay_ip=this.cameraData[0].alarm_ip_address.relay_ip)}this.allCameraData.push(p),this.newROIPoints.splice(0,this.newROIPoints.length),this.roiNameControl.setValue(null),this.roiNameControl.reset(),this.roiNameControl.setValidators(o.kI.required),this.classIDPerson.reset(),this.classIDBike.reset(),this.classIDCar.reset(),this.classIDPerson.setValue("person"),this.classIds=["person"],this.SaveChanges()}else this.classIds=["person"],this.DeleteNewRoi()}OnAddingSpillageROI(){if(this.isAddROI=!1,null!==this.roiNameControl.value){fabric.util.resetObjectTransform(this.newROI);var a=[];const h=[...this.newROIPoints];this.polygonOptions.stroke=this.spillageStroke;var n=this.newROI._calcDimensions();const u=new fabric.Polygon(h,this.polygonOptions);var r=this.roiNameControl.value;if(null!==r){this.isChanges=!0,this.canvas.add(u),this.canvas.renderAll();for(let d=0;d<this.newROIPoints.length;d++)a.push(`${this.newROIPoints[d].x};${this.newROIPoints[d].y};`);var c=a.toString().replace(/,/g,""),m=new fabric.Text(r,{fontSize:20,backgroundColor:"black",selectable:!1,left:n.left,top:n.top-20,stroke:this.spillageStroke,fill:this.spillageStroke});this.canvas.add(m),this.canvas.renderAll();var p={roi_name_canvas:m,roi_canvas:u,roi_name:r,roi_id:++this.spillageRoiCount,roi_data:{bb_box:c,roi_name:r,roi_id:this.spillageRoiCount,label_name:this.classIds}}}this.spillageRois.push(p),this.newROIPoints.splice(0,this.newROIPoints.length),this.roiNameControl.setValue(null),this.roiNameControl.reset(),this.roiNameControl.setValidators(o.kI.required),this.classIDPerson.reset(),this.classIDBike.reset(),this.classIDCar.reset(),this.classIDPerson.setValue("person"),this.classIds=["person"],this.SaveSpillageRoi()}else this.classIds=["person"],this.DeleteNewRoi()}SaveSpillageRoi(){this.spillageRois.length>0&&(this.AISolutions.spillage=!0);let t=[];this.spillageRois.forEach((n,r)=>{t.push(n.roi_data)}),this.server.AddSpillageRoi({id:this.ID,spillage_roi_data:t,ai_solutions:this.AISolutions}).subscribe(n=>{if(n.success)window.location.reload();else{this.server.notification(n.message);var s=this.spillageRois[this.deleteID].roi_name_canvas;this.canvas.remove(this.spillageRois[this.deleteID].roi_canvas),this.canvas.remove(s),this.canvas.renderAll(),this.cameraData[0].spillage_roi_data.splice(this.spillageRois.length-1,1)}},n=>{this.server.notification("Error while the process","Retry");var s=this.spillageRois[this.deleteID].roi_name_canvas;this.canvas.remove(this.spillageRois[this.deleteID].roi_canvas),this.canvas.remove(s),this.canvas.renderAll(),this.cameraData[0].spillage_roi_data.splice(this.spillageRois.length-1,1)})}onAddingNewfireROI(){if(this.isWater=!1,null!==this.roiNameControl.value){fabric.util.resetObjectTransform(this.newROI);var t=[];const p=[...this.newROIPoints];this.polygonOptions.stroke="orange";var a=this.newROI._calcDimensions();const h=new fabric.Polygon(p,this.polygonOptions);var n=this.roiNameControl.value;if(null!==n){this.isChanges=!0,this.canvas.add(h),this.canvas.renderAll();for(let u=0;u<this.newROIPoints.length;u++)t.push(`${this.newROIPoints[u].x};${this.newROIPoints[u].y};`);var s=t.toString().replace(/,/g,""),c=new fabric.Text(n,{fontSize:20,backgroundColor:"black",selectable:!1,left:a.left,top:a.top-20,stroke:"orange",fill:"orange"});this.canvas.add(c),this.canvas.renderAll();var m={roi_name_canvas:c,roi_canvas:h,roi_name:n,roi_id:this.WaterROIData.length+1,roi_data:{bb_box:s,roi_name:n,roi_id:this.WaterROIData.length+1}}}this.WaterROIData.push(m),this.newROIPoints.splice(0,this.newROIPoints.length),this.roiNameControl.setValue(null),this.roiNameControl.reset(),this.roiNameControl.setValidators(o.kI.required),this.classIDPerson.reset(),this.classIDBike.reset(),this.classIDCar.reset(),this.classIDPerson.setValue("person"),this.classIds=["person"]}else this.classIds=["person"],this.DeleteNewRoi()}OnAddingNewCCRoi(){this.CCClasses=[],this.CCObjectCounts=[],this.isAddROI=!1;var t=!1;if(this.cameraData[0].roi_data.forEach(h=>{t=h.roi_name==this.crowdCountRoiName.value}),t)this.DeleteNewRoi(),this.modalService.dismissAll(),this.server.notification("The ROI of this name already exist","retry");else if(null!==this.crowdCountRoiName.value){fabric.util.resetObjectTransform(this.newROI);var a=[];const h=[...this.newROIPoints];var n=this.newROI._calcDimensions();this.polygonOptions.stroke="rgb(0, 255, 255)";const u=new fabric.Polygon(h,this.polygonOptions);var r=this.crowdCountRoiName.value;if(null!==r){this.isChanges=!0,this.canvas.add(u),this.canvas.renderAll();for(let d=0;d<this.newROIPoints.length;d++){let _=Math.round(this.newROIPoints[d].x),v=Math.round(this.newROIPoints[d].y);a.push(`${_};${v};`)}var c=a.toString().replace(/,/g,""),m=new fabric.Text(r,{fontSize:20,backgroundColor:"black",selectable:!1,left:n.left,top:n.top-20,stroke:"rgb(0, 255, 255)",fill:"rgb(0, 255, 255)"});this.canvas.add(m),this.canvas.renderAll(),this.ccObjectsMinMax.forEach(d=>{if(d.get(d.get("object").value).value){var _={class_name:d.get("object").value,min_count:d.get("min").value,max_count:d.get("max").value};this.CCObjectCounts.push(_)}d.get(d.get("object").value).reset(),d.get("min").markAsUntouched(),d.get("min").setValue(0),d.get("max").reset(),d.get("max").reset()});var p={roi_name_canvas:m,roi_canvas:u,roi_id:r,roi_name:r,cr_data:{bb_box:c,full_frame:!1,roi_id:++this.CCKeyId,area_name:r,data_object:this.CCObjectCounts}}}this.CcRois.push(p),this.modalService.dismissAll(),this.AddCCData(),this.newROIPoints.splice(0,this.newROIPoints.length),this.crowdCountRoiName.setValue(null),this.CrowdForm.get("min").reset(),this.CrowdForm.get("min").setValidators(o.kI.required),this.CrowdForm.get("min").setValidators(o.kI.pattern(/\d+/)),this.CrowdForm.get("max").reset(),this.CrowdForm.get("max").setValidators(o.kI.required),this.CrowdForm.get("max").setValidators(o.kI.pattern(/\d+/)),this.classIds=["person"]}else this.classIds=["person"],this.DeleteNewRoi(),this.CrowdForm.get("min").reset(),this.CrowdForm.get("max").reset()}CreateRectangle(t){var a=this.canvas.getPointer(t.e),n=t.pointer.x,r=t.pointer.y;this.rectangle=new fabric.Rect({left:n,top:r,width:a.x-n,height:a.y-r,stroke:"red",type:"rect",strokeWidth:2}),this.canvas.add(this.rectangle),n>a.x&&this.rectangle.set({left:Math.abs(a.x)}),r>a.y&&this.rectangle.set({top:Math.abs(a.y)}),this.rectangle.set({width:Math.abs(n-a.x)}),this.rectangle.set({height:Math.abs(r-a.y)}),this.canvas.renderAll()}createRect2(t){var a=this.canvas.getPointer(t.e),n=t.pointer.x,r=t.pointer.y;1===t.button&&(n>a.x&&this.rectangle.set({left:Math.abs(a.x)}),r>a.y&&this.rectangle.set({top:Math.abs(a.y)}),this.rectangle.set({width:Math.abs(n-a.x)}),this.rectangle.set({height:Math.abs(r-a.y)}),this.canvas.renderAll())}Edit(t){this.selectedEditId=t;var a=this.allCameraData[t].roi_canvas;if(this.isEdit=!0,this.isEdit){var n=(c,m)=>(p,h,u,d)=>{var _=h.target,v=fabric.util.transformPoint(new fabric.Point(_.points[c].x-_.pathOffset.x,_.points[c].y-_.pathOffset.y),_.calcTransformMatrix()),x=m(p,h,u,d),V=(_._setPositionDimensions({}),_._getNonTransformedDimensions());return _.setPositionByOrigin(v,(_.points[c].x-_.pathOffset.x)/V.x+.5,(_.points[c].y-_.pathOffset.y)/V.y+.5),x},r=(c,m,p,h)=>{var u=m.target,d=u.controls[u.__corner],_=u.toLocalPoint(new fabric.Point(p,h),"center","center"),v=u._getNonTransformedDimensions(),x=u._getTransformedDimensions(0,0);return u.points[d.pointIndex]={x:_.x*v.x/x.x+u.pathOffset.x,y:_.y*v.y/x.y+u.pathOffset.y},!0};let s=a;this.canvas.setActiveObject(this.allCameraData[t].roi_canvas),s=this.canvas.getActiveObject();{let c=s.points.length-1;s.cornerStyle="circle",s.cornerColor="rgba(0,0,255,0.5)",s.controls=s.points.reduce((m,p,h)=>(m["p"+h]=new fabric.Control({pointIndex:h,positionHandler:(u,d,_)=>fabric.util.transformPoint(new fabric.Point(_.points[h].x-_.pathOffset.x,_.points[h].y-_.pathOffset.y),fabric.util.multiplyTransformMatrices(_.canvas.viewportTransform,_.calcTransformMatrix())),actionHandler:n(h>0?h-1:c,r),actionName:"modifyPolygon"}),m),{})}this.canvas.renderAll()}}EditROI(t){this.isChanges=!0,this.allCameraData.filter(r=>r.roi_id===t?r.roi_canvas:"")}isDelete(t,a,n){this.deleteField=n,this.deleteID=t,this.modalService.open(a,{centered:!0,backdrop:"static"})}DeleteROI(){if("RA"==this.deleteField){var t=this.deleteID,n=this.allCameraData[t].roi_name_canvas;this.canvas.remove(this.allCameraData[t].roi_canvas),this.canvas.remove(n);var s=this.allCameraData[t].roi_data.roi_id;this.allCameraData.splice(t,1),this.AISolutions.RA=this.allCameraData.length>0,this.cameraData[0].roi_data.splice(t,1);var c={id:this.ID,roi_id:String(s),ai_solutions:this.AISolutions};this.server.DeleteRoi(c).subscribe(m=>{this.server.notification(m.message),this.modalService.dismissAll()},m=>{this.modalService.dismissAll(),this.server.notification("Something went wrong","Retry")}),this.canvas.renderAll()}else"Water"==this.deleteField?this.DeleteWaterROIS(this.deleteID):"spillage"==this.deleteField&&(this.AISolutions.spillage=this.spillageRois.length>0,this.server.DeleteSpillageRoi({id:this.ID,roi_id:this.spillageRois[this.deleteID].roi_data.roi_id,ai_solutions:this.AISolutions}).subscribe(p=>{if(p.success){this.server.notification(p.message);var h=this.spillageRois[this.deleteID].roi_canvas,u=this.spillageRois[this.deleteID].roi_name_canvas;this.cameraData[0].spillage_roi_data.splice(this.deleteID,1),this.spillageRois.splice(this.deleteID,1),this.canvas.remove(h),this.canvas.remove(u),this.canvas.renderAll(),this.modalService.dismissAll()}else this.server.notification(p.message,"Retry")},p=>{this.server.notification("Error while fetching the data","Retry")}))}DeleteCCROI(){var t=this.deleteID,n=this.CcRois[t].roi_name_canvas;this.canvas.remove(this.CcRois[t].roi_canvas),this.canvas.remove(n);var s=this.CcRois[t].cr_data.roi_id;this.CcRois.splice(t,1),this.cameraData[0].cr_data.splice(t,1),this.AISolutions.CR=this.CcRois.length>0;var c={id:this.ID,roi_id:String(s),ai_solutions:this.AISolutions};this.modalService.dismissAll(),this.server.deleteCCData(c).subscribe(m=>{m.success&&window.location.reload(),this.server.notification(m.message),this.modalService.dismissAll()},m=>{this.modalService.dismissAll(),this.server.notification("Something went wrong","Retry")}),this.canvas.renderAll()}DeleteCCFrame(){this.AISolutions.CR=!1,this.server.deleteCCFrameData({id:this.ID,ai_solutions:this.AISolutions}).subscribe(a=>{a.success&&(this.ccTypeList=(0,b.of)([{label:"ROI",data:0},{label:"Full Frame",data:1}]),window.location.reload()),this.server.notification(a.message)},a=>{this.server.notification("Something went wrong","Retry")}),this.canvas.renderAll()}AlterROIName(t){this.isEditText=!this.isEditText,this.selectedId=t,this.selectedEditId=t,this.tempROIID.setValue(this.allCameraData[t].roi_name),this.modalService.open(this.ROIChangeModal,{size:"small",animation:!0,centered:!0,backdrop:"static"})}AlterTagName(t){this.isEditText=!this.isEditText,this.selectedId=t,this.selectedEditId=t,this.tempROIID.setValue(this.allCameraData[t].roi_name),this.modalService.open(this.TagChangeModal,{size:"small",animation:!0,centered:!0,backdrop:"static"})}ChangeROIName(){this.allCameraData[this.selectedId].roi_name=this.tempROIID.value,this.allCameraData[this.selectedId].roi_name_canvas.text=this.tempROIID.value,this.allCameraData[this.selectedId].roi_data.roi_name=this.tempROIID.value,this.canvas.renderAll(),this.modalService.dismissAll(),this.SaveEditedRoi()}ChangeCCName(){var t;this.CcRois[this.selectedId].roi_name=this.tempROIID.value,this.CcRois[this.selectedId].roi_name_canvas.text=this.tempROIID.value,this.CcRois[this.selectedId].roi_data.roi_name=this.tempROIID.value,this.canvas.renderAll(),this.modalService.dismissAll(),this.CcRois.length>0&&(t=this.CcRois[this.CcRois.length-1].cr_data),this.CcRois.length>0&&(this.AISolutions.CR=!0),this.server.AddCrowdCount({id:this.ID,ai_solutions:this.AISolutions,cr_data:[t]}).subscribe(n=>{}),this.SaveEditedRoi()}SaveChanges(){var a=[];if(this.CcRois.length>0&&this.CcRois.forEach(c=>{a.push(c.cr_data)}),this.peopleCrowdForm.get("min").value||this.peopleCrowdForm.get("max").value){var n={label_name:"people",min_count:this.peopleCrowdForm.get("min").value?this.peopleCrowdForm.get("min").value:0,max_count:this.peopleCrowdForm.get("max").value?this.peopleCrowdForm.get("max").value:0};this.crowdConfig.push(n)}(this.vehicleCrowdForm.get("min").value||this.vehicleCrowdForm.get("max").value)&&(n={label_name:"vehicle",min_count:this.vehicleCrowdForm.get("min").value?this.vehicleCrowdForm.get("min").value:0,max_count:this.vehicleCrowdForm.get("max").value?this.vehicleCrowdForm.get("max").value:0},this.crowdConfig.push(n));var r=[];this.allCameraData.forEach((c,m)=>{r.push({...c.roi_data,roi_id:m+1})}),this.AISolutions.RA=r.length>0;var s={id:this.ID,ai_solutions:this.AISolutions,imagename:this.imageName,roi_data:r,tc_data:this.trafficCountData,ppe_data:[this.ppeConfig],cr_data:a,fire_smoke_data:[{fire:this.fireSmokeForm.get("fire").value,smoke:this.fireSmokeForm.get("smoke").value,dust:this.fireSmokeForm.get("dust").value,water:this.fireSmokeForm.get("water").value}]};this.server.AddROI(s).subscribe(c=>{this.isLoading=!1,c.success?(window.location.reload(),this.server.CameraSettingsChanges.next(!0),this.server.notification(c.message)):this.server.notification(c.message,"Retry")},c=>{this.isLoading=!1,this.server.notification("Something went wrong","Retry")})}AddCCData(){var t;this.crowdCountRoiName.reset(),this.CcRois.length>0&&(t=this.CcRois[this.CcRois.length-1].cr_data),this.AISolutions.CR=this.CcRois.length>0,this.server.AddCrowdCount({id:this.ID,ai_solutions:this.AISolutions,cr_data:[t]}).subscribe(n=>{n.success?(this.server.CameraSettingsChanges.next(!0),window.location.reload(),this.server.notification(n.message),this.RefreshCameraData()):(this.server.notification(n.message,"Retry"),this.canvas.remove(this.CcRois[this.CcRois.length-1].roi_canvas),this.canvas.remove(this.CcRois[this.CcRois.length-1].roi_name_canvas),this.canvas.renderAll())},n=>{this.canvas.remove(this.CcRois[this.CcRois.length-1].roi_canvas),this.canvas.remove(this.CcRois[this.CcRois.length-1].roi_name_canvas),this.canvas.renderAll(),this.server.notification("Something went wrong","Retry")})}AddTCData(){this.AISolutions.TC=this.trafficCountData.length>0,this.server.AddTCData({id:this.ID,ai_solutions:this.AISolutions,tc_data:[this.trafficCountData[this.trafficCountData.length-1]]}).subscribe(n=>{n.success?(this.server.CameraSettingsChanges.next(!0),this.RefreshCameraData(),this.server.notification(n.message),window.location.reload()):this.server.notification(n.message)},n=>{this.server.notification("Something went wrong","Retry")})}savePpeConfig(){this.AISolutions.PPE=!(!this.ppeConfig.helmet&&!this.ppeConfig.vest);var t=[];this.allCameraData.forEach((n,r)=>{t.push({...n.roi_data,roi_id:r+1})});var a={id:this.ID,ai_solutions:this.AISolutions,imagename:this.imageName,roi_data:t,tc_data:this.TCData,ppe_data:[this.ppeConfig],cr_data:this.crowdConfig,fire_smoke_data:[{fire:this.fireSmokeForm.get("fire").value,smoke:this.fireSmokeForm.get("smoke").value,dust:this.fireSmokeForm.get("dust").value}]};this.server.AddROI(a).subscribe(n=>{this.isLoading=!1,n.success?(this.server.CameraSettingsChanges.next(!0),this.server.notification(n.message)):this.server.notification(n.message,"Retry")},n=>{this.isLoading=!1,this.server.notification("Something went wrong","Retry")})}DeleteNewRoi(){this.isPolygonDrawn=!1,this.isAddROI=!1,this.isAddCC=!1,this.newROIPoints.splice(0,this.newROIPoints.length),this.canvas.renderAll(),(2==this.roiType||1==this.btnIndex)&&this.DeleteNewTCRoi()}GetPanelPoints(){this.cameraData[0].roi_data.forEach((t,a)=>{var n=t.bb_box.split(";");this.raObjects.push(...t.label_name);var r=[];for(let m=0;m<n.length-1;m+=2){var s={x:Number(n[m])*this.ratio,y:Number(n[m+1])*this.ratio};r.push(s)}this.roiPoints.push({roi:r,roi_name:t.roi_name})}),this.raObjects=this.RemoveDuplicates(this.raObjects),this.GetCCRoiPoints(),this.DrawExistPanels()}GetCCRoiPoints(){this.cameraData[0].cr_data.forEach((t,a)=>{this.CCKeyId=t.roi_id;var n=t.bb_box.split(";"),r=[];for(let m=0;m<n.length-1;m+=2){var s={x:Number(n[m])*this.ratio,y:Number(n[m+1])*this.ratio};r.push(s)}this.CCpoints.push({min_count:t.min_count,max_count:t.max_count,class_name:t.class_name,bbox_points:r,area_name:t.area_name})}),this.DrawExistCCRois()}DrawExistCCRois(){this.CCpoints.forEach((t,a)=>{this.polygonOptions.stroke="rgb(0, 255, 255)";var n=new fabric.Polygon(t.bbox_points,this.polygonOptions),r=new fabric.Text(t.area_name,{fontSize:20,backgroundColor:"black",selectable:!1,left:n.left,top:0==n.top||n.top-20<0||n.top-20==0?20:n.top-20,stroke:"rgb(0, 255, 255)",fill:"rgb(0, 255, 255)"});this.CcRois.push({roi_name_canvas:r,roi_canvas:n,roi_id:a,roi_name:this.cameraData[0].cr_data[a].area_name,cr_data:this.cameraData[0].cr_data[a]}),this.canvas.add(n,r),this.canvas.renderAll()}),this.GetTCPoints()}GetTCPoints(){var t={};this.trafficCountData=this.cameraData[0].tc_data,this.cameraData[0].tc_data.forEach((a,n)=>{var r=a.line_bbox.line.split(";"),s=a.line_bbox.arrow.split(";");t=[{points:{x1:Number(s[0]),y1:Number(s[1]),x2:Number(s[2]),y2:Number(s[3])},type:"arrow",area_name:a.area_name,roi_id:this.trafficCountData[n].roi_id},{points:{x1:Number(r[0]),y1:Number(r[1]),x2:Number(r[2]),y2:Number(r[3])},type:"line",area_name:a.area_name,roi_id:this.trafficCountData[n].roi_id}],this.tempTCData.push(t),this.TCKeyId=a.roi_id}),this.drawExistTCRois(this.tempTCData)}DrawExistPanels(){this.roiPoints.forEach((t,a)=>{this.polygonOptions.stroke=this.raROIColor;var n=new fabric.Polygon(t.roi,this.polygonOptions),r=new fabric.Text(t.roi_name,{fontSize:20,backgroundColor:"black",selectable:!1,left:n.left+10,top:n.top+50,stroke:this.raROIColor,fill:this.raROIColor}),s={roi_name_canvas:r,roi_canvas:n,roi_name:this.cameraData[0].roi_data[a].roi_name,roi_data:this.cameraData[0].roi_data[a],alarm_type:this.cameraData[0].roi_data[a].alarm_type,alarm_ip_address:this.cameraData[0].roi_data[a].alarm_type};this.alarmSelectedViol[0].roi_key_id.push(t.key_id),this.RAKeyId=t.key_id,this.allCameraData.push(s),this.canvas.add(n,r),this.canvas.renderAll()})}drawExistTCRois(t){this.tempTCCanvas=[];var n,r,a=[];t.forEach((s,c)=>{a=[];for(let _=0;_<s.length;_++){const v=s[_];if("line"==v.type&&(n=new fabric.Line([v.points.x1,v.points.y1,v.points.x2,v.points.y2],{stroke:"rgb(127, 255, 0)",strokeWidth:3,fill:"rgb(127, 255, 0)",originX:"center",originY:"center",hasControls:!1,hasBorders:!1,selectable:!1,objectCaching:!1,type:"line"}),a.push(n),n.set({x1:Math.round(v.points.x1),y1:Math.fround(v.points.y1)}),this.canvas.add(n)),"arrow"==v.type){var u=((n=new fabric.Line([v.points.x1,v.points.y1,v.points.x2,v.points.y2],{strokeWidth:3,fill:"rgb(127, 255, 0)",stroke:"rgb(127, 255, 0)",originX:"center",originY:"center",id:"arrow_line",selectable:!1,lockScalingFlip:!0,objectCaching:!1,type:"arrow"})).y1+n.y2)/2;this.deltaX=n.left-(n.x1+n.x2)/2,this.deltaY=n.top-u,r=new fabric.Triangle({left:n.get("x2")+this.deltaX,top:n.get("y2")+this.deltaY,originX:"center",originY:"center",selectable:!1,pointType:"arrow_start",angle:this._FabricCalcArrowAngle(n.x1,n.y1,n.x2,n.y2),width:20,height:20,fill:"rgb(127, 255, 0)",id:"arrow_triangle",uuid:n.uuid}),a.push(n,r),this.canvas.add(n,r);var d=new fabric.Text(v.area_name,{fontSize:16,backgroundColor:"black",selectable:!1,left:n.left-60,top:0==n.top||n.top-20<0||n.top-20==0?20:n.top-20,stroke:"rgb(127, 255, 0)",fill:"rgb(127, 255, 0)"});a.push(d),this.canvas.add(d),this.canvas.renderAll()}}this.canvas.requestRenderAll(),this.tempTCCanvas[c]=a}),this.GetSpillageRoiPoints(),this.canvas.requestRenderAll()}GetSpillageRoiPoints(){this.cameraData[0]?.spillage_roi_data&&(this.cameraData[0].spillage_roi_data.forEach((t,a)=>{var n=t.bb_box.split(";"),r=[];for(let m=0;m<n.length-1;m+=2){var s={x:Number(n[m])*this.ratio,y:Number(n[m+1])*this.ratio};r.push(s)}this.spillageRoiPoints.push({roi:r,roi_name:t.roi_name}),this.spillageRoiCount=t.roi_id}),this.DrawExistSpillageRois())}DrawExistSpillageRois(){this.spillageRoiPoints.forEach((t,a)=>{this.polygonOptions.stroke=this.spillageStroke;var n=new fabric.Polygon(t.roi,this.polygonOptions),r=new fabric.Text(t.roi_name,{fontSize:20,backgroundColor:"black",selectable:!1,left:n.left+10,top:n.top+50,stroke:this.spillageStroke,fill:this.spillageStroke});this.spillageRois.push({roi_name_canvas:r,roi_canvas:n,roi_name:this.cameraData[0].spillage_roi_data[a].roi_name,roi_data:this.cameraData[0].spillage_roi_data[a]}),this.canvas.add(n,r),this.canvas.requestRenderAll(),this.canvas.renderAll()})}SaveEditedRoi(){if(this.peopleCrowdForm.get("min").value||this.peopleCrowdForm.get("max").value){var t={label_name:["people"],min_count:this.peopleCrowdForm.get("min").value?this.peopleCrowdForm.get("min").value:0,max_count:this.peopleCrowdForm.get("max").value?this.peopleCrowdForm.get("max").value:0,roi_id:null};this.crowdConfig.push(t)}(this.vehicleCrowdForm.get("min").value||this.vehicleCrowdForm.get("max").value)&&(t={label_name:["vehicle"],min_count:this.vehicleCrowdForm.get("min").value?this.vehicleCrowdForm.get("min").value:0,max_count:this.vehicleCrowdForm.get("max").value?this.vehicleCrowdForm.get("max").value:0,roi_id:null},this.crowdConfig.push(t));var a=[],n=[];if(null!=this.selectedEditId){for(let p=0;p<this.allCameraData[this.selectedEditId].roi_canvas.points.length;p++){var r=this.allCameraData[this.selectedEditId].roi_canvas.points;let h=Math.round(r[p].x),u=Math.round(r[p].y);n.push(`${h};${u};`)}var c=n.toString().replace(/,/g,"");this.allCameraData[this.selectedEditId].roi_data.bb_box=c,a.push({...this.allCameraData[this.selectedEditId].roi_data})}this.server.EditROI({id:this.ID,ai_solutions:this.AISolutions,roi_data:a,roi_id:this.allCameraData[this.selectedEditId].roi_data.roi_id}).subscribe(p=>{p.success?(this.server.notification(p.message),window.location.reload()):this.server.notification(p.message,"Retry")},p=>{this.server.notification("Something went wrong","Retry")})}CalculateAspectRatio(t,a,n){return this.ratio=a/t,this.ratio*n}ClassId(t){if(t.target.checked)this.classIds.push(t.target.value);else{var a=this.classIds.indexOf(t.target.defaultValue);this.classIds.splice(a,1)}}OnRAAlarmObjects(t){if(t.target.checked)this.raAlarmObjects.push(t.target.value);else{var a=this.raAlarmObjects.indexOf(t.target.defaultValue);this.raAlarmObjects.splice(a,1)}this.alarmSelectedViol[0].classes=[...this.raAlarmObjects]}OnPPEAlarmObjects(t){if(t.target.checked)this.ppeAlarmObjects.push(t.target.value);else{var a=this.ppeAlarmObjects.indexOf(t.target.defaultValue);this.ppeAlarmObjects.splice(a,1)}this.alarmSelectedViol[1].classes=[...this.ppeAlarmObjects]}OnAlarmRAROISelect(t){if(t.target.checked)this.alarmSelectedViol[0].roi_key_id.push(t.target.value);else{var a=this.alarmSelectedViol[0].roi_key_id.indexOf(t.target.defaultValue);this.alarmSelectedViol[0].roi_key_id.splice(a,1)}}TrafficCountConfig(t){t.target.checked&&(this.TrafficConfig=t.target.value),this.modalService.dismissAll()}PPE_Config(t){t.target.checked?("helmet"===t.target.value&&(this.isEdit=!0,this.ppeConfig.helmet=!0),"vest"===t.target.value&&(this.isEdit=!0,this.ppeConfig.vest=!0)):(this.isEdit=!0,"helmet"===t.target.value&&(this.ppeConfig.helmet=!1),"vest"===t.target.value&&(this.ppeConfig.vest=!1)),this.savePpeConfig()}FireSmokeConfig(t){t.target.checked?("helmet"===t.target.value&&(this.isEdit=!0,this.ppeConfig.helmet=!0),"vest"===t.target.value&&(this.isEdit=!0,this.ppeConfig.vest=!0)):(this.isEdit=!0,"helmet"===t.target.value&&(this.ppeConfig.helmet=!1),"vest"===t.target.value&&(this.ppeConfig.vest=!1)),this.savePpeConfig()}OnAlarmAISelect(t){if(t.target.checked)this.AlarmAITypes.push(t.target.value),"RA"==t.target.value&&(this.alarmRAObjects.get("person").setValue(!0),this.alarmSelectedViol[0].alarm=!0),"PPE"==t.target.value&&(this.alarmPPEObjects.get("helmet").setValue("helmet"),this.alarmPPEObjects.get("vest").setValue("vest"),this.alarmSelectedViol[1].alarm=!0);else{"RA"==t.target.defaultValue&&(this.alarmSelectedViol[0].alarm=!1),"PPE"==t.target.defaultValue&&(this.alarmSelectedViol[1].alarm=!1);var a=this.AlarmAITypes.indexOf(t.target.defaultValue);this.AlarmAITypes.splice(a,1)}}VehicleConfig(t){}DeleteNewTCRoi(){this.trafficCountLineROIS.forEach(t=>{this.canvas.remove(t)}),this.btnIndex=1,this.trafficCountLineROIS=[]}SaveTrafficCountROI(){this.TCCanvasData.push(this.line),this.TCCanvasData.push(this.triangle),1==this.btnIndex?this.trafficCountLineROIS.push(this.line):this.trafficCountLineROIS.push(this.line,this.triangle),1==this.trafficCountLineROIS.length&&(this.btnIndex=2),3==this.trafficCountLineROIS.length&&this.modalService.open(this.TCNameModal,{backdrop:"static"}).result.then(t=>{this.tcName.setValue(null),this.tcName.reset(),this.tcName.addValidators(o.kI.required),this.classIds=["person"],this.DeleteNewTCRoi()},t=>{})}AddTrafficCountData(){var t=!1;if(this.cameraData[0].tc_data.forEach(p=>{t=p.area_name==this.tcName.value}),t)this.DeleteNewTCRoi(),this.modalService.dismissAll(),this.server.notification("The ROI of this name already exist","retry");else{var n,a={};a.line=Math.round(Math.abs(this.trafficCountLineROIS[0].x1)).toString()+";"+Math.round(Math.abs(this.trafficCountLineROIS[0].y1)).toString()+";"+Math.round(Math.abs(this.trafficCountLineROIS[0].x2)).toString()+";"+Math.round(Math.abs(this.trafficCountLineROIS[0].y2)).toString()+";",a.arrow=Math.round(Math.abs(this.trafficCountLineROIS[1].x1)).toString()+";"+Math.round(Math.abs(this.trafficCountLineROIS[1].y1)).toString()+";"+Math.round(Math.abs(this.trafficCountLineROIS[1].x2)).toString()+";"+Math.round(Math.abs(this.trafficCountLineROIS[1].y2)).toString()+";";var r={class_name:this.classIds,line_bbox:a,area_name:this.tcName.value,roi_id:++this.TCKeyId,direction:this.tcDirection.value};fabric.util.resetObjectTransform(this.newROI);var s=this.line._getLeftToOriginX(),c=this.line._getTopToOriginY(),m=new fabric.Text(this.tcName.value,{fontSize:15,backgroundColor:"black",selectable:!1,left:s-20,top:c-30,stroke:"rgb(127, 255, 0)",fill:"rgb(127, 255, 0)"});n=[...this.trafficCountLineROIS,m],this.canvas.add(m),this.canvas.renderAll(),this.trafficCountData[this.trafficCountData.length]=r,this.tempTCLineROIS.push(...this.trafficCountLineROIS),this.trafficCountLineROIS=[],this.btnIndex=1,this.tempTCCanvas.push(n),this.AddTCData(),this.modalService.dismissAll()}}addingShapeOnMouseDown(t){this.isMouseDown=!0;var a=this.canvas.getPointer(t.e);if(1==this.btnIndex&&(this.line=new fabric.Line([a.x,a.y,a.x,a.y],{stroke:"rgb(127, 255, 0)",strokeWidth:3,fill:"rgb(127, 255, 0)",originX:"center",originY:"center",hasControls:!1,hasBorders:!1,selectable:!1,objectCaching:!1,type:"line"}),this.line.set({x1:Math.round(a.x),y1:Math.fround(a.y)}),this.canvas.add(this.line),this.activeObj=this.line),2===this.btnIndex){this.line=new fabric.Line([a.x,a.y,a.x,a.y],{strokeWidth:3,fill:"rgb(127, 255, 0)",stroke:"rgb(127, 255, 0)",originX:"center",originY:"center",id:"arrow_line",selectable:!1,lockScalingFlip:!0,objectCaching:!1,type:"arrow"});var c=(this.line.y1+this.line.y2)/2;this.deltaX=this.line.left-(this.line.x1+this.line.x2)/2,this.deltaY=this.line.top-c,this.triangle=new fabric.Triangle({left:this.line.get("x2")+this.deltaX,top:this.line.get("y2")+this.deltaY,originX:"center",originY:"center",selectable:!1,pointType:"arrow_start",angle:-45,width:20,height:20,fill:"rgb(127, 255, 0)",id:"arrow_triangle",uuid:this.line.uuid}),this.canvas.add(this.line,this.triangle),this.activeObj=this.line}this.canvas.requestRenderAll()}IsDeleteTC(t,a){this.deleteID=a,this.modalService.open(t,{backdrop:"static",size:"xs"})}OnDeleteTCROI(){var t=this.deleteID;this.tempTCCanvas[t].forEach(n=>{this.canvas.remove(n),this.canvas.renderAll()}),this.AISolutions.TC=!(this.trafficCountData.length<=1),this.trafficCountLineROIS=[],this.btnIndex=1,this.server.deleteTCData({id:this.ID,roi_id:this.trafficCountData[t].roi_id,ai_solutions:this.AISolutions}).subscribe(n=>{this.server.notification(n.message),n.success?(this.server.CameraSettingsChanges.next(!0),this.trafficCountData.splice(t,1),this.modalService.dismissAll()):this.server.notification(n.message,"Retry")})}SaveCCPeople(){var t={label:["people"]};t.min_count=this.peopleCrowdForm.get("min").value,t.max_count=this.peopleCrowdForm.get("max").value,t.roi_id=null}SaveCCVehicle(){var t={label:["vehicle"]};t.min_count=this.peopleCrowdForm.get("min").value,t.max_count=this.peopleCrowdForm.get("max").value,t.roi_id=null}creatingShapeOnMouseMove(t){if(!0===this.isMouseDown){var a=this.canvas.getPointer(t.e);1===this.btnIndex&&this.line.set({x2:a.x,y2:a.y}),2===this.btnIndex&&(this.line.set({x2:a.x,y2:a.y}),2==this.btnIndex&&this.triangle.set({left:a.x+this.deltaX,top:a.y+this.deltaY,angle:this._FabricCalcArrowAngle(this.line.x1,this.line.y1,this.line.x2,this.line.y2)}))}this.canvas.requestRenderAll()}ngOnDestroy(){this.modalService.dismissAll()}RefreshCameraData(){this.server.GetRACameraData(this.ID).subscribe(t=>{t.success&&(this.cameraData=t.message,this.trafficCountData=this.cameraData[0].tc_data)})}_FabricCalcArrowAngle(t,a,n,r){var c,m;return m=r-a,180*(0==(c=n-t)?0===m?0:m>0?Math.PI/2:3*Math.PI/2:0===m?c>0?0:Math.PI:c<0?Math.atan(m/c)+Math.PI:m<0?Math.atan(m/c)+2*Math.PI:Math.atan(m/c))/Math.PI+90}RemoveDuplicates(t){return t.filter((a,n)=>t.indexOf(a)===n)}AddFireSmokeSolution(){this.SensGizInfo=[],this.sensgiz.controls.forEach((a,n)=>{this.SensGizInfo.push({presetid:a.value.presetId,presetlocation:a.value.coinLocation,preset_key_id:n})}),this.fireSmokeForm.get("fire").value&&(this.AISolutions.fire=!0),this.fireSmokeForm.get("smoke").value&&(this.AISolutions.smoke=!0),this.fireSmokeForm.get("dust").value&&(this.AISolutions.dust=!0);var t={id:this.ID,ai_solutions:this.AISolutions,firesmoke_data:[{fire:this.fireSmokeForm.get("fire").value,smoke:this.fireSmokeForm.get("smoke").value,dust:this.fireSmokeForm.get("dust").value,camera_type:this.cameraType.value,presets:[...this.SensGizInfo]}]};this.server.AddFireSmokeToFrame(t).subscribe(a=>{this.server.notification(a.message),window.location.reload()},a=>{window.location.reload()})}DeleteFireSmokeFrame(){this.AISolutions.fire=!1,this.AISolutions.smoke=!1,this.AISolutions.dust=!1,this.server.DeleteFireSmokeFrame({id:this.ID,ai_solutions:this.AISolutions}).subscribe(a=>{window.location.reload(),this.server.notification(a.message)},a=>{window.location.reload(),this.server.notification("Error During the Process","Retry")})}AddFireROI(){this.polygonOptions.stroke="orange",this.newROI.stroke="orange",this.isAddROI=!1,this.isWater=!0,this.isEdit=!1,this.roiType=1,this.isTCRoi=!1,this.newROIPoints.splice(0,this.newROIPoints.length),this.canvas.requestRenderAll(),this.isAddCC=!1}DeleteWaterROIS(t){this.canvas.remove(this.WaterROIData[t].roi_canvas),this.canvas.remove(this.WaterROIData[t].roi_name_canvas)}hooterOrRelayConfig(t,a){"hooter"==t.target.value?(this.isHooter=!0,this.isRelay=!1,this.isSensgiz=!1,this.isVoiceAlert=!1):"relay"==t.target.value?(this.isHooter=!1,this.isRelay=!0,this.isSensgiz=!1,this.isVoiceAlert=!1):"voiceAlert"==t.target.value?(this.isVoiceAlert=!0,this.isHooter=!1,this.isRelay=!1,this.isSensgiz=!1):"sensegiz"==t.target.value?(this.isVoiceAlert=!1,this.isSensgiz=!0,this.isHooter=!1,this.isRelay=!1,this.SensgizModal(a)):(this.isVoiceAlert=!1,this.isSensgiz=!1,this.isHooter=!1,this.isRelay=!1)}SensgizModal(t){this.sensgizModal=this.modalService.open(t)}SaveSensgizInfo(){this.SensGizInfo=[],this.sensgiz.controls.forEach((t,a)=>{this.SensGizInfo.push({preset_id:t.value.presetId,coin_location:t.value.coinLocation,coin_key_id:a})}),"sensegiz"==this.editAlertForm.get("alarmType").value&&null!=this.editAlertForm.get("alarmType").value&&""!=this.editAlertForm.get("alarmIp").value&&this.sensgiz.length>0&&(this.isAlertFormValid=!0),this.sensgizModal.close(),this.editAlertForm.updateValueAndValidity()}AddSensgizData(){this.sensgiz.push(new o.cw({coinLocation:new o.NI("",[o.kI.required]),presetId:new o.NI("",[o.kI.pattern(new RegExp("^(?!-)[0-9]+$")),o.kI.min(0),o.kI.required])}))}DeleteSensgizData(t){this.sensgiz.controls.splice(t,1),this.sensgiz.updateValueAndValidity()}EditAlert(t){this.sensgiz.reset(),this.sensgiz=new o.Oe([]),this.sensgiz.push(new o.cw({coinLocation:new o.NI("",[o.kI.required]),presetId:new o.NI("",[o.kI.pattern(new RegExp("^(?!-)[0-9]+$")),o.kI.min(0),o.kI.required])})),this.editAlertForm.get("alarmEnable").setValue(this.cameraData[0].alarm_enable),"hooter"==this.cameraData[0].alarm_type?(this.isHooter=!0,this.isRelay=!1,this.isSensgiz=!1,this.editAlertForm.get("alarmType").setValue("hooter"),this.editAlertForm.get("alarmIp").setValue(this.cameraData[0].alarm_ip_address)):"relay"==this.cameraData[0].alarm_type?(this.isHooter=!1,this.isRelay=!0,this.isSensgiz=!1,this.editAlertForm.get("alarmType").setValue("relay"),this.editAlertForm.get("alarmIp").setValue(this.cameraData[0].alarm_ip_address)):"sensegiz"==this.cameraData[0].alarm_type&&(this.sensgiz=new o.Oe([]),this.SensGizInfo=this.cameraData[0].coin_details,this.isHooter=!1,this.isRelay=!1,this.isSensgiz=!0,this.cameraData[0].coin_details.forEach((a,n)=>{this.sensgiz.push(new o.cw({coinLocation:new o.NI("",[o.kI.required]),presetId:new o.NI("",[o.kI.pattern(new RegExp("^(?!-)[0-9]+$")),o.kI.min(0),o.kI.required])})),this.sensgiz.controls[n].get("coinLocation").setValue(a.coin_location),this.sensgiz.controls[n].get("presetId").setValue(a.preset_id)}),this.editAlertForm.get("alarmType").setValue("sensegiz")),this.modalService.open(t).result.then(a=>{this.responseMessage=""},a=>{this.responseMessage=""})}OnEditAlertDetails(){if(this.responseMessage="",this.editAlertForm.updateValueAndValidity(),this.isLoading=!0,new FormData,this.isFail=!1,this.isSuccess=!1,this.isHooter)var n={id:this.cameraData[0]._id.$oid,alarm_type:"hooter",alarm_ip_address:this.editAlertForm.value.alarmIp,alarm_enable:this.editAlertForm.get("alarmEnable").value};else n=this.isRelay?{id:this.cameraData[0]._id.$oid,alarm_type:"relay",alarm_ip_address:this.editAlertForm.value.alarmIp,alarm_enable:this.editAlertForm.value.alarmEnable}:this.isVoiceAlert?{id:this.cameraData[0]._id.$oid,alarm_type:"voiceAlert",alarm_ip_address:this.editAlertForm.value.voiceLanguage,alarm_enable:this.editAlertForm.get("alarmEnable").value}:this.isSensgiz?{id:this.cameraData[0]._id.$oid,alarm_type:"sensegiz",coin_details:this.SensGizInfo,alarm_enable:this.editAlertForm.get("alarmEnable").value}:{id:this.cameraData[0]._id.$oid,ai_solution:this.AISolutions,alarm_type:null,alarm_enable:!1,alarm_ip_address:null};this.server.EditAlarm(n).subscribe(r=>{r.success?(this.isLoading=!1,this.isSuccess=!0,this.GetAlertInfo(),this.responseMessage=r.message,this.responseMessage="",this.isHooter=!1,this.isRelay=!1,this.server.notification(r.message),setTimeout(()=>{this.modalService.dismissAll()},500)):(this.isLoading=!1,this.responseMessage=r.message,this.isFail=!0)},r=>{this.isFail=!0,this.responseMessage="Error while adding camera,retry",this.isLoading=!1})}GetAlertInfo(){this.server.GetRACameraData(this.ID).subscribe(t=>{this.cameraData=t.message,this.AISolutions=this.cameraData[0].ai_solution?this.cameraData[0].ai_solution:{},this.currentArea=t.area,this.currentPlant=t.plant,this.CameraDataObservable=(0,b.of)(t.message),this.isCameraData=!0,this.cameraData[0].ppe_data.length>0?(this.ppeForm.get("helmet").valueChanges.subscribe(a=>{}),this.ppeConfig=this.cameraData[0].ppe_data[0],this.cameraData[0].ppe_data[0].helmet?(this.ppeForm.get("helmet").setValue(!0),this.ppeForm.get("helmet").markAsUntouched()):this.ppeForm.get("helmet").setValue(!1),this.cameraData[0].ppe_data[0].vest?this.ppeForm.get("vest").setValue(!0):this.ppeForm.get("vest").setValue(!1)):(this.ppeForm.get("vest").setValue(!1),this.ppeForm.get("helmet").setValue(!1))})}GetCameraFeedImage(){this.loader1=!0,this.server.GetCamereFeedImage(this.ID).subscribe(t=>{t.success?(this.imageName=t.message.imagename,this.SetCameraImageToCanvas(),this.loader1=!1,this.router.navigate([],{queryParams:{image:this.imageName},relativeTo:this.ActiveRoute,queryParamsHandling:"merge"})):(this.loader1=!1,this.server.notification(t.message))},t=>{this.loader1=!1,this.server.notification("Unbale to reach server","Retry")})}SetRelayOrHooter(t,a,n,r){this.editField="alarmStatus",this.selectedRoi=n,this.selectedEditId=a,t.target.checked?"boolean"==typeof this.allCameraData[this.selectedEditId].roi_data.alarm_type[r]&&(this.allCameraData[this.selectedEditId].roi_data.alarm_type[r]=!0):"boolean"==typeof this.allCameraData[this.selectedEditId].roi_data.alarm_type[r]&&(this.allCameraData[this.selectedEditId].roi_data.alarm_type[r]=!1),this.SaveEditedRoi()}SetPinchRole(t,a,n){this.editField="alarmStatus",this.selectedRoi=n,this.selectedEditId=a,this.allCameraData[this.selectedEditId].roi_data.pinch_role=!!t.target.checked,this.SaveEditedRoi()}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(C.gz),e.\u0275\u0275directiveInject(P.N),e.\u0275\u0275directiveInject(C.F0),e.\u0275\u0275directiveInject(y.FF))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-camera-roi"]],viewQuery:function(t,a){if(1&t&&(e.\u0275\u0275viewQuery(M,5),e.\u0275\u0275viewQuery(j,5),e.\u0275\u0275viewQuery(L,5),e.\u0275\u0275viewQuery(z,5),e.\u0275\u0275viewQuery($,5),e.\u0275\u0275viewQuery(q,5),e.\u0275\u0275viewQuery(G,7),e.\u0275\u0275viewQuery(H,5),e.\u0275\u0275viewQuery(Q,5),e.\u0275\u0275viewQuery(W,5),e.\u0275\u0275viewQuery(Z,5),e.\u0275\u0275viewQuery(B,5)),2&t){let n;e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(a.infoModal=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(a.CCNameModal=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(a.CCNameChangeModal=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(a.fireROINameModal=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(a.ROIChangeModal=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(a.TagChangeModal=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(a.canvasContainer=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(a.RoiNameModal=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(a.TCNameModal=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(a.CCForFrame=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(a.spillageNameModal=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(a.CCTYpe=n.first)}},decls:84,vars:8,consts:[[1,"container-fluid","dashboard-content"],[1,"page-header","mb-2"],["class","row","id","info-card",4,"ngIf"],["id","data-card",1,"card","card-body","mb-3"],[1,"row","mb-3"],[1,"col-9","border-bottom"],[1,"d-flex","justify-content-start"],[4,"ngIf"],[1,"ms-2","me-2","btn","success","text-black",2,"background-color","rgb(189, 189, 38) !important",3,"click"],["icon","plus",1,"me-1"],[1,"me-2","btn","success",3,"click"],["class","me-2 btn success","style","background-color: #f44336 !important",3,"click",4,"ngIf"],[1,"btn","default-outline",3,"click"],["icon","arrow-rotate-right",4,"ngIf"],["class","spinner-border spinner-border-sm me-2 text-prime","role","status","aria-hidden","true",4,"ngIf"],[1,"col-xl-3","col-md-12","col-xs-12","col-sm-12","p-2","border-bottom"],[1,"float-end"],["class","btn default me-2",3,"click",4,"ngIf"],[1,"me-2","btn","danger",3,"click"],["icon","trash",1,"me-1","text-white"],[1,"float-end","btn","primary",3,"click"],["icon","angle-left",1,"me-1"],[1,"col-12"],[1,"d-flex","justify-content-center"],["id","canvas-container"],["id","canvasROI",1,"canvas-class"],[1,"row"],[1,"card","card-body"],[1,"mb-3",2,"color","#178489"],["class","row mt-3",4,"ngIf"],["noAIsol",""],[1,"row","mt-3"],[1,"alert","alert-dark"],[1,"col-2"],[1,"mx-auto","my-auto"],["ROINameChangeModal",""],["CCNameChangeModal",""],["ccForFrame",""],["ROINameModal",""],["deleteModal",""],["deleteCCModal",""],["deleteTCModal",""],["deleteCCFModal",""],["deleteFireModal",""],["crowdCount",""],["spillageROIName",""],["roiInfo",""],["TCNameModal",""],["CCType",""],["editAlert",""],["sensgizDetails",""],["id","info-card",1,"row"],[1,"col-xl-3","col-md-6","col-xs-12","col-sm-12"],["id","data-card",1,"card","analytics"],[1,"text-muted"],["id","ccContainer","placeholder","+ Crowd Count Types",3,"labelStyleClass","containerStyle","ngModelOptions","disabled","ngModel","options","ngModelChange","onNodeSelect"],[1,"me-2","btn","success",2,"background-color","#f44336 !important",3,"click"],["icon","arrow-rotate-right"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2","text-prime"],[1,"btn","default","me-2",3,"click"],["styleClass","tabview-custom"],["pTemplate","header"],["noDetails",""],["header","Header II"],["header","Header III"],[1,"d-flex","justify-content-center","align-items-center"],[1,"col-6"],[1,"border","rounded","p-3"],["header","Header II",4,"ngIf"],["header","Header III",4,"ngIf"],["class","",4,"ngIf","ngIfElse"],[1,""],["id","data-card",1,""],[1,"table"],[2,"text-align","center"],["scope","col"],["icon","cog",1,"me-2"],["style","text-align: center",4,"ngFor","ngForOf"],[3,"dblclick"],["class","",4,"ngFor","ngForOf"],[1,"form-check","form-check-inline","m-2"],["type","checkbox",1,"form-check-input",2,"color","var(--primary-color) !important",3,"checked","id","change"],[1,"flex"],[1,"btn","btn-sm","danger","me-2",3,"click"],["icon","trash"],["type","checkbox",1,"form-check-input",2,"color","var(\n                                                --primary-color\n                                              ) !important",3,"checked","id","change"],["type","checkbox","role","switch",1,"form-check-input",2,"color","var(\n                                                --primary-color\n                                              ) !important",3,"checked","id","change"],["id","data-card",1,"card"],["class","","id","data-card",4,"ngIf","ngIfElse"],["class","table",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm","danger",3,"click"],[4,"ngIf","ngIfElse"],["CCFullFrame",""],["class","table",4,"ngIf","ngIfElse"],[1,"mb-3"],["id","data-card",1,"card","card-body"],[1,"float-start"],["icon","trash",1,"me-2"],[1,"input-group"],[1,"row","col-2"],[1,"",2,"color","#178489"],[1,"",2,"pointer-events","all",3,"formGroup"],["id","custome",1,"form-check","form-check-inline"],["type","checkbox","id","helmet","value","helmet","defaultValue","","formControlName","helmet",1,"form-check-input",3,"checked","change"],["for","helmet",1,"form-check-label","text-muted"],["type","checkbox","formControlName","vest","name","","value","vest","defaultValue","vest","id","vest",1,"form-check-input",3,"checked","change"],["for","vest",1,"form-check-label","text-muted"],["id","data-card",1,"card","card-header"],["class","col-xl-12",4,"ngIf"],[1,"col-xl-12"],[1,"row","d-flex","justify-content-center"],[1,"col-6","border","rounded","p-3"],["type","checkbox","id","fire","value","fire","defaultValue","helmet","formControlName","fire",1,"form-check-input"],["for","fire",1,"form-check-label","text-muted"],["type","checkbox","formControlName","smoke","name","","value","smoke","defaultValue","smoke","id","smoke",1,"form-check-input"],["for","smoke",1,"form-check-label","text-muted"],["class","border rounded p-3 m-3",4,"ngIf"],[1,"border","rounded","p-3","m-3"],[1,"btn","btn-sm","default-outline","mb-3","ms-3",3,"click"],["icon","plus",1,"mb-2"],["class","p-2","style","",4,"ngFor","ngForOf"],[1,"p-2"],[1,"d-flex","justify-centent-center",3,"formGroup"],[1,"d-flex","align-items-center","justify-content-between"],[1,"form-floating"],["id","coinId","placeholder","Coin ID","formControlName","coinId",1,"form-control","w-20","me-2"],["for","coinId"],["type","number","id","number-input","placeholder","Preset Id","formControlName","presetId",1,"form-control","w-20","me-2"],["for","number-input"],["id","loc","placeholder","Location","formControlName","coinLocation",1,"form-control","w-20","me-2"],["for","loc"],["icon","circle-minus","size","lg",1,"ms-2",2,"cursor","pointer","color","#bd1f14",3,"click"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["class","col-12",4,"ngIf"],["class","card",4,"ngIf"],[1,"card"],[1,"border","p-2",2,"border-radius","7px"],[1,"float-start",2,"color","#178489"],[1,"float-end","btn","default-tertiary",3,"click"],["icon","pen-to-square"],[1,"col-xl-12","col-lg-6","col-md-12","col-sm-6","col-xs-6"],[1,"col-12","mb-3"],[1,"mt-3"],["class","ms-2",4,"ngIf"],["class","m-2",4,"ngIf"],[1,"ms-2"],[1,"text-dark"],[1,"m-2"],["class","p-1 m-1",4,"ngIf"],["class","col-12 p-2",4,"ngIf"],["class","col-12 d-flex justify-centent-center",4,"ngIf"],[1,"p-1","m-1"],[1,"mb-2","mt-3"],["class","d-flex justify-content-between align-items-center mt-2",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","mt-2"],[1,"d-flex","justify-centent-space-between","align-items-center"],[1,"list-group-item","me-2"],["class","float-end",4,"ngIf"],[1,"list-group-item","ms-2"],[1,"col-12","p-2"],[1,"me-2"],[1,"list-group"],["class","list-group-item","style","overflow-x: auto; max-width: 100%",4,"ngIf"],["class","list-group-item",4,"ngIf"],[1,"list-group-item"],["type","checkbox","name","","value","fire","defaultValue","fire","id","fireAlert",1,"form-check-input"],["for","fireAlert",1,"form-check-label","text-muted"],["type","checkbox","name","","value","smoke","defaultValue","smoke","id","smokeAlert",1,"form-check-input"],["for","smokeAlert",1,"form-check-label","text-muted"],[1,"list-group-item",2,"overflow-x","auto","max-width","100%"],["type","checkbox","id","RAalert","value","RA","defaultValue","",1,"form-check-input",3,"change"],["for","RAalert",1,"form-check-label","text-muted"],[3,"formGroup",4,"ngIf"],["class","box-container","style","overflow-x: auto; max-width: 100%",4,"ngIf"],[3,"formGroup"],["class","mb-3 mt-3 d-flex justify-content-center",4,"ngIf"],[1,"mb-3","mt-3","d-flex","justify-content-center"],["class","form-check form-check-inline","id","subCheckbox",4,"ngIf"],["id","subCheckbox",1,"form-check","form-check-inline"],["formControlName","person","type","checkbox","checked","","name","","id","0",1,"form-check-input",3,"defaultValue","value","change"],["for","0",1,"form-check-label"],["formControlName","car","type","checkbox","name","","id","1",1,"form-check-input",3,"value","defaultValue","change"],["for","1",1,"form-check-label"],["formControlName","bike","type","checkbox","name","","id","2",1,"form-check-input",3,"value","defaultValue","change"],["for","2",1,"form-check-label"],["type","checkbox","formControlName","truck","name","","id","3",1,"form-check-input",3,"value","defaultValue","change"],["for","3",1,"form-check-label"],[1,"box-container",2,"overflow-x","auto","max-width","100%"],["class","box-md",4,"ngFor","ngForOf"],[1,"box-md"],[1,"form-check-inline","form-check-inline","m-2",2,"display","inline-block !important","width","70%","max-width","70%","overflow-x","scroll"],["type","checkbox",1,"form-check-input","m-2",3,"checked","id","value","change"],[3,"for"],["type","checkbox","name","","value","PPE","defaultValue","PPE","id","PPEalert",1,"form-check-input",3,"change"],["for","PPEalert",1,"form-check-label","text-muted"],["class","mb-3 mt-3 d-flex justify-content-center",3,"formGroup",4,"ngIf"],[1,"mb-3","mt-3","d-flex","justify-content-center",3,"formGroup"],["type","checkbox","id","helmetAlert","value","helmet","defaultValue","",1,"form-check-input",3,"formControlName","change"],["for","helmetAlert",1,"form-check-label","text-muted"],["type","checkbox","name","","value","vest","defaultValue","vest","id","vestAlert",1,"form-check-input",3,"formControlName","change"],["for","vestAlert",1,"form-check-label","text-muted"],["class","form-check form-check-inline","id","custome",4,"ngIf"],[1,"col-12","d-flex","justify-centent-center"],[1,"table","table-bordered"],[1,"alert","alert-warning"],[1,"card-header"],[1,"card-body","p-4"],["action",""],["type","text","id","ROI",1,"form-control","mb-3",3,"formControl","ngClass"],["id","validationServerUsernameFeedback",3,"ngClass"],["type","submit",1,"btn","success","ms-2","float-end",3,"click"],[1,"btn","danger","me-2","float-end",3,"click"],[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-content"],[1,"w-100","p-2"],["id","custome",1,"row",3,"formGroup"],[1,"column-flex","justify-content-center","align-items-center"],["class","d-flex justify-content-center align-items-center",4,"ngFor","ngForOf"],[1,"btn","default","float-end",3,"disabled","click"],[1,"d-flex","justify-content-center","align-items-center","mb-3","mt-3"],[1,"w-100"],[1,"column-flex"],["id","custome",1,"mb-2"],["type","checkbox","checked","","name","","min","0",1,"form-check-input",3,"formControlName","defaultValue","value","id"],[1,"form-check-label","ms-2",3,"for"],["class","mb-2",4,"ngIf"],["class","",4,"ngIf"],[1,"mb-2"],["type","number","formControlName","min","min","0","id","min","placeholder","min",1,"form-control",3,"ngClass"],["type","number","formControlName","max","pattern","\\d+","name","","min","0","id","min","placeholder","max",1,"form-control",3,"ngClass"],["type","text","id","ROI","placeholder","Enter ROI name",1,"form-control","mb-3",3,"ngClass","formControl"],[1,"mb-3","mt-3","d-flex","justify-content-center","border","rounded","p-3"],["type","checkbox","checked","","name","","id","0",1,"form-check-input",3,"formControl","defaultValue","value","change"],["class","mb-3 mt-3 border rounded p-3",4,"ngIf"],["type","checkbox","name","","id","pinchRole",1,"form-check-input",3,"formControl"],["for","pinchRole",1,"form-check-label"],["class","border rounded p-3",4,"ngIf"],["type","submit",1,"btn","success","ms-1","float-end",3,"disabled","click"],[1,"btn","danger","me-1","float-end",3,"click"],[1,"mb-3","mt-3","border","rounded","p-3"],[1,"border-bottom","mb-2"],["class","d-flex justify-content-center mt-3",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"d-flex","justify-content-center","mt-3"],["type","checkbox","name","","id","hooterroi",1,"form-check-input",3,"formControl"],["for","hooterroi",1,"form-check-label"],[1,"form-group"],["id","hooterShutdownTime",1,"form-control",3,"formControl"],["type","checkbox","name","","id","relayroi",1,"form-check-input",3,"formControl"],["for","relayroi",1,"form-check-label"],["type","text","name","tagname","id","tagname",1,"form-control",3,"formControl"],[1,"modal-confirm"],[1,"modal-header","flex-column"],[1,"icon-box"],[1,"material-icons"],[1,"modal-title","w-100"],[1,"modal-footer","justify-content-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","danger",3,"click"],["action","",1,""],["id","custome",1,"form-inline","row",3,"formGroup"],["type","checkbox","name","","min","0",1,"form-check-input",3,"formControlName","defaultValue","value","id"],[1,"alert","alert-info","mb-0"],[1,"d-flex","align-items-center","justify-content-center","mt-3","mb-3"],["type","radio","checked","","name","tcConfig","id","0",1,"form-check-input",3,"formControl","defaultValue","value","change"],["type","radio","name","tcConfig","id","1",1,"form-check-input",3,"formControl","value","defaultValue","change"],["type","radio","name","tcConfig","id","2",1,"form-check-input",3,"formControl","value","defaultValue","change"],[1,"d-flex","align-items-center","justify-content-center"],[1,"m-3"],["type","text","id","ROI","placeholder","Enter traffic count region name",1,"form-control",3,"ngClass","formControl"],[1,"m-3","border","rounded","p-3","d-flex","justify-content-center"],[1,"form-check"],["type","radio","id","camera_type1","value","entry",1,"form-check-input",3,"formControl"],["for","camera_type1",1,"form-check-label"],["type","radio","id","camera_type2","value","exit",1,"form-check-input",3,"formControl"],["for","camera_type2",1,"form-check-label"],["type","submit","type","submit",1,"btn","success","ms-1","float-end",3,"disabled","click"],[1,"container"],[1,"form","cf"],[1,"plan","cf"],["type","radio","name","radio1","id","free","value","free"],["for","free",1,"free-label","four","col"],["type","radio","name","radio1","id","basic","value","basic","checked",""],["for","basic",1,"basic-label","four","col"],[1,"border","p-3","mb-3",2,"border-radius","10px",3,"formGroup"],["type","checkbox","hidden","hidden","formControlName","alarmEnable",3,"checked","id"],[1,"switch",3,"for"],["id","input",1,"wrapper-two"],["for","alarmType",1,"mb-1"],["id","alarmType",1,"form-floating","form-control","p-3","mb-3"],["type","radio","formControlName","alarmType","value","hooter","defaultValue","hooter","id","hooter",1,"form-check-input",3,"change"],["for","hooter",1,"form-check-label","text-muted"],["type","radio","formControlName","alarmType","value","relay","defaultValue","relay","id","relay",1,"form-check-input",3,"change"],["for","relay",1,"form-check-label","text-muted"],["type","radio","formControlName","alarmType","value","","defaultValue","","id","none",1,"form-check-input",3,"change"],["for","none",1,"form-check-label","text-muted"],["for","alarmDetails",1,"mb-1"],["class","form-floating","id","alarmDetails",4,"ngIf"],["class","form-floating",4,"ngIf"],["class","m-2 alert alert-danger",4,"ngIf"],[1,"mt-2","btn-wrapper"],[1,"btn","default-outline","me-1",3,"click"],[1,"btn","default",3,"disabled","click"],["id","alarmDetails",1,"form-floating"],["type","text","formControlName","alarmIp","placeholder","User name","id","hooterIp",1,"form-control"],["for","hooterIp"],["type","text","formControlName","alarmIp","placeholder","User name","id","relayIp",1,"form-control"],["for","relayIp"],[1,"m-2","alert","alert-danger"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body","p-3"],[1,"modal-footer"],[1,"btn","default","float-end",3,"click"]],template:function(t,a){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h3"),e.\u0275\u0275text(3,"Integration of AI solutions to the Camera"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(4,Y,25,4,"div",2),e.\u0275\u0275elementStart(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",4)(9,"div",6),e.\u0275\u0275template(10,J,3,13,"div",7),e.\u0275\u0275elementStart(11,"button",8),e.\u0275\u0275listener("click",function(){return a.AddNewROI()}),e.\u0275\u0275element(12,"fa-icon",9),e.\u0275\u0275text(13,"Danger Zone ROI "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"button",10),e.\u0275\u0275listener("click",function(){return a.AddNewLine()}),e.\u0275\u0275element(15,"fa-icon",9),e.\u0275\u0275text(16," Traffic Count ROI "),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(17,ee,3,0,"button",11),e.\u0275\u0275elementStart(18,"button",12),e.\u0275\u0275listener("click",function(){return a.GetCameraFeedImage()}),e.\u0275\u0275template(19,te,1,0,"fa-icon",13),e.\u0275\u0275template(20,ie,1,0,"span",14),e.\u0275\u0275text(21," Update Camera Feed Image "),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(22,"div",15)(23,"div",16),e.\u0275\u0275template(24,ae,2,0,"button",17),e.\u0275\u0275elementStart(25,"button",18),e.\u0275\u0275listener("click",function(){return a.DeleteNewRoi()}),e.\u0275\u0275element(26,"fa-icon",19),e.\u0275\u0275text(27,"Delete ROI "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"button",20),e.\u0275\u0275listener("click",function(){return a.Back()}),e.\u0275\u0275element(29,"fa-icon",21),e.\u0275\u0275text(30," Back "),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(31,"div",4)(32,"div",22)(33,"div",23)(34,"div",24),e.\u0275\u0275element(35,"canvas",25),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(36,"div",26)(37,"div",22)(38,"div",27)(39,"div",28)(40,"h5"),e.\u0275\u0275text(41,"AI solutions:"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(42,Ue,21,6,"div",7),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(43,Ot,2,1,"div",29),e.\u0275\u0275template(44,Tt,2,0,"ng-template",null,30,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(46,"div",31)(47,"div",22)(48,"div",32),e.\u0275\u0275text(49," Above configaration will be applied to this camera "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(50,"div",33),e.\u0275\u0275element(51,"div",34),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(52,At,13,5,"ng-template",null,35,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(54,Vt,13,5,"ng-template",null,36,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(56,jt,13,3,"ng-template",null,37,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(58,Zt,30,13,"ng-template",null,38,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(60,Bt,17,0,"ng-template",null,39,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(62,Yt,17,0,"ng-template",null,40,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(64,Xt,17,0,"ng-template",null,41,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(66,Ut,17,0,"ng-template",null,42,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(68,Kt,17,0,"ng-template",null,43,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(70,ai,14,7,"ng-template",null,44,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(72,ni,13,6,"ng-template",null,45,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(74,ri,23,9,"ng-template",null,46,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(76,li,28,11,"ng-template",null,47,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(78,oi,17,0,"ng-template",null,48,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(80,di,41,8,"ng-template",null,49,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(82,pi,12,1,"ng-template",null,50,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",a.isCameraData),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",a.cameraData.length>0),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",!1),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!a.loader1),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.loader1),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",!(a.isEdit&&a.isChanges)&&(a.isAddROI||a.isAddCC||a.isSpillage)&&a.newROIPoints.length>2),e.\u0275\u0275advance(18),e.\u0275\u0275property("ngIf",a.cameraData.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!1))},dependencies:[o._Y,o.Fj,o.wV,o.Wl,o._,o.JJ,o.JL,o.c5,o.qQ,o.oH,o.sg,o.u,N.BN,I.NgClass,I.NgForOf,I.NgIf,o.On,o.F,w.mP,S.jx,R.xf,R.x4,I.AsyncPipe],styles:[".card.analytics[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{max-width:inherit!important;overflow-x:hidden!important;text-overflow:clip!important;overflow-y:hidden!important}#analytic[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{max-height:6em;min-height:6em;padding:.3rem;display:flex;justify-content:center;align-items:center}.canvas-class[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border-radius:4px;overflow-x:scroll!important;overflow-y:scroll!important;box-shadow:0 8px 15px #0003}body[_ngcontent-%COMP%]{font-family:sans-serif;padding:50px 100px;text-align:center}h2[_ngcontent-%COMP%]{font-size:16px;margin-bottom:1.5em;color:#333}#canvas-container[_ngcontent-%COMP%]{max-width:100%;max-height:100%;overflow-x:scroll;overflow-y:scroll;position:relative}#container-canvas[_ngcontent-%COMP%]   ng-scrollbar[_ngcontent-%COMP%]{--scrollbar-size: 20px;--scrollbar-thumb-color: rgb(155, 154, 154);--scrollbar-hover-size: 20px;--scrollbar-track-color: rgba(241, 241, 241, 0);--scrollbar-border-radius: 10px;height:200px}#table[_ngcontent-%COMP%]   ng-scrollbar[_ngcontent-%COMP%]{--scrollbar-size: 10px;--scrollbar-thumb-color: rgb(155, 154, 154);--scrollbar-hover-size: 15px;--scrollbar-track-color: rgba(241, 241, 241, 0);--scrollbar-border-radius: 10px;height:200px}drag-scroll[_ngcontent-%COMP%]{width:100%!important;max-width:100vw!important;height:350px!important;display:flex!important;z-index:18!important}.btn-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr}.box-container[_ngcontent-%COMP%]{width:100%;max-width:100%;overflow-x:auto;display:block;transition:all .5s}.box-md[_ngcontent-%COMP%]{display:inline-block;justify-content:center;align-items:center;width:10rem;height:5rem;max-width:100%;overflow:scroll;border:1px solid #ccc;padding:.3rem;margin:.2rem;border-radius:7px}.box-md[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.2rem .5rem!important}.flex[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.CC-container[_ngcontent-%COMP%]{background-color:var(--prime-color);color:#fff;border-radius:5px}.p-menubar-overlay[_ngcontent-%COMP%]{position:absolute;top:50px;right:0}"]}),i})();var hi=f(1795),E=f(3608);let T=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[I.CommonModule,C.Bz,hi.T,E.z,S.m8,C.Bz,E.z,S.m8]}),i})();var Ni=f(4153);const Mi=[{path:"",component:ui}];let ji=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[F.A,C.Bz.forChild(Mi),w.o6,T,Ni.kb,w.o6,T,R.LU,C.Bz]}),i})()}}]);