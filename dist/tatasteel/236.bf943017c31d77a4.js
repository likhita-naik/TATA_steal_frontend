"use strict";(self.webpackChunktatasteel=self.webpackChunktatasteel||[]).push([[236],{1236:(C,p,i)=>{i.r(p),i.d(p,{PanelTypesModule:()=>b});var u=i(9569),c=(i(8621),i(9174)),y=i(6070),e=i(4650);const f=[{path:"",children:[{path:"HTPanel",loadChildren:()=>Promise.all([i.e(805),i.e(795),i.e(783),i.e(629)]).then(i.bind(i,1629)).then(r=>r.HTModule)},{path:"hydraulic",loadChildren:()=>i.e(98).then(i.bind(i,3098)).then(r=>r.HydraulicModule)},{path:"pneumatic",loadChildren:()=>Promise.resolve().then(i.bind(i,6070)).then(r=>y.PneumaticModule)},{path:"uceil",loadChildren:()=>i.e(192).then(i.bind(i,7192)).then(r=>r.UceilModule)},{path:"lt",loadChildren:()=>Promise.all([i.e(805),i.e(795),i.e(783),i.e(672)]).then(i.bind(i,2672)).then(r=>r.LTModule)},{path:"conveyor",loadChildren:()=>Promise.all([i.e(805),i.e(795),i.e(783),i.e(375)]).then(i.bind(i,2375)).then(r=>r.ConveyorModule)}]}];let b=(()=>{class r{}return r.\u0275fac=function(P){return new(P||r)},r.\u0275mod=e.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=e.\u0275\u0275defineInjector({imports:[c.A,u.Bz.forChild(f),u.Bz]}),r})()},6070:(C,p,i)=>{i.r(p),i.d(p,{PneumaticModule:()=>M});var u=i(9569),_=(i(8621),i(9174)),c=i(433),y=i(9646),e=i(4650),f=i(2953),b=i(7445),r=i(2216),g=i(6895);const P=["deleteModal"],x=["NameModal"];function I(l,d){if(1&l&&(e.\u0275\u0275elementStart(0,"div",31)(1,"div",32)(2,"div",33)(3,"h5",34),e.\u0275\u0275text(4,"Job Type"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"h5"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"div",32)(8,"div",33)(9,"h5",34),e.\u0275\u0275text(10,"Job Number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"h5"),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(13,"div",32)(14,"div",33)(15,"h5",34),e.\u0275\u0275text(16,"Camera IP Address"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"h5"),e.\u0275\u0275text(18),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(19,"div",32)(20,"div",33)(21,"h5",34),e.\u0275\u0275text(22,"Camera ID"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"h5"),e.\u0275\u0275text(24),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(25,"div",32)(26,"div",33)(27,"h5",34),e.\u0275\u0275text(28,"Sub Area"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"h5"),e.\u0275\u0275text(30),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(31,"div",32)(32,"div",33)(33,"h5",34),e.\u0275\u0275text(34,"Department"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"h5"),e.\u0275\u0275text(36),e.\u0275\u0275elementEnd()()()()),2&l){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(t.currentData.type?t.currentData.type:"--"),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",t.currentData.jobNo?t.currentData.jobNo:t.currentData.job_no?t.currentData.job_no:"--"," "),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(t.currentData.ip_address?t.currentData.ip_address:"--"),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(t.currentData.camera_id?t.currentData.camera_id:"--"),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(t.currentData.sub_area?t.currentData.sub_area:"--"),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(t.currentData.department?t.currentData.department:"--")}}function R(l,d){1&l&&e.\u0275\u0275element(0,"fa-icon",35)}function S(l,d){1&l&&e.\u0275\u0275element(0,"span",36)}function E(l,d){if(1&l){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",37),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.PanelName())}),e.\u0275\u0275text(1," Confirm Panel "),e.\u0275\u0275elementEnd()}}function N(l,d){if(1&l){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td")(6,"button",38),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).index,o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.isDelete(s))}),e.\u0275\u0275text(7," Delete "),e.\u0275\u0275elementEnd()()()}if(2&l){const t=d.$implicit,a=d.index;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(a+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.panel_id," ")}}function k(l,d){if(1&l){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",23)(1,"div",24)(2,"h4"),e.\u0275\u0275text(3,"Change Panel No"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",39)(5,"form"),e.\u0275\u0275element(6,"input",40),e.\u0275\u0275elementStart(7,"button",41),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(s.close("Cross click"))}),e.\u0275\u0275text(8," cancel "),e.\u0275\u0275elementEnd()()()()}if(2&l){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275property("formControl",t.tempPanelID)}}const w=function(l){return{"is-invalid":l}};function O(l,d){if(1&l){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",23)(1,"div",24)(2,"h4",42),e.\u0275\u0275text(3,"Enter Pneumatic ROI Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",15)(5,"div",43)(6,"input",44),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onChange(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"label",45),e.\u0275\u0275text(8,"Unplanned Job"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(9,"div",39)(10,"form"),e.\u0275\u0275element(11,"input",46),e.\u0275\u0275elementStart(12,"div",47),e.\u0275\u0275text(13," Please enter roi name. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"button",48),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.OnAddingPnueRoi())}),e.\u0275\u0275text(15," Submit "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"button",41),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(s.close("Cross click"))}),e.\u0275\u0275text(17," cancel "),e.\u0275\u0275elementEnd()()()()}if(2&l){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275property("checked",t.unallocatedJobStatus),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(5,w,t.hydroRoiName.invalid&&t.hydroRoiName.touched&&t.hydroRoiName.dirty))("formControl",t.hydroRoiName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",t.hydroRoiName.invalid&&t.hydroRoiName.touched&&t.hydroRoiName.dirty?"invalid-feedback":"visually-hidden"),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",t.hydroRoiName.invalid)}}function A(l,d){if(1&l){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",49)(1,"div",50)(2,"div",51)(3,"div",52)(4,"div",53)(5,"i",54),e.\u0275\u0275text(6,"\ue5cd"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"h4",55),e.\u0275\u0275text(8,"Are you sure?"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",49)(10,"p"),e.\u0275\u0275text(11," Do you really want to delete these ROI? This process cannot be undone. "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",56)(13,"button",57),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(s.close("Cross click"))}),e.\u0275\u0275text(14," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",58),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.DeletePanel())}),e.\u0275\u0275text(16," Delete "),e.\u0275\u0275elementEnd()()()()()}}const T=[{path:"",component:(()=>{class l{constructor(t,a,n,s){this.modalService=t,this.ActiveRoute=a,this.server=n,this.router=s,this.IP="",this.ID="",this.currentArea="",this.currentPlant="",this.hydro_key_id=0,this.isPolygonDrawn=!1,this.pnuematicData=[],this.pneumaticROIData=[],this.loader1=!1,this.ispnuematic=!1,this.newPanelPoints=[],this.allPanelData=[],this.pneu_key_id=0,this.tempPanelID=new c.NI("",c.kI.required),this.hydrolicROIData=[],this.unallocatedJobStatus=!1,this.PanelDataObservable=(0,y.of)([]),this.jobType="",this.isHydrolic=!1,this.isHydroDraw=!1,this.hydroRoiName=new c.NI("",c.kI.required),this.polygonOptions={fill:"rgba(0,0, 0,0)",strokeWidth:2,stroke:"rgb(127, 255, 0)",scaleX:1,scaleY:1,hoverCursor:"crosshair",objectCaching:!1,selectable:!1,transparentCorners:!1,cornerColor:"blue"},this.polygonOptions2={fill:"rgba(0,0,0,0)",strokeWidth:2,stroke:"rgba(15, 227, 242)",scaleX:1,scaleY:1,hoverCursor:"crosshair",objectCaching:!1,selectable:!1,transparentCorners:!1,cornerColor:"blue"},this.IP=this.server.IP,this.ActiveRoute.queryParams.subscribe(o=>{this.currentParams=o,this.ID=o.id,this.imageName=o.image_name,this.currentArea=o.area,this.currentPlant=o.plant,this.jobType=o.type}),"false"==this.currentParams.isNewJob?this.server.GetPanelCameraData(this.ID,this.imageName).subscribe(o=>{console.log(o.message),o.success?(this.PanelData=o.message.data,this.currentData=o.message,console.log(this.imageName),this.PanelDataObservable=(0,y.of)(o.message),this.isPanelData=!0,0!==Object.keys(this.PanelData).length&&this.DrawExistPneuPanels(),console.log(this.PanelData)):(this.PanelData={},this.PanelData.panel_data=[],this.server.notification(o.message,"Retry"))},o=>{this.server.notification("Error while fetching the data","Retry")}):(this.unallocatedJobStatus=!0,this.server.GetNewJobData(this.ID,this.imageName).subscribe(o=>{console.log(o.message),o.success?(this.PanelData=o.message.data,this.currentData=o.message,console.log(this.imageName),this.PanelDataObservable=(0,y.of)(o.message),this.isPanelData=!0,0!==Object.keys(this.PanelData).length&&this.DrawExistPneuPanels()):(this.PanelData={},this.PanelData.panel_data=[],this.server.notification(o.message,"Retry"))},o=>{this.server.notification("Error while fetching the data","Retry")}))}ngOnInit(){}ngAfterViewInit(){this.canvasSetup(),this.canvas.on("mouse:up",t=>{1===t.button&&(null!=t.transform&&"modifyPolygon"!==t.transform.action||(console.log("polygon  is 1creating"),this.isHydroDraw&&(this.isHydroDraw=!1,this.PanelName())))}),this.canvas.on("mouse:down",t=>{console.log(t),1===t.button&&this.ispnuematic&&this.HydroPanelOnMouseDown(t.e)}),this.canvas.on("mouse:move",t=>{this.HydroPanelOnMouseMove(t.e)})}HydroPanelOnMouseDown(t){this.isHydroDraw&&(this.hydroPanel=new fabric.Rect({width:0,height:0,left:t.layerX,top:t.layerY,stroke:"yellow",strokeWidth:3,selectable:!1,objectCaching:!1,fill:null},this.polygonOptions),console.log(this.hydroPanel),this.canvas.add(this.hydroPanel),this.canvas.setActiveObject(this.hydroPanel))}HydroPanelOnMouseMove(t){if(this.isHydroDraw&&this.canvas.getActiveObject()){var a=Math.abs(t.layerX-this.hydroPanel.left),n=Math.abs(t.layerY-this.hydroPanel.top);this.hydroPanel.set("width",a).set("height",n),this.canvas.renderAll()}}AddNewPnueRoi(){this.polygonOptions.stroke="rgb(252, 176, 55)",this.isHydroDraw=!0,this.ispnuematic=!0}SaveEditedChanges(){console.log(this.canvas.getObjects()),console.log(this.allPanelData[this.selectedEditId].panel_id)}PanelName(){this.isPolygonDrawn=!0,this.modalService.open(this.NameModal,{size:"small",centered:!0,backdrop:"static"}).result.then(t=>{this.hydroRoiName.setValue(""),this.hydroRoiName.updateValueAndValidity(),this.hydroRoiName.markAsUntouched(),this.DeleteNewPanel(),this.isHydrolic=!1},t=>{this.isHydrolic=!1,this.hydroRoiName.markAsUntouched()})}onChange(t){console.log(t.target.checked),this.unallocatedJobStatus=!!t.target.checked}OnAddingHydroPanel(){this.modalService.dismissAll(),this.isHydrolic=!1;var t,n,a=this.hydroPanel.aCoords,s=new fabric.Rect({width:this.hydroPanel.width,height:this.hydroPanel.height,left:this.hydroPanel.left,top:this.hydroPanel.top,fill:null,stroke:"yellow",strokeWidth:3,selectable:!1}),o=new fabric.Text(this.hydroRoiName.value,{fontSize:20,backgroundColor:"black",left:s.left,top:s.top-17,fill:"yellow",stroke:"yellow"});this.canvas.add(o),this.canvas.remove(this.hydroPanel),this.canvas.add(s),this.canvas.renderAll(),n=a.tl.x.toString()+";"+a.tl.y.toString()+";"+a.tr.x.toString()+";"+a.tr.y.toString()+";"+a.br.x.toString()+";"+a.br.y.toString()+";"+a.bl.x.toString()+";"+a.bl.y.toString(),console.log(n),t={roi_canvas:s,roi_name_canvas:o,panel_id:this.hydroRoiName.value,points:n,roi_data:{panel_id:this.hydroRoiName.value,isolation_status:null,flasher_status:null,panel_key_id:++this.hydro_key_id,roi_data:{panel_no:this.hydroRoiName.value,bbox:n,panel_key_id:++this.hydro_key_id,unallocated_job_status:!!this.unallocatedJobStatus}}},console.log(this.hydro_key_id),this.hydrolicROIData.push(t),console.log(t),this.hydroRoiName.setValue(null),this.hydroRoiName.updateValueAndValidity(),this.hydroRoiName.reset(),this.hydroRoiName.addValidators(c.kI.required),this.SaveAddedHydroRoi()}SaveAddedHydroRoi(){console.log(this.hydrolicROIData[this.hydrolicROIData.length-1].roi_data),[].push(this.hydrolicROIData[this.hydrolicROIData.length-1].roi_data),console.log(this.selectedEditId);var s=[],o={id:this.ID,image_name:this.imageName,panel_id:this.hydrolicROIData[this.hydrolicROIData.length-1].roi_data.panel_id,panel_key_id:this.hydrolicROIData[this.hydrolicROIData.length-1].roi_data.roi_data.panel_key_id,roi_data:this.hydrolicROIData[this.hydrolicROIData.length-1].roi_data.roi_data};s.push(o),console.log(s),this.server.AddHydraulicROI({data:o}).subscribe(h=>{console.log(h),h.success?this.modalService.dismissAll():(this.canvas.remove(this.hydrolicROIData[this.hydrolicROIData.length-1].roi_canvas),this.canvas.remove(this.hydrolicROIData[this.hydrolicROIData.length-1].roi_name_canvas),this.hydrolicROIData.splice(this.hydrolicROIData.length-1,1),this.hydro_key_id--),this.server.notification(h.message)})}DrawExistPneuPanels(){console.log("drawing existing hydraulic rois"),this.hydro_key_id=0,this.PanelData.pneumatic_data.forEach((t,a)=>{console.log(t);var n=t.bbox.split(";"),s=[];n.forEach((v,j)=>{n[j]=Number(v)}),console.log(n);for(let v=0;v<n.length;v+=2){var o={x:Number(n[v]),y:Number(n[v+1])};s.push(o)}console.log(s);var m=new fabric.Polygon(s,{stroke:"yellow",strokeWidth:3,selectable:!1,fill:null}),h=new fabric.Text(t.panel_no,{fontSize:20,backgroundColor:"black",left:m.left,top:m.top-17,stroke:"yellow",fill:"yellow"});console.log(m),console.log(t,"exist data");var V={roi_name_canvas:h,roi_canvas:m,panel_id:t.panel_no,roi_data:{panel_id:t.panel_no,panel_no:t.panel_no,roi_data:{panel_no:t.panel_no,bbox:t.bbox,panel_key_id:t.panel_key_id,unallocated_job_status:t.unallocated_job_status}}};this.pneu_key_id<t.panel_key_id&&(this.pneu_key_id=t.panel_key_id),console.log(this.pneu_key_id),this.pnuematicData.push(V),this.canvas.add(m),this.canvas.add(h),this.canvas.requestRenderAll()})}canvasSetup(){var t=document.getElementById("canvas-container");console.log(t.clientWidth),this.canvas=new fabric.Canvas("canvasROI",{fireRightClick:!0}),console.log(this.canvas),this.canvas.selection=!1,this.canvas.viewportTransform=[1,0,0,1,0,0],this.canvas.setWidth(t.clientWidth),this.SetCameraImageToCanvas()}SetCameraImageToCanvas(){fabric.Image.fromURL(this.IP+"/get_roi_image/"+this.imageName,t=>{console.log(t.width),console.log(t.height),this.canvas.setWidth(t.width),this.canvas.setHeight(t.height),this.canvas.setBackgroundImage(t,this.canvas.requestRenderAll.bind(this.canvas),{scaleX:this.canvas.width/t.width,scaleY:this.canvas.height/t.height})})}DeletePanel(){console.log(this.jobType,"jobtype"),this.DeletePneuROI(this.selectedEditId)}DeletePneuROI(t){this.selectedEditId=t,this.selectedId=t;var a=this.pnuematicData[t].roi_canvas,n=this.pnuematicData[t].roi_name_canvas;console.log(t),console.log("roi data",this.pnuematicData[this.selectedEditId].roi_data.roi_data);var s={id:this.ID,panel_key_id:this.pnuematicData[this.selectedId].roi_data.roi_data.panel_key_id,imagename:this.imageName};this.server.DeletePneuRoi(s).subscribe(o=>{this.server.notification(o.message),o.success&&(this.pnuematicData.splice(t,1),this.canvas.remove(a),this.canvas.remove(n),window.location.reload())}),console.log(s),this.canvas.renderAll(),this.modalService.dismissAll()}DeleteNewPanel(){this.newPanelPoints.splice(0,this.newPanelPoints.length),this.canvas.remove(this.hydroPanel),this.canvas.renderAll()}isDelete(t){this.selectedEditId=t,this.selectedId=t,this.modalService.open(this.deleteModal)}Back(){window.close()}OnAddingPnueRoi(){var t;this.modalService.dismissAll(),this.ispnuematic=!1;var n,a=this.hydroPanel.aCoords,s=new fabric.Rect({width:this.hydroPanel.width,height:this.hydroPanel.height,left:this.hydroPanel.left,top:this.hydroPanel.top,fill:null,stroke:"yellow",strokeWidth:3,selectable:!1}),o=new fabric.Text(this.hydroRoiName.value,{fontSize:20,backgroundColor:"black",left:s.left,top:s.top-17,fill:"yellow",stroke:"yellow"});this.canvas.add(o),this.canvas.remove(this.hydroPanel),this.canvas.add(s),this.canvas.renderAll(),n=a.tl.x.toString()+";"+a.tl.y.toString()+";"+a.tr.x.toString()+";"+a.tr.y.toString()+";"+a.br.x.toString()+";"+a.br.y.toString()+";"+a.bl.x.toString()+";"+a.bl.y.toString(),console.log(n),t={roi_canvas:s,roi_name_canvas:o,panel_id:this.hydroRoiName.value,points:n,roi_data:{panel_id:this.hydroRoiName.value,isolation_status:null,panel_no:this.hydroRoiName.value,flasher_status:null,roi_data:{panel_no:this.hydroRoiName.value,bbox:n,panel_key_id:++this.pneu_key_id,unallocated_job_status:!!this.unallocatedJobStatus}}},this.pnuematicData.push(t),this.hydroRoiName.setValue(null),this.hydroRoiName.updateValueAndValidity(),this.hydroRoiName.reset(),this.hydroRoiName.addValidators(c.kI.required),console.log(t),this.SaveAddedPnueRoi()}ngOnDestroy(){}SaveAddedPnueRoi(){console.log(this.pnuematicData[this.pnuematicData.length-1].roi_data),[].push(this.pnuematicData[this.pnuematicData.length-1].roi_data),console.log(this.selectedEditId);var s=[],o={id:this.ID,image_name:this.imageName,panel_id:this.pnuematicData[this.pnuematicData.length-1].roi_data.panel_id,panel_key_id:this.pnuematicData[this.pnuematicData.length-1].roi_data.roi_data.panel_key_id,roi_data:this.pnuematicData[this.pnuematicData.length-1].roi_data.roi_data};s.push(o),console.log(s),this.server.AddPnuematicROI({data:o}).subscribe(h=>{console.log(h),h.success?this.modalService.dismissAll():(this.canvas.remove(this.pnuematicData[this.pnuematicData.length-1].roi_canvas),this.canvas.remove(this.pnuematicData[this.pnuematicData.length-1].roi_name_canvas),this.pnuematicData.splice(this.pnuematicData.length-1,1),this.pneu_key_id--),this.server.notification(h.message)},h=>{this.server.notification("Something went wrong","Retry")})}RefetchCameraImage(){this.loader1=!0,this.server.FetchJobCameraImg(this.ID).subscribe(t=>{t.success?(this.imageName=t.message.data.image_name,this.SetCameraImageToCanvas(),this.loader1=!1,this.router.navigate([],{relativeTo:this.ActiveRoute,queryParams:{image_name:this.imageName},queryParamsHandling:"merge"})):(this.loader1=!1,this.server.notification(t.message))},t=>{this.loader1=!1})}}return l.\u0275fac=function(t){return new(t||l)(e.\u0275\u0275directiveInject(f.FF),e.\u0275\u0275directiveInject(u.gz),e.\u0275\u0275directiveInject(b.N),e.\u0275\u0275directiveInject(u.F0))},l.\u0275cmp=e.\u0275\u0275defineComponent({type:l,selectors:[["app-pneumatic"]],viewQuery:function(t,a){if(1&t&&(e.\u0275\u0275viewQuery(P,5),e.\u0275\u0275viewQuery(x,5)),2&t){let n;e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(a.deleteModal=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(a.NameModal=n.first)}},decls:53,vars:5,consts:[[1,"container-fluid","dashboard-content"],[1,"page-header","mb-3"],["class","row mt-2","id","info-card",4,"ngIf"],["id","data-card",1,"card","card-body","mb-2"],[1,"row"],[1,"col-7"],[1,""],[1,"col-12"],[1,"me-2","ms-2","btn","success",2,"width","inherit",3,"click"],["icon","plus",1,"me-1"],[1,"me-2","btn","danger",2,"width","inherit",3,"click"],[1,"btn","default-outline",2,"width","inherit",3,"click"],["icon","arrow-rotate-right","class","me-1",4,"ngIf"],["class","spinner-border spinner-border-sm me-2 text-prime","role","status","aria-hidden","true",4,"ngIf"],[1,"col-5"],[1,"float-end"],[1,"float-end","btn","primary",3,"click"],["class","btn default me-2",3,"click",4,"ngIf"],[1,"col-12","mb-3"],["id","data-card",1,"card","card-body"],["id","canvas-container",1,"d-flex","justify-content-center"],["canvasContainer",""],["id","canvasROI","height","auto","width","auto",1,"canvas-class"],[1,"card"],[1,"card-header"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["panelNameChangeModal",""],["NameModal",""],["deleteModal",""],["id","info-card",1,"row","mt-2"],[1,"col-2"],["id","data-card",1,"card","analytics","card-body"],[1,"text-muted"],["icon","arrow-rotate-right",1,"me-1"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2","text-prime"],[1,"btn","default","me-2",3,"click"],[1,"btn","btn-sm","mr-2","text-danger",3,"click"],[1,"card-body","p-4"],["type","text","id","panel",1,"form-control","mb-3",3,"formControl"],[1,"btn","danger","me-2","float-end",3,"click"],[1,"float-start"],[1,"form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",2,"color","var(--label-color)",3,"checked","change"],["for","flexSwitchCheckDefault",1,"form-check-label"],["type","text","id","panel",1,"form-control","mb-3",3,"ngClass","formControl"],["id","validationServerUsernameFeedback",3,"ngClass"],["type","submit",1,"btn","success","ms-2","float-end",3,"disabled","click"],[1,"modal-body"],[1,"modal-confirm"],[1,"modal-content"],[1,"modal-header","flex-column"],[1,"icon-box"],[1,"material-icons"],[1,"modal-title","w-100"],[1,"modal-footer","justify-content-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","danger",3,"click"]],template:function(t,a){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h2"),e.\u0275\u0275text(3,"Job Settings"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(4,I,37,6,"div",2),e.\u0275\u0275elementStart(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",4)(10,"div",7)(11,"div",4)(12,"button",8),e.\u0275\u0275listener("click",function(){return a.AddNewPnueRoi()}),e.\u0275\u0275element(13,"fa-icon",9),e.\u0275\u0275text(14,"Add ROI "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",10),e.\u0275\u0275listener("click",function(){return a.DeleteNewPanel()}),e.\u0275\u0275text(16," Delete ROI "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"button",11),e.\u0275\u0275listener("click",function(){return a.RefetchCameraImage()}),e.\u0275\u0275template(18,R,1,0,"fa-icon",12),e.\u0275\u0275template(19,S,1,0,"span",13),e.\u0275\u0275text(20," Update Camera Feed Image"),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(21,"div",14)(22,"div",15)(23,"button",16),e.\u0275\u0275listener("click",function(){return a.Back()}),e.\u0275\u0275text(24,"Back"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(25,"div",15),e.\u0275\u0275template(26,E,2,0,"button",17),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(27,"div",18)(28,"div",19)(29,"div",20,21),e.\u0275\u0275element(31,"canvas",22),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(32,"div",23)(33,"div",24)(34,"h5"),e.\u0275\u0275text(35,"Lock Regions"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(36,"table",25)(37,"thead")(38,"tr")(39,"th",26),e.\u0275\u0275text(40,"S.No"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"th",26),e.\u0275\u0275text(42,"Region Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"th"),e.\u0275\u0275text(44,"Settings"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(45,"tbody"),e.\u0275\u0275template(46,N,8,2,"tr",27),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(47,k,9,1,"ng-template",null,28,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(49,O,18,7,"ng-template",null,29,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(51,A,17,0,"ng-template",null,30,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",null!=a.currentData),e.\u0275\u0275advance(14),e.\u0275\u0275property("ngIf",!a.loader1),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.loader1),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",a.ispnuematic&&a.newPanelPoints.length>2),e.\u0275\u0275advance(20),e.\u0275\u0275property("ngForOf",a.pnuematicData))},dependencies:[c._Y,c.Fj,c.JJ,c.JL,c.oH,r.BN,g.NgClass,g.NgForOf,g.NgIf,c.F]}),l})()}];let M=(()=>{class l{}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=e.\u0275\u0275defineInjector({imports:[_.A,u.Bz.forChild(T),u.Bz]}),l})()}}]);