"use strict";(self.webpackChunktatasteel=self.webpackChunktatasteel||[]).push([[322],{8322:(Qt,x,d)=>{d.r(x),d.d(x,{RaViolationsModule:()=>Gt});var v=d(9569),O=d(5861),b=d(529),p=d(433),c=d(9646),y=d(4327),h=d(6948),t=d(4650),S=d(4179),m=d(6895);let k=(()=>{class s{constructor(e,i,n){this.http=e,this.snackbar=i,this.datePipe=n,this.logInterval=0;var a=this.loadConfigFile("assets/config.json");a=JSON.parse(a),this.IP=a.IP,this.logInterval=a.logInterval}loadConfigFile(e){return this.readConfigFile(e,"application/json")}readConfigFile(e,i){var n=new XMLHttpRequest;if(n.open("GET",e,!1),null!=i)return n.overrideMimeType&&n.overrideMimeType(i),n.send(),n.status?n.response:null}dateTransform(e){return this.datePipe.transform(e,"yyyy-MM-dd HH:mm:ss")}LiveRAViolationData(e,i,n,a){return"all_departments"===e&&(e=null),"all_cameras"===i&&(i=null),this.http.get(n&&a&&i&&e?this.IP+"/live_data1RA/"+e+"/"+i+"/"+n+"/"+a:n&&a&&i?this.IP+"/live_data1RA/cameraname/"+i+"/"+n+"/"+a:n&&a&&e?this.IP+"/live_data1RA/department/"+e+"/"+n+"/"+a:n&&a&&!i||n&&a&&!e?this.IP+"/live_data1RA/pagination/"+n+"/"+a:n||a||!i?n||a||!e?n||a||!i?n||a||!e?this.IP+"/live_data1RA":this.IP+"/live_data1RA/department/"+e:this.IP+"/live_data1RA/cameraname/"+i:this.IP+"/live_data1RA/department/"+e:this.IP+"/live_data1RA/cameraname/"+i)}DatewiseRAViolations(e,i,n,a,l,r){var f=this.dateTransform(e),_=this.dateTransform(i);return"all_cameras"===r&&(r=null),"all_departments"===l&&(l="none"),this.http.post(n&&a&&r?this.IP+"/datewiseRA/"+r+"/"+n+"/"+a:n&&a&&l?this.IP+"/datewiseRA/"+l+"/"+n+"/"+a:n&&a&&!r||n&&a&&!l?this.IP+"/datewiseRA/"+n+"/"+a:n||a||!r?n||a||!l?this.IP+"/datewiseRA":this.IP+"/datewiseRA/department"+l:this.IP+"/datewiseRA/"+r,{from_date:f,to_date:_,cameraName:r,department:l})}CreateRAViolationExcel(e){return this.http.post(this.IP+"/create_violation_excelRA",e)}DownloadViolationExcel(){return this.http.get(this.IP+"/violation_excel_download",{observe:"response",responseType:"arraybuffer"})}GetLatestRAData(e,i){return this.http.get(e?this.IP+"/latest_dataRA/"+e:this.IP+"/latest_dataRA"),this.http.get(i?this.IP+"/latest_dataRA/"+i:this.IP+"/latest_dataRA")}GetRACameraDetails(e,i){return null===e&&null===i?this.http.get(this.IP+"/camera_detailsRA"):this.http.post(this.IP+"/camera_detailsRA",{from_date:e,to_date:i})}GetRADepartmentDetails(e,i){return null===e&&null===i?this.http.get(this.IP+"/department_detailsRA"):this.http.post(this.IP+"/department_detailsRA",{from_date:e,to_date:i})}GetViolationList(){return this.http.get(this.IP+"/violation_type_details")}VerifyViolation(e,i){return this.http.get(this.IP+"/violation_verification/"+e+"/"+i)}notification(e,i){this.snackbar.open(e,i||"",{duration:4e3,panelClass:["error"],horizontalPosition:"center",verticalPosition:"bottom"})}DeleteViolationData(e){return this.http.get(this.IP+"/Deleteviolation/"+e)}}return s.\u0275fac=function(e){return new(e||s)(t.\u0275\u0275inject(b.eN),t.\u0275\u0275inject(S.ux),t.\u0275\u0275inject(m.DatePipe))},s.\u0275prov=t.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var I=d(1305),w=d(2953),F=d(2216),V=d(4153),g=d(805),D=d(1795),A=d(982);const R=["itemsContainer"];function N(s,o){1&s&&t.\u0275\u0275elementContainer(0)}function j(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"div",11),t.\u0275\u0275projection(1),t.\u0275\u0275template(2,N,1,0,"ng-container",12),t.\u0275\u0275elementEnd()),2&s){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("ngTemplateOutlet",e.headerTemplate)}}const $=function(s){return{"p-carousel-prev p-link":!0,"p-disabled":s}},Y=function(s,o){return{"p-carousel-prev-icon pi":!0,"pi-chevron-left":s,"pi-chevron-up":o}};function B(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",13),t.\u0275\u0275listener("click",function(n){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.navBackward(n))}),t.\u0275\u0275element(1,"span",2),t.\u0275\u0275elementEnd()}if(2&s){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(3,$,e.isBackwardNavDisabled()))("disabled",e.isBackwardNavDisabled()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(5,Y,!e.isVertical(),e.isVertical()))}}function H(s,o){1&s&&t.\u0275\u0275elementContainer(0)}const M=function(s,o,e){return{"p-carousel-item p-carousel-item-cloned":!0,"p-carousel-item-active":s,"p-carousel-item-start":o,"p-carousel-item-end":e}},C=function(s){return{$implicit:s}};function z(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"div",2),t.\u0275\u0275template(1,H,1,0,"ng-container",14),t.\u0275\u0275elementEnd()),2&s){const e=o.$implicit,i=o.index,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction3(3,M,-1*n.totalShiftedItems===n.value.length,0===i,n.clonedItemsForStarting.length-1===i)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",n.itemTemplate)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(7,C,e))}}function Z(s,o){1&s&&t.\u0275\u0275elementContainer(0)}const G=function(s,o,e){return{"p-carousel-item":!0,"p-carousel-item-active":s,"p-carousel-item-start":o,"p-carousel-item-end":e}};function Q(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"div",2),t.\u0275\u0275template(1,Z,1,0,"ng-container",14),t.\u0275\u0275elementEnd()),2&s){const e=o.$implicit,i=o.index,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction3(3,G,n.firstIndex()<=i&&n.lastIndex()>=i,n.firstIndex()===i,n.lastIndex()===i)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",n.itemTemplate)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(7,C,e))}}function J(s,o){1&s&&t.\u0275\u0275elementContainer(0)}function W(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"div",2),t.\u0275\u0275template(1,J,1,0,"ng-container",14),t.\u0275\u0275elementEnd()),2&s){const e=o.$implicit,i=o.index,n=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction3(3,M,-1*n.totalShiftedItems===n.numVisible,0===i,n.clonedItemsForFinishing.length-1===i)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",n.itemTemplate)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(7,C,e))}}const K=function(s){return{"p-carousel-next p-link":!0,"p-disabled":s}},U=function(s,o){return{"p-carousel-prev-icon pi":!0,"pi-chevron-right":s,"pi-chevron-down":o}};function X(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",13),t.\u0275\u0275listener("click",function(n){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.navForward(n))}),t.\u0275\u0275element(1,"span",2),t.\u0275\u0275elementEnd()}if(2&s){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(3,K,e.isForwardNavDisabled()))("disabled",e.isForwardNavDisabled()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(5,U,!e.isVertical(),e.isVertical()))}}const q=function(s){return{"p-carousel-indicator":!0,"p-highlight":s}};function tt(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"li",2)(1,"button",15),t.\u0275\u0275listener("click",function(n){const l=t.\u0275\u0275restoreView(e).index,r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.onDotClick(n,l))}),t.\u0275\u0275elementEnd()()}if(2&s){const e=o.index,i=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(5,q,i._page===e)),t.\u0275\u0275advance(1),t.\u0275\u0275classMap(i.indicatorStyleClass),t.\u0275\u0275property("ngClass","p-link")("ngStyle",i.indicatorStyle)}}function et(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"ul",0),t.\u0275\u0275template(1,tt,2,7,"li",8),t.\u0275\u0275elementEnd()),2&s){const e=t.\u0275\u0275nextContext();t.\u0275\u0275classMap(e.indicatorsContentClass),t.\u0275\u0275property("ngClass","p-carousel-indicators p-reset")("ngStyle",e.indicatorsContentStyle),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.totalDotsArray())}}function it(s,o){1&s&&t.\u0275\u0275elementContainer(0)}function nt(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"div",16),t.\u0275\u0275projection(1,1),t.\u0275\u0275template(2,it,1,0,"ng-container",12),t.\u0275\u0275elementEnd()),2&s){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("ngTemplateOutlet",e.footerTemplate)}}const st=[[["p-header"]],[["p-footer"]]],at=function(s,o){return{"p-carousel p-component":!0,"p-carousel-vertical":s,"p-carousel-horizontal":o}},ot=function(s){return{height:s}},lt=["p-header","p-footer"];let rt=(()=>{class s{constructor(e,i,n,a,l){this.el=e,this.zone=i,this.cd=n,this.renderer=a,this.document=l,this.orientation="horizontal",this.verticalViewPortHeight="300px",this.contentClass="",this.indicatorsContentClass="",this.indicatorStyleClass="",this.circular=!1,this.showIndicators=!0,this.showNavigators=!0,this.autoplayInterval=0,this.onPage=new t.EventEmitter,this._numVisible=1,this._numScroll=1,this._oldNumScroll=0,this.prevState={numScroll:0,numVisible:0,value:[]},this.defaultNumScroll=1,this.defaultNumVisible=1,this._page=0,this.isRemainingItemsAdded=!1,this.remainingItems=0,this.swipeThreshold=20,this.totalShiftedItems=this.page*this.numScroll*-1}get page(){return this._page}set page(e){this.isCreated&&e!==this._page&&(this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),e>this._page&&e<=this.totalDots()-1?this.step(-1,e):e<this._page&&this.step(1,e)),this._page=e}get numVisible(){return this._numVisible}set numVisible(e){this._numVisible=e}get numScroll(){return this._numVisible}set numScroll(e){this._numScroll=e}get value(){return this._value}set value(e){this._value=e}ngOnChanges(e){e.value&&this.circular&&this._value&&this.setCloneItems(),this.isCreated&&(e.numVisible&&(this.responsiveOptions&&(this.defaultNumVisible=this.numVisible),this.isCircular()&&this.setCloneItems(),this.createStyle(),this.calculatePosition()),e.numScroll&&this.responsiveOptions&&(this.defaultNumScroll=this.numScroll))}ngAfterContentInit(){this.id=(0,A.Th)(),this.allowAutoplay=!!this.autoplayInterval,this.circular&&this.setCloneItems(),this.responsiveOptions&&(this.defaultNumScroll=this._numScroll,this.defaultNumVisible=this._numVisible),this.createStyle(),this.calculatePosition(),this.responsiveOptions&&this.bindDocumentListeners(),this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngAfterContentChecked(){const e=this.isCircular();let i=this.totalShiftedItems;if(this.value&&this.itemsContainer&&(this.prevState.numScroll!==this._numScroll||this.prevState.numVisible!==this._numVisible||this.prevState.value.length!==this.value.length)){this.autoplayInterval&&this.stopAutoplay(),this.remainingItems=(this.value.length-this._numVisible)%this._numScroll;let n=this._page;0!==this.totalDots()&&n>=this.totalDots()&&(n=this.totalDots()-1,this._page=n,this.onPage.emit({page:this.page})),i=n*this._numScroll*-1,e&&(i-=this._numVisible),n===this.totalDots()-1&&this.remainingItems>0?(i+=-1*this.remainingItems+this._numScroll,this.isRemainingItemsAdded=!0):this.isRemainingItemsAdded=!1,i!==this.totalShiftedItems&&(this.totalShiftedItems=i),this._oldNumScroll=this._numScroll,this.prevState.numScroll=this._numScroll,this.prevState.numVisible=this._numVisible,this.prevState.value=[...this._value],this.totalDots()>0&&this.itemsContainer.nativeElement&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${i*(100/this._numVisible)}%, 0)`:`translate3d(${i*(100/this._numVisible)}%, 0, 0)`),this.isCreated=!0,this.autoplayInterval&&this.isAutoplay()&&this.startAutoplay()}e&&(0===this.page?i=-1*this._numVisible:0===i&&(i=-1*this.value.length,this.remainingItems>0&&(this.isRemainingItemsAdded=!0)),i!==this.totalShiftedItems&&(this.totalShiftedItems=i))}createStyle(){this.carouselStyle||(this.carouselStyle=this.renderer.createElement("style"),this.carouselStyle.type="text/css",this.renderer.appendChild(this.document.head,this.carouselStyle));let e=`\n            #${this.id} .p-carousel-item {\n\t\t\t\tflex: 1 0 ${100/this.numVisible}%\n\t\t\t}\n        `;if(this.responsiveOptions){this.responsiveOptions.sort((i,n)=>{const a=i.breakpoint,l=n.breakpoint;let r=null;return r=null==a&&null!=l?-1:null!=a&&null==l?1:null==a&&null==l?0:"string"==typeof a&&"string"==typeof l?a.localeCompare(l,void 0,{numeric:!0}):a<l?-1:a>l?1:0,-1*r});for(let i=0;i<this.responsiveOptions.length;i++){let n=this.responsiveOptions[i];e+=`\n                    @media screen and (max-width: ${n.breakpoint}) {\n                        #${this.id} .p-carousel-item {\n                            flex: 1 0 ${100/n.numVisible}%\n                        }\n                    }\n                `}}this.carouselStyle.innerHTML=e}calculatePosition(){if(this.responsiveOptions){let e={numVisible:this.defaultNumVisible,numScroll:this.defaultNumScroll};if(typeof window<"u"){let i=window.innerWidth;for(let n=0;n<this.responsiveOptions.length;n++){let a=this.responsiveOptions[n];parseInt(a.breakpoint,10)>=i&&(e=a)}}if(this._numScroll!==e.numScroll){let i=this._page;i=Math.floor(i*this._numScroll/e.numScroll);let n=e.numScroll*this.page*-1;this.isCircular()&&(n-=e.numVisible),this.totalShiftedItems=n,this._numScroll=e.numScroll,this._page=i,this.onPage.emit({page:this.page})}this._numVisible!==e.numVisible&&(this._numVisible=e.numVisible,this.setCloneItems()),this.cd.markForCheck()}}setCloneItems(){this.clonedItemsForStarting=[],this.clonedItemsForFinishing=[],this.isCircular()&&(this.clonedItemsForStarting.push(...this.value.slice(-1*this._numVisible)),this.clonedItemsForFinishing.push(...this.value.slice(0,this._numVisible)))}firstIndex(){return this.isCircular()?-1*(this.totalShiftedItems+this.numVisible):-1*this.totalShiftedItems}lastIndex(){return this.firstIndex()+this.numVisible-1}totalDots(){return this.value?Math.ceil((this.value.length-this._numVisible)/this._numScroll)+1:0}totalDotsArray(){const e=this.totalDots();return e<=0?[]:Array(e).fill(0)}isVertical(){return"vertical"===this.orientation}isCircular(){return this.circular&&this.value&&this.value.length>=this.numVisible}isAutoplay(){return this.autoplayInterval&&this.allowAutoplay}isForwardNavDisabled(){return this.isEmpty()||this._page>=this.totalDots()-1&&!this.isCircular()}isBackwardNavDisabled(){return this.isEmpty()||this._page<=0&&!this.isCircular()}isEmpty(){return!this.value||0===this.value.length}navForward(e,i){(this.isCircular()||this._page<this.totalDots()-1)&&this.step(-1,i),this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),e&&e.cancelable&&e.preventDefault()}navBackward(e,i){(this.isCircular()||0!==this._page)&&this.step(1,i),this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),e&&e.cancelable&&e.preventDefault()}onDotClick(e,i){let n=this._page;this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),i>n?this.navForward(e,i):i<n&&this.navBackward(e,i)}step(e,i){let n=this.totalShiftedItems;const a=this.isCircular();null!=i?(n=this._numScroll*i*-1,a&&(n-=this._numVisible),this.isRemainingItemsAdded=!1):(n+=this._numScroll*e,this.isRemainingItemsAdded&&(n+=this.remainingItems-this._numScroll*e,this.isRemainingItemsAdded=!1),i=Math.abs(Math.floor((a?n+this._numVisible:n)/this._numScroll))),a&&this.page===this.totalDots()-1&&-1===e?(n=-1*(this.value.length+this._numVisible),i=0):a&&0===this.page&&1===e?(n=0,i=this.totalDots()-1):i===this.totalDots()-1&&this.remainingItems>0&&(n+=-1*this.remainingItems-this._numScroll*e,this.isRemainingItemsAdded=!0),this.itemsContainer&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${n*(100/this._numVisible)}%, 0)`:`translate3d(${n*(100/this._numVisible)}%, 0, 0)`,this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this.totalShiftedItems=n,this._page=i,this.onPage.emit({page:this.page})}startAutoplay(){this.interval=setInterval(()=>{this.totalDots()>0&&(this.page===this.totalDots()-1?this.step(-1,0):this.step(-1,this.page+1))},this.autoplayInterval)}stopAutoplay(){this.interval&&clearInterval(this.interval)}onTransitionEnd(){this.itemsContainer&&(this.itemsContainer.nativeElement.style.transition="",(0===this.page||this.page===this.totalDots()-1)&&this.isCircular()&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${this.totalShiftedItems*(100/this._numVisible)}%, 0)`:`translate3d(${this.totalShiftedItems*(100/this._numVisible)}%, 0, 0)`))}onTouchStart(e){let i=e.changedTouches[0];this.startPos={x:i.pageX,y:i.pageY}}onTouchMove(e){e.cancelable&&e.preventDefault()}onTouchEnd(e){let i=e.changedTouches[0];this.isVertical()?this.changePageOnTouch(e,i.pageY-this.startPos.y):this.changePageOnTouch(e,i.pageX-this.startPos.x)}changePageOnTouch(e,i){Math.abs(i)>this.swipeThreshold&&(i<0?this.navForward(e):this.navBackward(e))}bindDocumentListeners(){!this.documentResizeListener&&typeof window<"u"&&(this.documentResizeListener=e=>{this.calculatePosition()},window.addEventListener("resize",this.documentResizeListener))}unbindDocumentListeners(){this.documentResizeListener&&typeof window<"u"&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}ngOnDestroy(){this.responsiveOptions&&this.unbindDocumentListeners(),this.autoplayInterval&&this.stopAutoplay()}}return s.\u0275fac=function(e){return new(e||s)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.NgZone),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(t.Renderer2),t.\u0275\u0275directiveInject(m.DOCUMENT))},s.\u0275cmp=t.\u0275\u0275defineComponent({type:s,selectors:[["p-carousel"]],contentQueries:function(e,i,n){if(1&e&&(t.\u0275\u0275contentQuery(n,g.h4,5),t.\u0275\u0275contentQuery(n,g.$_,5),t.\u0275\u0275contentQuery(n,g.jx,4)),2&e){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(i.headerFacet=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(i.footerFacet=a.first),t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(i.templates=a)}},viewQuery:function(e,i){if(1&e&&t.\u0275\u0275viewQuery(R,5),2&e){let n;t.\u0275\u0275queryRefresh(n=t.\u0275\u0275loadQuery())&&(i.itemsContainer=n.first)}},hostAttrs:[1,"p-element"],inputs:{page:"page",numVisible:"numVisible",numScroll:"numScroll",responsiveOptions:"responsiveOptions",orientation:"orientation",verticalViewPortHeight:"verticalViewPortHeight",contentClass:"contentClass",indicatorsContentClass:"indicatorsContentClass",indicatorsContentStyle:"indicatorsContentStyle",indicatorStyleClass:"indicatorStyleClass",indicatorStyle:"indicatorStyle",value:"value",circular:"circular",showIndicators:"showIndicators",showNavigators:"showNavigators",autoplayInterval:"autoplayInterval",style:"style",styleClass:"styleClass"},outputs:{onPage:"onPage"},features:[t.\u0275\u0275NgOnChangesFeature],ngContentSelectors:lt,decls:14,vars:22,consts:[[3,"ngClass","ngStyle"],["class","p-carousel-header",4,"ngIf"],[3,"ngClass"],[1,"p-carousel-container"],["type","button","pRipple","",3,"ngClass","disabled","click",4,"ngIf"],[1,"p-carousel-items-content",3,"ngStyle"],[1,"p-carousel-items-container",3,"transitionend","touchend","touchstart","touchmove"],["itemsContainer",""],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-carousel-footer",4,"ngIf"],[1,"p-carousel-header"],[4,"ngTemplateOutlet"],["type","button","pRipple","",3,"ngClass","disabled","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",3,"ngClass","ngStyle","click"],[1,"p-carousel-footer"]],template:function(e,i){1&e&&(t.\u0275\u0275projectionDef(st),t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,j,3,1,"div",1),t.\u0275\u0275elementStart(2,"div",2)(3,"div",3),t.\u0275\u0275template(4,B,2,8,"button",4),t.\u0275\u0275elementStart(5,"div",5)(6,"div",6,7),t.\u0275\u0275listener("transitionend",function(){return i.onTransitionEnd()})("touchend",function(a){return i.onTouchEnd(a)})("touchstart",function(a){return i.onTouchStart(a)})("touchmove",function(a){return i.onTouchMove(a)}),t.\u0275\u0275template(8,z,2,9,"div",8),t.\u0275\u0275template(9,Q,2,9,"div",8),t.\u0275\u0275template(10,W,2,9,"div",8),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(11,X,2,8,"button",4),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(12,et,2,5,"ul",9),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(13,nt,3,1,"div",10),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275classMap(i.styleClass),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(17,at,i.isVertical(),!i.isVertical()))("ngStyle",i.style),t.\u0275\u0275attribute("id",i.id),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.headerFacet||i.headerTemplate),t.\u0275\u0275advance(1),t.\u0275\u0275classMap(i.contentClass),t.\u0275\u0275property("ngClass","p-carousel-content"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",i.showNavigators),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(20,ot,i.isVertical()?i.verticalViewPortHeight:"auto")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",i.clonedItemsForStarting),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",i.value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",i.clonedItemsForFinishing),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.showNavigators),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.showIndicators),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.footerFacet||i.footerTemplate))},dependencies:[m.NgClass,m.NgForOf,m.NgIf,m.NgTemplateOutlet,m.NgStyle,D.H],styles:[".p-carousel{display:flex;flex-direction:column}.p-carousel-content{display:flex;flex-direction:column;overflow:auto}.p-carousel-prev,.p-carousel-next{align-self:center;flex-grow:0;flex-shrink:0;display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-carousel-container{display:flex;flex-direction:row}.p-carousel-items-content{overflow:hidden;width:100%}.p-carousel-items-container{display:flex;flex-direction:row}.p-carousel-indicators{display:flex;flex-direction:row;justify-content:center;flex-wrap:wrap}.p-carousel-indicator>button{display:flex;align-items:center;justify-content:center}.p-carousel-vertical .p-carousel-container{flex-direction:column}.p-carousel-vertical .p-carousel-items-container{flex-direction:column;height:100%}.p-items-hidden .p-carousel-item{visibility:hidden}.p-items-hidden .p-carousel-item.p-carousel-item-active{visibility:visible}\n"],encapsulation:2,changeDetection:0}),s})(),ct=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=t.\u0275\u0275defineInjector({imports:[m.CommonModule,g.m8,D.T,m.CommonModule,g.m8]}),s})();var T=d(1954),E=d(64),dt=d(1968);function mt(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",51),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n.ResetFilters())}),t.\u0275\u0275text(1," \xd7Cancel Filters "),t.\u0275\u0275elementEnd()}}function ht(s,o){1&s&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,"Submit"),t.\u0275\u0275elementEnd())}function pt(s,o){1&s&&t.\u0275\u0275element(0,"span",52)}function ut(s,o){1&s&&t.\u0275\u0275element(0,"fa-icon",53)}function gt(s,o){1&s&&t.\u0275\u0275element(0,"span",54)}function ft(s,o){1&s&&t.\u0275\u0275element(0,"fa-icon",57)}function _t(s,o){1&s&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1," Live "),t.\u0275\u0275elementEnd())}function vt(s,o){1&s&&t.\u0275\u0275element(0,"span",52)}function bt(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",55),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n.BackToToday())}),t.\u0275\u0275template(1,ft,1,0,"fa-icon",56),t.\u0275\u0275template(2,_t,2,0,"span",23),t.\u0275\u0275template(3,vt,1,0,"span",24),t.\u0275\u0275elementEnd()}if(2&s){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.loader2),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.loader2),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.loader2)}}function Ct(s,o){1&s&&t.\u0275\u0275element(0,"span",61)}function xt(s,o){1&s&&t.\u0275\u0275element(0,"fa-icon",62)}function yt(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",58),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n.getLatestData())}),t.\u0275\u0275template(1,Ct,1,0,"span",59),t.\u0275\u0275template(2,xt,1,0,"fa-icon",60),t.\u0275\u0275text(3,"Latest "),t.\u0275\u0275elementEnd()}if(2&s){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.loaderLatest),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.loaderLatest)}}function St(s,o){1&s&&(t.\u0275\u0275elementStart(0,"span",63),t.\u0275\u0275element(1,"span",64),t.\u0275\u0275text(2,"Live Data "),t.\u0275\u0275elementEnd())}function It(s,o){1&s&&(t.\u0275\u0275elementStart(0,"span",65)(1,"b"),t.\u0275\u0275text(2,"Show:"),t.\u0275\u0275elementEnd()())}function wt(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"select",66),t.\u0275\u0275listener("ngModelChange",function(n){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.pageSize=n)})("ngModelChange",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n.sliceVD())}),t.\u0275\u0275elementStart(1,"option",67),t.\u0275\u0275text(2,"30 items per page"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"option",68),t.\u0275\u0275text(4,"40 items per page"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"option",69),t.\u0275\u0275text(6,"50 items per page"),t.\u0275\u0275elementEnd()()}if(2&s){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngModel",e.pageSize)}}function Vt(s,o){1&s&&(t.\u0275\u0275elementStart(0,"div",44)(1,"div")(2,"b"),t.\u0275\u0275text(3,"Is Valid?"),t.\u0275\u0275elementEnd()()())}function Dt(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",88),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(a.imageCarousal(n))}),t.\u0275\u0275text(1," \xa0\xa0 "),t.\u0275\u0275element(2,"fa-icon",89),t.\u0275\u0275text(3," More Images "),t.\u0275\u0275elementEnd()}}function Mt(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"div",90)(1,"div",76)(2,"div",91),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd()()()),2&s){const e=o.$implicit,i=o.index,n=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("ngClass",i!=n.object_data.length-1?"border-bottom":""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",e.violation_count," ")}}function Tt(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"div",94)(2,"input",95),t.\u0275\u0275listener("change",function(n){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2).$implicit,l=t.\u0275\u0275nextContext(2).$implicit,r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.VerifyTrueViol(n,a,l.SNo))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"label",96),t.\u0275\u0275text(4,"Yes "),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"div",97)(6,"input",95),t.\u0275\u0275listener("change",function(n){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2).$implicit,l=t.\u0275\u0275nextContext(2).$implicit,r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.VerifyFalseViol(n,a,l.SNo))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"label",98),t.\u0275\u0275text(8,"No "),t.\u0275\u0275elementEnd()()()}if(2&s){const e=t.\u0275\u0275nextContext(2).$implicit,i=t.\u0275\u0275nextContext(2).$implicit,n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275property("value",0)("defaultValue",!0)("id","yes"+n.String(i.SNo)+n.String(e.id)),t.\u0275\u0275advance(1),t.\u0275\u0275property("for","yes"+n.String(i.SNo)+n.String(e.id)),t.\u0275\u0275advance(3),t.\u0275\u0275property("value",1)("defaultValue",!1)("id","no"+n.String(i.SNo)+n.String(e.id)),t.\u0275\u0275advance(1),t.\u0275\u0275property("for","no"+n.String(i.SNo)+n.String(e.id))}}function Et(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"div",94)(2,"input",99),t.\u0275\u0275listener("change",function(n){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(3).$implicit,l=t.\u0275\u0275nextContext(2).$implicit,r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.VerifyTrueViol(n,a,l.SNo))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"label",96),t.\u0275\u0275text(4,"Yes "),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"div",97)(6,"input",99),t.\u0275\u0275listener("change",function(n){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(3).$implicit,l=t.\u0275\u0275nextContext(2).$implicit,r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.VerifyFalseViol(n,a,l.SNo))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"label",98),t.\u0275\u0275text(8,"No "),t.\u0275\u0275elementEnd()()()}if(2&s){const e=t.\u0275\u0275nextContext(3).$implicit,i=t.\u0275\u0275nextContext(2).$implicit,n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275property("value",0)("defaultValue",!0)("id","yes"+n.String(i.SNo)+n.String(e.id))("defaultChecked",!0===e.violation_status),t.\u0275\u0275advance(1),t.\u0275\u0275property("for","yes"+n.String(i.SNo)+n.String(e.id)),t.\u0275\u0275advance(3),t.\u0275\u0275property("value",1)("defaultValue",!1)("id","no"+n.String(i.SNo)+n.String(e.id))("defaultChecked",!1===e.violation_status),t.\u0275\u0275advance(1),t.\u0275\u0275property("for","no"+n.String(i.SNo)+n.String(e.id))}}function Pt(s,o){if(1&s&&t.\u0275\u0275template(0,Et,9,10,"div",23),2&s){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275property("ngIf",e.violation_verificaton_status)}}function Lt(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"div",92),t.\u0275\u0275template(1,Tt,9,8,"div",46),t.\u0275\u0275template(2,Pt,1,1,"ng-template",null,93,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()),2&s){const e=t.\u0275\u0275reference(3),i=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!i.violation_verificaton_status)("ngIfElse",e)}}function Ot(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",74)(1,"div",75),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"div",76)(4,"div",77)(5,"img",78),t.\u0275\u0275listener("click",function(){const a=t.\u0275\u0275restoreView(e).$implicit,l=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(l.imageCarousal(a))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(6,"br"),t.\u0275\u0275elementStart(7,"div",77),t.\u0275\u0275template(8,Dt,4,0,"button",79),t.\u0275\u0275elementStart(9,"button",80),t.\u0275\u0275listener("click",function(){const a=t.\u0275\u0275restoreView(e).$implicit,l=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(l.downloadImage(l.API+"/image/"+a.imagename))}),t.\u0275\u0275text(10," Download Image "),t.\u0275\u0275element(11,"fa-icon",53),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(12,"div",76)(13,"div",81)(14,"ng-scrollbar",82,83),t.\u0275\u0275template(16,Mt,4,2,"div",84),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(17,"div",76),t.\u0275\u0275text(18),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(19,"div",76),t.\u0275\u0275text(20),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(21,"div",76),t.\u0275\u0275text(22),t.\u0275\u0275pipe(23,"dateFormater"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(24,"div",76)(25,"div",77),t.\u0275\u0275template(26,Lt,4,2,"div",85),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(27,"div",76)(28,"div")(29,"div",86),t.\u0275\u0275listener("click",function(){const a=t.\u0275\u0275restoreView(e).$implicit,l=t.\u0275\u0275nextContext(4),r=t.\u0275\u0275reference(90);return t.\u0275\u0275resetView(l.IsDeleteData(r,a))}),t.\u0275\u0275element(30,"fa-icon",87),t.\u0275\u0275elementEnd()()()()}if(2&s){const e=o.$implicit,i=t.\u0275\u0275nextContext(2).$implicit,n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate2(" ",i.SNo,".",e.id," "),t.\u0275\u0275advance(3),t.\u0275\u0275property("src",n.API+"/image/"+e.imagename[0],t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",e.imagename.length<1),t.\u0275\u0275advance(6),t.\u0275\u0275property("autoHeightDisabled",!0)("disabled",!1),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.object_data),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",e.department?e.department:"null"," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",e.camera_name?e.camera_name:"null"," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(23,11,e.timestamp)," "),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",n.isEditTable)}}function kt(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"div")(1,"p-carousel",72),t.\u0275\u0275template(2,Ot,31,13,"ng-template",73),t.\u0275\u0275elementEnd()()),2&s){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("value",e.data.reverse())("id",e.SNo)}}function Ft(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"div",71),t.\u0275\u0275template(1,kt,3,2,"div",23),t.\u0275\u0275elementEnd()),2&s){const e=o.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.data)}}function At(s,o){if(1&s&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Ft,2,1,"div",70),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275elementContainerEnd()),2&s){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(2,2,e.violData))("ngForTrackBy",e.trackByFn)}}function Rt(s,o){1&s&&(t.\u0275\u0275elementStart(0,"div",76)(1,"h4"),t.\u0275\u0275text(2,"Violation Details are Not Found."),t.\u0275\u0275elementEnd()())}function Nt(s,o){1&s&&(t.\u0275\u0275elementStart(0,"div",76),t.\u0275\u0275element(1,"span",102),t.\u0275\u0275elementStart(2,"h4"),t.\u0275\u0275text(3,"Loading..."),t.\u0275\u0275elementEnd()())}function jt(s,o){1&s&&(t.\u0275\u0275elementStart(0,"div",76)(1,"h4"),t.\u0275\u0275text(2,"Loading..."),t.\u0275\u0275elementEnd()())}function $t(s,o){1&s&&(t.\u0275\u0275elementStart(0,"div",76)(1,"h4"),t.\u0275\u0275text(2,"Error While Fetching the Data."),t.\u0275\u0275elementEnd()())}function Yt(s,o){if(1&s&&(t.\u0275\u0275elementStart(0,"div",100),t.\u0275\u0275template(1,Rt,3,0,"div",101),t.\u0275\u0275template(2,Nt,4,0,"div",101),t.\u0275\u0275template(3,jt,3,0,"div",101),t.\u0275\u0275template(4,$t,3,0,"div",101),t.\u0275\u0275elementEnd()),2&s){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","success"===e.dataFetchStatus),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","init"===e.dataFetchStatus),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","Loading"===e.dataFetchStatus),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","Error"===e.dataFetchStatus)}}function Bt(s,o){if(1&s){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",103)(1,"div",104)(2,"div",105)(3,"div",106)(4,"div",107)(5,"i",108),t.\u0275\u0275text(6,"\ue5cd"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"h4",109),t.\u0275\u0275text(8,"Are you sure?"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"div",103)(10,"p"),t.\u0275\u0275text(11," Do you really want to delete this violation Details? This process cannot be undone. "),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(12,"div",110)(13,"button",111),t.\u0275\u0275listener("click",function(){const a=t.\u0275\u0275restoreView(e).$implicit;return t.\u0275\u0275resetView(a.close("Cross click"))}),t.\u0275\u0275text(14," Cancel "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"button",112),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n.DeleteViolationData())}),t.\u0275\u0275text(16," Delete "),t.\u0275\u0275elementEnd()()()()()}}const P=function(){return{width:"inherit"}},L=function(){return{standalone:!0}};let Ht=(()=>{class s{constructor(e,i,n,a,l,r,f,_,u){this.http=e,this.webServer=i,this.datepipe=n,this._lightbox=a,this._lightBoxConfig=l,this.router=r,this.snackbar=f,this.modalService=_,this.Router=u,this.data=[],this.String=String,this.activeIndex=0,this.isalert=!1,this.dataFetchStatus="init",this.tempdata=[],this.page=1,this.pageSize=30,this.cameraDetails=[],this.audioOff=!1,this.alertmessage="",this.total=(0,c.of)(0),this.violData=(0,c.of)([]),this.loading=!1,this.excelLoader=!1,this.violLength=0,this.updatedLen=0,this.violdata=[],this.show1=30,this.show2=40,this.show3=50,this.fromDate=new Date,this.toDate=new Date,this.isdatewise=!1,this.loader2=!1,this.Excel=!1,this.isExcel=!1,this.excelLoad=!1,this.alert=!0,this.imageData=[],this.prevLiveCount=0,this.objectKeys=Object.keys,this.isdate=!1,this.selectedCameraId=null,this.selectedDepartment=null,this.dropdownList=(0,c.of)([]),this.dropdownList1=(0,c.of)([]),this.fromDateControl=new p.NI((new Date).getTime(),p.kI.required),this.toDateControl=new p.NI(new Date,p.kI.required),this.Images=[],this.selectedItems=null,this.selectedItems1=null,this.violationTypeList=(0,c.of)([{key:"0",label:"All Violations",icon:"pi",data:"all_violations"}]),this.loaderLatest=!1,this.isLatest=!1,this.latest=!1,this.isEditTable=!0,this.violationsList=[],this.ranges={Today:[(0,h.Z)().hour(0).minute(0).second(0),(0,h.Z)()],Yesterday:[(0,h.Z)().subtract(1,"days").hour(0).minute(0).second(0),(0,h.Z)().subtract(1,"days")],"Last 7 Days":[(0,h.Z)().subtract(6,"days").hour(0).minute(0).second(0),(0,h.Z)()],"Last 30 Days":[(0,h.Z)().subtract(29,"days").hour(0).minute(0).second(0),(0,h.Z)()],"This Month":[(0,h.Z)().startOf("month").hour(0).minute(0).second(0),(0,h.Z)().endOf("month")],"Last Month":[(0,h.Z)().subtract(1,"month").startOf("month").hour(0).minute(0).second(0),(0,h.Z)().subtract(1,"month").endOf("month")]},this.selectedMoments=null,this.delay=this.webServer.logInterval,this.API=i.IP,this.ExcelRange=0,this.getCameraList(),this.getDepartmentList(),this._lightBoxConfig.showDownloadButton=!1,this._lightBoxConfig.showZoom=!0,this._lightBoxConfig.showImageNumberLabel=!0,this._lightBoxConfig.fitImageInViewPort=!0,this._lightBoxConfig.disableScrolling=!1,this._lightBoxConfig.centerVertically=!1}ngOnInit(){var e=this.webServer.dateTransform(new Date)+" 00:00:00",i=this.webServer.dateTransform(new Date)+" 23:59:59";this.fromDateControl.setValue(e),this.toDateControl.setValue(i),this.dropdownSettings2={singleSelection:!0,idField:"item_id",textField:"item_text",itemsShowLimit:1,allowSearchFilter:!0,closeDropDownOnSelection:!0,noDataAvailablePlaceholderText:"No violation types detected",maxHeight:197},this.violLength=Number(localStorage.getItem("updatedLen")),(!this.latest||!this.isLatest)&&this.webServer.LiveRAViolationData().subscribe(n=>{n.success?(this.tempdata=n.message,this.total=(0,c.of)(this.tempdata.length),this.violData=(0,c.of)(n.message),this.sliceVD(),this.prevLiveCount=n.now_live_count,this.imageData=n.message,Number(localStorage.setItem("updatedLen",n.message.length?n.message.length:0))):(this.dataFetchStatus="success",this.notification(n.message))},n=>{this.dataFetchStatus="Error",this.notification("Error While fetching the data")})}ngAfterViewInit(){this.dataread()}openDatePicker(e){document.getElementById("dateInput").click()}dataread(){this.interval=setInterval(()=>{this.isdate||(Number(localStorage.getItem("updatedLen"))&&(this.violLength=Number(localStorage.getItem("updatedLen"))),this.Subsciption=this.webServer.LiveRAViolationData(this.selectedCameraId,this.selectedDepartment).subscribe(e=>{if(e.success&&!this.isdate&&!this.latest){var i={...e},n=[...e.message];localStorage.setItem("updatedLen",JSON.stringify(n.length)),Number(localStorage.getItem("updatedLen")),i.now_live_count-i.prevLiveCount>0&&(this.prevLiveCount=i.now_live_count,this.imageData=e.message,this.tempdata=e.message,this.total=(0,c.of)(this.violdata.length),this.loader2=!1,this.isdatewise=!1,this.violData=(0,c.of)(e.message),this.sliceVD(),this.violdata=e.message)}},e=>{this.dataFetchStatus="Error"}))},this.delay)}notification(e,i){this.snackbar.open(e,i||"",{duration:4e3,panelClass:["error"],horizontalPosition:"end",verticalPosition:"bottom"})}sliceVD(){if(this.isdate||(this.tempdata.forEach((i,n)=>{this.tempdata[n].data=i.data.map((a,l)=>({...a,id:l+1}))}),this.total=(0,c.of)(this.tempdata.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize).length),this.total=(0,c.of)(this.tempdata.length),this.violData=(0,c.of)(this.tempdata.map(i=>({...i})).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize))),this.isdate){var e=document.getElementById("dataTable");e?.classList.add("loading"),this.webServer.DatewiseRAViolations(this.fromDate,this.toDate,this.page,this.pageSize,this.selectedDepartment?this.selectedDepartment:null,this.selectedCameraId?this.selectedCameraId:null).subscribe(i=>{i.success&&(e?.classList.remove("loading"),0===i.message.length&&this.notification("No violations found"),this.tempdata=i.message,this.tempdata.forEach((n,a)=>{this.tempdata[a].data=n.data.map((l,r)=>({...l,id:r+1}))}),this.violData=(0,c.of)(this.tempdata))})}}trackByFn(e,i){return i.SNo}Submit(){console.log("submit function"),this.dataFetchStatus="Loading",this.isLatest=!1,this.selectedCameraId=this.selectedItems?this.selectedItems.data:null,this.selectedDepartment=this.selectedItems1?this.selectedItems1.data:null,this.Images=[],this.fromDate=this.selectedMoments.startDate.format("YYYY-MM-DD HH:mm:ss"),this.toDate=this.selectedMoments.endDate.format("YYYY-MM-DD HH:mm:ss"),this.getCameraList(),this.getDepartmentList(),this.Subsciption&&this.Subsciption.unsubscribe();var e=document.getElementById("dataTable");e?.classList.add("loading"),this.pageSize=30,this.page=1,this.isdate=!0,this.loading=!0,this.webServer.DatewiseRAViolations(this.fromDate,this.toDate,null,null,this.selectedDepartment?this.selectedDepartment:null,this.selectedCameraId?this.selectedCameraId:null).subscribe(i=>{i.success?(0==i.message.length&&(this.tempdata=[],this.violData=(0,c.of)([]),this.loading=!1,this.loader2=!1,this.isdatewise=!0,this.total=(0,c.of)(0),e?.classList.remove("loading"),this.notification("No violations found for entered date and time")),i.message.length>0&&(this.imageData=i.message,this.total=(0,c.of)(i.message.length),this.webServer.DatewiseRAViolations(this.fromDate,this.toDate,this.page,this.pageSize,this.selectedDepartment?this.selectedDepartment:null,this.selectedCameraId?this.selectedCameraId:null).subscribe(n=>{this.loading=!1,n.success&&(this.dataFetchStatus="success",e?.classList.remove("loading"),0===n.message.length?(this.dataFetchStatus="success",this.notification("No violations found"),this.violData=(0,c.of)([]),this.tempdata=[],this.isdatewise=!0,this.loading=!1):(this.tempdata=n.message,this.isdatewise=!0,this.sliceVD(),this.loading=!1))},n=>{this.loading=!1,this.dataFetchStatus="Error",this.notification("Error while fetching the data")}))):(this.tempdata=[],this.violData=(0,c.of)([]),this.loading=!1,this.isdatewise=!0,this.total=(0,c.of)(0),e?.classList.remove("loading"),e?.classList.remove("loading"),this.dataFetchStatus="success",this.notification("No violations found"),this.loading=!1)},i=>{this.loading=!1})}BackToToday(){this.selectedMoments=null,this.selectedItems=null,this.selectedItems1=null,this.page=1,this.Images=[],this.latest=!1,this.tempdata=[],this.total=(0,c.of)(0);var e=document.getElementById("dataTable");e?.classList.add("loading"),this.loader2=!0,this.isdate=!1,this.tempdata=[],this.total=(0,c.of)(0),this.webServer.LiveRAViolationData().subscribe(i=>{if(i){this.isLatest=!1,e?.classList.remove("loading"),this.imageData=i.message,this.total=(0,c.of)(i.message.length),i.success||(this.notification(i.message),this.dataFetchStatus="success");var n=i.message;this.tempdata=i.success?i.message:[],this.sliceVD(),this.loader2=!1,this.isdatewise=!1,localStorage.setItem("updatedLen",JSON.stringify(n.length)),Number(localStorage.getItem("updatedLen"))}},i=>{this.loader2=!1}),this.dataread()}dateTransform(e){const i=new Date(e.year,e.month-1,e.day);return this.datepipe.transform(i,"dd/MM/yyyy")}ResetFilters(){this.selectedMoments=null,this.selectedItems=null,this.selectedItems1=null,this.isdatewise=!1,this.dataFetchStatus="Loading",this.BackToToday()}onCameraIdSelect(e){this.isdatewise||(this.page=1),this.selectedCameraId=this.selectedItems.data,this.Submit()}onDepartmentIdSelect(e){this.isdatewise||(this.page=1),this.selectedDepartment=this.selectedItems1.data,this.Submit()}imageCarousal(e){this.Images=[],e.imagename.forEach((i,n)=>{this.Images[n]={src:this.API+"/image/"+i,thumb:this.API+"/image/"+i,caption:i}}),this.open(0)}open(e){this._lightbox.open(this.Images,e)}close(){this._lightbox.close()}submitForm(){var e=this;return(0,O.Z)(function*(){e.isalert=!1,e.excelLoad=!0,e.isExcel=!1,e.selectedCameraId=e.selectedItems?e.selectedItems.data:null,e.selectedDepartment=e.selectedItems1?e.selectedItems1.data:null;var i={from_date:e.selectedMoments.startDate.format("YYYY-MM-DD HH:mm:ss"),to_date:e.selectedMoments.endDate.format("YYYY-MM-DD HH:mm:ss"),cameraname:e.selectedItems?"all_cameras"==e.selectedItems.data?null:e.selectedItems.data:null,department:e.selectedItems1?"all_departments"==e.selectedItems1.data?null:e.selectedItems1.data:null};e.webServer.CreateRAViolationExcel(i).subscribe(n=>{n.success?e.webServer.DownloadViolationExcel().subscribe(a=>{const r=new Blob([a.body],{type:".xlsx"});var f="violation report "+e.datepipe.transform(new Date,"YYYY_MM_dd_h_mm_ss")+".xlsx";new File([r],f,{type:".xlsx"}),(0,y.saveAs)(r,f),e.excelLoad=!1,e.isExcel=!0},a=>{e.excelLoader=!1}):(e.notification(n.message,"Retry"),e.excelLoad=!1,e.isExcel=!1,e.alertmessage=n.message,e.isalert=!0)},n=>{e.excelLoad=!1,e.isExcel=!1,e.alertmessage="Error while creating excel",e.notification(e.alertmessage,"Retry"),e.isalert=!0})})()}GetViolationLength(e,i,n,a){var l;return this.excelLoader=!0,this.webServer.DatewiseRAViolations(e,i,null,null,a||null,n||null).subscribe(r=>{r.success&&(l=r.message.length)}),l}settings(){this.router.navigate(["app/Settings"])}alertSound(){let e=new Audio;e.src="../../../assets/audio/alert.mp3",e.load(),e.play()}volumeToggle(){this.alert?(this.audioOff=!this.audioOff,localStorage.setItem("audioOff",this.audioOff?"true":"false")):(this.audioOff=!0,localStorage.setItem("audioOff","true"))}alertToggle(){this.alert=!this.alert,localStorage.setItem("alert",this.alert?"true":"false"),this.alert||(this.audioOff=!0,localStorage.setItem("alert","false"),localStorage.setItem("audioOff","true"))}getLatestData(){this.loader2=!1,this.loaderLatest=!0,this.latest=!0;var e=document.getElementById("dataTable");e?.classList.add("loading"),this.webServer.GetLatestRAData(this.selectedCameraId,this.selectedDepartment).subscribe(i=>{i.success?(this.isLatest=!0,e?.classList.remove("loading"),this.loaderLatest=!1,this.imageData=i.message,this.tempdata=i.message,this.tempdata=i.message,this.total=(0,c.of)(i.message.length),this.violData=(0,c.of)(i.message),this.sliceVD()):(this.violData=(0,c.of)([]),this.total=(0,c.of)(0),this.tempdata=[],this.loaderLatest=!1,e?.classList.remove("loading"),this.notification(i.message))},i=>{this.loaderLatest=!1,e?.classList.remove("loading"),this.notification("Error While fetching the data","Retry")})}downloadImage(e){const i=e,a=(new b.WM({responseType:"blob"}),i.substr(i.lastIndexOf("/")+1));this.http.get(i,{responseType:"blob"}).subscribe(l=>{(0,y.saveAs)(l,a)},l=>{})}getCameraList(){var e=[],i=[];console.log(this.fromDate,"this date is from the raviolations"),console.log(this.selectedMoments,"this is from the raviolations"),e[0]={key:"0",label:"All Cameras",data:"all_cameras"},this.webServer.GetRACameraDetails(null!==this.selectedMoments?this.selectedMoments.startDate.format("YYYY-MM-DD HH:mm:ss"):null,null!==this.selectedMoments?this.selectedMoments.endDate.format("YYYY-MM-DD HH:mm:ss"):null).subscribe(n=>{!0===n.success&&(n.message.forEach((a,l)=>{i.push({cameraid:l,cameraname:a})}),(i=i.filter((a,l,r)=>l===r.indexOf(a))).forEach((a,l)=>{var r;r={key:(l+1).toString(),label:a.cameraname,data:a.cameraname},e.push(r)}),this.dropdownList=(0,c.of)(e))})}getDepartmentList(){var e=[],i=[];console.log(this.fromDate,"this date is from the raviolations"),console.log(this.selectedMoments,"this is from the raviolations"),e[0]={key:"0",label:"All Departments",data:"all_departments"},this.webServer.GetRADepartmentDetails(null!==this.selectedMoments?this.selectedMoments.startDate.format("YYYY-MM-DD HH:mm:ss"):null,null!==this.selectedMoments?this.selectedMoments.endDate.format("YYYY-MM-DD HH:mm:ss"):null).subscribe(n=>{!0===n.success&&(n.message.forEach((a,l)=>{i.push({departmentid:l,department:a})}),(i=i.filter((a,l,r)=>l===r.indexOf(a))).forEach((a,l)=>{var r;r={key:(l+1).toString(),label:a.department,data:a.department},e.push(r)}),this.dropdownList1=(0,c.of)(e))})}getViolationTypes(){var i=[];this.violationsList[0]={key:"0",label:"All Violations",data:"all_violations"},this.webServer.GetViolationList().subscribe(n=>{n.success&&(n.message.forEach(a=>{i.push(a)}),i.forEach((a,l)=>{var r;r={key:(l+1).toString(),icon:"pi",label:a,data:a},this.violationsList.push(r)}),this.violationTypeList=(0,c.of)(this.violationsList))})}SelectViol(e,i){this.editViol=e,this.modalService.open(i,{size:"xl",centered:!0})}VerifyTrueViol(e,i,n){this.editViol=i,console.log(i),console.log(n),this.webServer.VerifyViolation(this.editViol._id.$oid,!0).subscribe(a=>{this.webServer.notification(a.message),a.success&&(this.modalService.dismissAll(),this.isdatewise&&this.sliceVD()),this.isdatewise||this.GetViolationData()},a=>{this.webServer.notification("Error while the  Process","Retry")})}VerifyFalseViol(e,i,n){console.log(n),this.editViol=i,this.webServer.VerifyViolation(this.editViol._id.$oid,!1).subscribe(a=>{this.webServer.notification(a.message),a.success&&(this.modalService.dismissAll(),this.isdatewise&&this.sliceVD()),this.isdatewise||this.GetViolationData()},a=>{this.webServer.notification("Error while the  Process","Retry")})}GetViolationData(){var e=document.getElementById("content");e?.classList.add("loading"),(!this.latest||!this.isLatest)&&this.webServer.LiveRAViolationData().subscribe(i=>{i.success?(e?.classList.remove("loading"),this.imageData=i.message,this.tempdata=i.message,Number(localStorage.setItem("updatedLen",i.message.length?i.message.length:0)),this.tempdata=i.message,this.total=(0,c.of)(this.tempdata.length),this.violData=(0,c.of)(i.message),this.sliceVD()):(e?.classList.remove("loading"),this.notification(i.message))},i=>{e?.classList.remove("loading"),this.notification("Error While fetching the data")})}IsDeleteData(e,i){this.selectedViolation=i,this.modalService.open(e,{centered:!0})}DeleteViolationData(){this.webServer.DeleteViolationData(this.selectedViolation._id.$oid).subscribe(e=>{e.success?(this.modalService.dismissAll(),this.webServer.notification(e.message),this.RefreshViolationData()):(this.modalService.dismissAll(),this.webServer.notification(e.message,"Retry"))},e=>{this.webServer.notification("Error while the process","Retry")})}RefreshViolationData(){if(this.isdatewise||this.isLatest)if(this.isdatewise&&!this.isLatest){var e;(e=document.getElementById("dataTable"))?.classList.add("loading"),this.pageSize=30,this.page=1,this.webServer.DatewiseRAViolations(this.fromDate,this.toDate,null,null,this.selectedDepartment?this.selectedDepartment:null,this.selectedCameraId?this.selectedCameraId:null).subscribe(n=>{this.dataFetchStatus="success",n.success?(0==n.message.length&&(this.tempdata=[],this.violData=(0,c.of)([]),this.total=(0,c.of)(0),e?.classList.remove("loading"),this.notification("No violations found for entered date and time")),n.message.length>0&&(this.imageData=n.message,this.total=(0,c.of)(n.message.length),this.webServer.DatewiseRAViolations(this.fromDate,this.toDate,this.page,this.pageSize,this.selectedDepartment?this.selectedDepartment:null,this.selectedCameraId?this.selectedCameraId:null).subscribe(a=>{a.success&&(e?.classList.remove("loading"),0===a.message.length?(this.notification("No violations found"),this.violData=(0,c.of)([])):(this.tempdata=a.message,this.violData=(0,c.of)(this.tempdata),this.sliceVD()))},a=>{this.dataFetchStatus="Error",this.notification("Error while fetching the data")}))):(this.tempdata=[],this.violData=(0,c.of)([]),this.total=(0,c.of)(0),e?.classList.remove("loading"),e?.classList.remove("loading"),this.notification("No violations found"))},n=>{})}else(this.isLatest||this.latest)&&this.getLatestData();else(e=document.getElementById("dataTable"))?.classList.add("loading"),this.webServer.LiveRAViolationData().subscribe(i=>{this.latest||(e.classList.remove("loading"),!0!==i.success)||(this.imageData=i.message,this.tempdata=i.message,this.total=(0,c.of)(this.violdata.length),this.violData=(0,c.of)(i.message),this.sliceVD(),this.violdata=i.message,this.tempdata.length>0&&(this.Excel=!0),this.sliceVD())},i=>{e.classList.remove("loading")})}ngOnDestroy(){this.modalService.dismissAll(),clearInterval(this.interval),this.isalert=!1}}return s.\u0275fac=function(e){return new(e||s)(t.\u0275\u0275directiveInject(b.eN),t.\u0275\u0275directiveInject(k),t.\u0275\u0275directiveInject(m.DatePipe),t.\u0275\u0275directiveInject(I.ey),t.\u0275\u0275directiveInject(I.xm),t.\u0275\u0275directiveInject(v.F0),t.\u0275\u0275directiveInject(S.ux),t.\u0275\u0275directiveInject(w.FF),t.\u0275\u0275directiveInject(v.F0))},s.\u0275cmp=t.\u0275\u0275defineComponent({type:s,selectors:[["app-ra-violations"]],decls:91,vars:46,consts:[["id","content",1,"container-fluid","dashboard-content"],[1,""],[1,"row"],["id","data-card",1,"d-flex","flex-row","card",2,"border-radius","7px !important"],[1,"me-3"],[1,"container","p-3"],["icon","filter"],[1,"col-xl-12","col-lg-12","col-md-12","col-xs-12","col-sm-12","mb-2"],[1,"row","d-flex","align-items-center"],[1,"col-xl-2","col-lg-2","col-md-4","col-xs-12","col-sm-12"],[1,"datePickerContainer",3,"click"],[1,"w-80"],["type","text","ngxDaterangepickerMd","","placeholder","Select Date","required","","id","dateInput","autocomplete","off",1,"form-control",3,"showCustomRangeLabel","ranges","timePicker","ngModel","change","ngModelChange"],["datepicker",""],[1,"input-group-append"],["type","button",1,"ngx-daterangepicker-action","btn","default"],["icon","calendar",1,"ngx-daterangepicker-action",3,"click"],["id","filter",1,"col-xl-2","col-lg-2","col-md-4","col-xs-12","col-sm-12"],["placeholder","Select Department",1,"w-100","d-flex",3,"containerStyleClass","ngModel","ngModelOptions","options","ngModelChange","onNodeSelect"],["placeholder","Select Camera",1,"w-100","d-flex",3,"containerStyleClass","ngModel","ngModelOptions","options","ngModelChange","onNodeSelect"],[1,"col-xl-4","col-sm-12","col-lg-12","col-xs-12","col-md-12","d-flex","align-items-center"],["class","btn default-outline ms-3 me-3",3,"click",4,"ngIf"],[1,"btn","default","text-white","me-3","ms-1",2,"width","80px",3,"disabled","click"],[4,"ngIf"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["type","submit",1,"btn","default","text-white","me-3",3,"disabled","click"],["icon","download","class","ms-1 me-1","style","cursor: pointer",4,"ngIf"],["class","spinner-border spinner-border-sm me-1","role","status","aria-hidden","true",4,"ngIf"],["class","btn default text-white","style","width: 100px",3,"click",4,"ngIf"],[1,"row","me-3","ms-3"],[1,"col-12"],["id","data-card",1,"card"],[1,"mb-2"],[1,"form-group"],["class","btn default me-2 text-white float-start",3,"click",4,"ngIf"],[1,"float-end","ms-2","mt-2","me-2"],["class","float-end",4,"ngIf"],[1,"d-flex","justify-content-end","p-1"],["class","mr-2 mt-2",4,"ngIf"],["class","custom-select col-2","style","width: auto",3,"ngModel","ngModelChange",4,"ngIf"],["id","dataTable"],[1,"data-container",2,"width","100%","overflow","auto"],[1,"header",2,"overflow","auto"],["scope","col",1,"d-flex","align-items-center","justify-centent-center"],["scope","col",1,"d-flex","justify-content-center","align-items-center"],["class","d-flex justify-content-center align-items-center","scope","col",4,"ngIf"],[4,"ngIf","ngIfElse"],["noData",""],[1,"d-flex","mx-auto","justify-content-center","p-1"],[2,"width","95vw","overflow-x","auto",3,"collectionSize","page","pageSize","pageChange"],["deleteModal",""],[1,"btn","default-outline","ms-3","me-3",3,"click"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["icon","download",1,"ms-1","me-1",2,"cursor","pointer"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-1"],[1,"btn","default","text-white",2,"width","100px",3,"click"],["icon","chart-area","class","text-white me-2",4,"ngIf"],["icon","chart-area",1,"text-white","me-2"],[1,"btn","default","me-2","text-white","float-start",3,"click"],["class","spinner-border spinner-border-sm me-2 ms-2","role","status","aria-hidden","true",4,"ngIf"],["icon","filter","class","ms-1 me-2 text-white","style","cursor: pointer",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2","ms-2"],["icon","filter",1,"ms-1","me-2","text-white",2,"cursor","pointer"],[1,"float-end"],["role","status","aria-hidden","true",1,"spinner-grow","spinner-grow-sm","me-2","text-danger"],[1,"mr-2","mt-2"],[1,"custom-select","col-2",2,"width","auto",3,"ngModel","ngModelChange"],["ngValue","30"],["ngValue","40"],["ngValue","50"],["style","text-align: center",4,"ngFor","ngForOf","ngForTrackBy"],[2,"text-align","center"],[3,"value","id"],["pTemplate","d"],[1,"data-wrapper","p-2"],[1,"column-flex",2,"padding-left","0.5rem"],[1,"d-flex","justify-content-center","align-items-center"],[1,"column-flex"],["loading","lazy",1,"image",3,"src","click"],["class","btn btn-sm mt-2",3,"click",4,"ngIf"],[1,"btn","btn-sm","default","text-white","mt-2",3,"click"],[1,"violation_data_container"],["track","vertical","pointerEventsMethod","scrollbar",2,"height","8rem !important",3,"autoHeightDisabled","disabled"],["scrollable",""],["class","d-flex justify-content-center align-items-center",3,"ngClass",4,"ngFor","ngForOf"],["id","verify","style","width: 5rem","class","d-flex justify-content-center align-items-center",4,"ngIf"],[1,"btn",3,"click"],["icon","trash",1,"text-danger"],[1,"btn","btn-sm","mt-2",3,"click"],["icon","images",1,"mr-1"],[1,"d-flex","justify-content-center","align-items-center",3,"ngClass"],[1,"d-flex","justify-content-center","align-items-center","mb-3"],["id","verify",1,"d-flex","justify-content-center","align-items-center",2,"width","5rem"],["verified",""],["id","right",1,""],["type","radio",1,"",3,"value","defaultValue","id","change"],[1,"form-check-label","text-success",3,"for"],["id","wrong",1,""],[1,"form-check-label","text-danger",3,"for"],["type","radio",1,"",3,"value","defaultValue","id","defaultChecked","change"],["id","data-card",1,"row","card","card-body"],["class","d-flex justify-content-center align-items-center",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"modal-body"],[1,"modal-confirm"],[1,"modal-content"],[1,"modal-header","flex-column"],[1,"icon-box"],[1,"material-icons"],[1,"modal-title","w-100"],[1,"modal-footer","justify-content-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","danger",3,"click"]],template:function(e,i){if(1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h5"),t.\u0275\u0275text(3,"Danger Zone Violations"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"br"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",2)(6,"div",1)(7,"div",3)(8,"div",4)(9,"div",5),t.\u0275\u0275element(10,"fa-icon",6),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(11,"div",7)(12,"div",8)(13,"span",9)(14,"div",10),t.\u0275\u0275listener("click",function(a){return i.openDatePicker(a)}),t.\u0275\u0275elementStart(15,"div",11)(16,"input",12,13),t.\u0275\u0275listener("change",function(){return i.Submit()})("ngModelChange",function(a){return i.selectedMoments=a}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(18,"div",14)(19,"button",15)(20,"fa-icon",16),t.\u0275\u0275listener("click",function(a){return i.openDatePicker(a)}),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(21,"div",17)(22,"p-treeSelect",18),t.\u0275\u0275listener("ngModelChange",function(a){return i.selectedItems1=a})("onNodeSelect",function(a){return i.onDepartmentIdSelect(a)}),t.\u0275\u0275pipe(23,"async"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(24,"div",17)(25,"p-treeSelect",19),t.\u0275\u0275listener("ngModelChange",function(a){return i.selectedItems=a})("onNodeSelect",function(a){return i.onCameraIdSelect(a)}),t.\u0275\u0275pipe(26,"async"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(27,"div",20),t.\u0275\u0275template(28,mt,2,0,"button",21),t.\u0275\u0275elementStart(29,"button",22),t.\u0275\u0275listener("click",function(){return i.Submit()}),t.\u0275\u0275template(30,ht,2,0,"span",23),t.\u0275\u0275template(31,pt,1,0,"span",24),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(32,"\xa0 "),t.\u0275\u0275elementStart(33,"button",25),t.\u0275\u0275listener("click",function(){return i.submitForm()}),t.\u0275\u0275template(34,ut,1,0,"fa-icon",26),t.\u0275\u0275template(35,gt,1,0,"span",27),t.\u0275\u0275text(36," Excel"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(37,"\xa0 "),t.\u0275\u0275elementStart(38,"div",1),t.\u0275\u0275template(39,bt,4,3,"button",28),t.\u0275\u0275elementEnd()()()()()()(),t.\u0275\u0275elementStart(40,"div",29)(41,"div",30)(42,"div",31)(43,"div",32)(44,"div",33)(45,"div",1),t.\u0275\u0275template(46,yt,4,2,"button",34),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(47,"span",35),t.\u0275\u0275template(48,St,3,0,"span",36),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(49,"span",37),t.\u0275\u0275template(50,It,3,0,"span",38),t.\u0275\u0275template(51,wt,7,1,"select",39),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(52,"div",40)(53,"div",41)(54,"div",1)(55,"div",42)(56,"div",43)(57,"div")(58,"b"),t.\u0275\u0275text(59,"SNo."),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(60,"div",44)(61,"div")(62,"b"),t.\u0275\u0275text(63,"Violation Image"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(64,"div",44)(65,"div")(66,"b"),t.\u0275\u0275text(67,"Violation Details"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(68,"div",44)(69,"div")(70,"b"),t.\u0275\u0275text(71," Department "),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(72,"div",44)(73,"div")(74,"b"),t.\u0275\u0275text(75,"Camera Name"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(76,"div",44)(77,"div")(78,"b"),t.\u0275\u0275text(79,"Detected Time"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(80,Vt,4,0,"div",45),t.\u0275\u0275element(81,"div"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(82,At,3,4,"ng-container",46),t.\u0275\u0275pipe(83,"async"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(84,Yt,5,4,"ng-template",null,47,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementStart(86,"div",48)(87,"ngb-pagination",49),t.\u0275\u0275listener("pageChange",function(a){return i.page=a})("pageChange",function(){return i.sliceVD()}),t.\u0275\u0275pipe(88,"async"),t.\u0275\u0275elementEnd()()()()()()()(),t.\u0275\u0275template(89,Bt,17,0,"ng-template",null,50,t.\u0275\u0275templateRefExtractor)),2&e){const n=t.\u0275\u0275reference(85);t.\u0275\u0275advance(16),t.\u0275\u0275property("showCustomRangeLabel",!0)("ranges",i.ranges)("timePicker",!0)("ngModel",i.selectedMoments),t.\u0275\u0275advance(6),t.\u0275\u0275styleMap(t.\u0275\u0275pureFunction0(42,P)),t.\u0275\u0275property("containerStyleClass","w-100")("ngModel",i.selectedItems1)("ngModelOptions",t.\u0275\u0275pureFunction0(43,L))("options",t.\u0275\u0275pipeBind1(23,34,i.dropdownList1)),t.\u0275\u0275advance(3),t.\u0275\u0275styleMap(t.\u0275\u0275pureFunction0(44,P)),t.\u0275\u0275property("containerStyleClass","w-100")("ngModel",i.selectedItems)("ngModelOptions",t.\u0275\u0275pureFunction0(45,L))("options",t.\u0275\u0275pipeBind1(26,36,i.dropdownList)),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",null!==i.selectedItems||null!==(null==i.selectedMoments?null:i.selectedMoments.startDate)||null!==i.selectedItems1),t.\u0275\u0275advance(1),t.\u0275\u0275property("disabled",null===i.selectedMoments||null===i.selectedMoments.startDate||null===i.selectedMoments.endDate),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!i.loading),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.loading),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",null==i.selectedMoments||null===i.selectedMoments.startDate||null===i.selectedMoments.endDate||i.excelLoad),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!i.excelLoad),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.excelLoad),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",i.isdatewise||i.isLatest),t.\u0275\u0275advance(7),t.\u0275\u0275property("ngIf",!i.isdatewise),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!(i.isdatewise||i.isLatest)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",i.isdatewise),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.isdatewise),t.\u0275\u0275advance(29),t.\u0275\u0275property("ngIf",i.isEditTable),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(83,38,i.violData).length>0)("ngIfElse",n),t.\u0275\u0275advance(5),t.\u0275\u0275property("collectionSize",t.\u0275\u0275pipeBind1(88,40,i.total))("page",i.page)("pageSize",i.pageSize)}},dependencies:[p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.Q7,F.BN,m.NgClass,m.NgForOf,m.NgIf,p.On,w.N9,V.KC,rt,g.jx,T.SP,E.mP,dt.J,m.AsyncPipe],styles:['.image[_ngcontent-%COMP%]{margin-left:0;margin-right:0;height:174px;width:330px;object-fit:cover;border-radius:5px!important}.violation_data_container[_ngcontent-%COMP%]{justify-content:center!important;align-items:center!important;max-height:8rem!important;width:100%!important;max-width:100%!important;padding:.2rem!important}.task-input[_ngcontent-%COMP%]{padding:0 25px;position:relative}.task-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:5px 35px 5px 5px;height:40px}.datePickerContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.datePickerContainer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important}input[_ngcontent-%COMP%]{width:100%}.img[_ngcontent-%COMP%]{height:20px;width:20px}.task-input[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{top:50%;position:absolute;transform:translate(170px,-50%)}input[type=checkbox][_ngcontent-%COMP%]{display:block;height:30px;order:4;top:5px;outline:none;counter-increment:undone-items}input[_ngcontent-%COMP%]:checked{pointer-events:none;order:2;counter-increment:done-items}label[_ngcontent-%COMP%]{pointer-events:none;display:block;position:relative;padding:15px 10px 15px 0;border-top:1px dashed #fff;order:4;cursor:pointer;animation:undone .5s}label[_ngcontent-%COMP%]:before{content:"\\f10c";display:block;position:absolute;margin-right:10px;margin-left:10px}input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{order:2;animation:done .5s}input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{margin-left:3px;margin-right:2rem!important;color:#cc1d1d;content:"\\2713"}input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before{margin-left:3px;margin-right:2rem!important;color:#cc1d1d;content:"\\2716"}#editViol[_ngcontent-%COMP%]{text-align:center;align-content:center}td[_ngcontent-%COMP%]{text-align:center!important;align-content:center!important}input[type=radio][_ngcontent-%COMP%]{visibility:hidden;margin:0 0 -53px -9999px}#verify[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{pointer-events:all;display:block;position:relative;border-top:1px dashed #fff;order:4;cursor:pointer;animation:undone .5s;margin-left:10px!important}#verify[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:before{content:"\\25ef";display:block;position:absolute;margin-right:10px!important;right:2rem;font-weight:500;color:#c9c9c9}#verify[_ngcontent-%COMP%]   #right[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{font-size:larger;font-family:700;color:#1dc41d;content:"\\2713"}.w-full[_ngcontent-%COMP%]{width:inherit!important;color:#000!important}.container[_ngcontent-%COMP%]{position:relative;background-color:#fff!important;opacity:1;padding:5px;border-radius:10px;border:1px solid #ccc;display:flex;height:2.9em;justify-content:space-between;align-items:center;box-shadow:5px 5px 8px #5e68794d!important}.data-container[_ngcontent-%COMP%]{display:block;width:100%}.data-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:auto;display:grid;box-sizing:border-box;margin-left:3%;margin-right:3%;padding-right:1%!important;padding-left:1%!important;padding-top:1rem!important;padding-bottom:1rem!important;grid-template-columns:3% 30% 12% 12% 15% 15% 10% 3%;border:var(--border);border-radius:7px;margin-bottom:.5rem!important;margin-top:.5rem!important}.data-container[_ngcontent-%COMP%]   .data-wrapper[_ngcontent-%COMP%]{box-sizing:border-box;width:inherit;display:grid;padding-top:.5rem!important;padding-bottom:.5rem!important;margin-bottom:1rem!important;overflow-wrap:break-word;border:var(--border);border-radius:10px;grid-template-columns:3% 30% 12% 12% 15% 15% 10% 3%}ngb-pagination[_ngcontent-%COMP%]     ul>li:not(.active)>a{background-color:#f8f8f8!important;border-radius:5px!important;color:var(--label-color)!important;box-shadow:none}ngb-pagination[_ngcontent-%COMP%]     ul>li.active>a{background-color:var(--label-color)!important;border-radius:5px!important;border:1px solid var(--label-color)!important;box-shadow:none}#verify[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{pointer-events:all;display:block;position:relative;border-top:1px dashed #fff;order:4;cursor:pointer;animation:undone .5s}#verify[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:before{content:"\\25ef";display:block;position:absolute;font-weight:500;color:#c9c9c9;right:2rem}#verify[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{order:2;animation:done .5s}#verify[_ngcontent-%COMP%]   #wrong[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{font-size:larger;font-family:500;color:#cc1d1d;content:"\\2713"}#verify[_ngcontent-%COMP%]   #right[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{font-size:larger;font-family:500;color:#1dc41d;content:"\\2713"}input[type=radio][_ngcontent-%COMP%]{visibility:hidden}#custome[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{visibility:visible}td[_ngcontent-%COMP%]{text-align:center!important;vertical-align:middle!important;align-content:center!important}']}),s})();var zt=d(9174);const Zt=[{path:"",component:Ht}];let Gt=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=t.\u0275\u0275defineInjector({imports:[zt.A,V.kb,ct,T.n1,E.o6,v.Bz.forChild(Zt)]}),s})()}}]);